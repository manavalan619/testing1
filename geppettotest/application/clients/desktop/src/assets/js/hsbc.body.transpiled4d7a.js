webpackJsonp([0],[,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trackEvent=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=n(0),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={page_name:a.getName,page_name_en:a.getName,page_url:window.utag_data?window.utag_data.page_url:""};return i({},t,e)},s=t.trackEvent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r(e);return window.TMS?window.TMS.trackEvent(t):console.log("TMS Track Event",t),t};t.default={trackEvent:s}},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),s=i(r),o=n(7),l=i(o),u=n(45),c=n(5),h=i(c),d=(0,u.getCookieNotifcation)(),f=document.querySelector("header.header"),p=document.querySelector(".share-price"),v=document.querySelector(".breadcrumb-wrapper"),m=document.querySelector("main"),g=document.querySelector("footer.footer"),y=document.getElementById("pop-ups"),b=document.querySelector(".popups__overlay"),w=[{name:"cookie-banner",element:d,removable:!0},{name:"share-price-bar",element:p},{name:"header",element:f},{name:"breadcrumb",element:v},{name:"main",element:m},{name:"footer",element:g},{name:"popups",element:y}],k=function(){return(y?[].concat(a(y.children)):[]).filter(function(e){return!e.classList.contains("popups__overlay")}).filter(function(e){return"block"===getComputedStyle(e,null).display||"flex"===getComputedStyle(e,null).display})},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1];if("string"==typeof e&&(e=[e]),t||!(k().length>0)){var n=function(e,t){return e.setAttribute("aria-hidden",!!t)},i=function(e,t){return e.style.display=t},a=function(e){return i(e,"none")},r=function(e){return i(e,"")};w.map(function(t){return{isExcluded:e.includes(t.name),element:t.element,removable:t.removable}}).filter(function(e){return e.element}).forEach(function(e){var i=e.isExcluded,s=e.element,o=e.removable,l=i^t;n(s,l),o&&(l?a(s):r(s))}),s.default.small.matches&&function(e,t,n){e.classList[n?"add":"remove"](t)}(b,"popups__overlay--beneath-header",e.includes("header"))}},E=function(e){return _(e,!0)},S=function(e){return _(e,!1)},C=function(){return _([],!1)},L=function(){y.classList.add("is-dimmed")},A=function(){y.classList.remove("is-dimmed")},T=function(e){e=e||[].concat(a(document.querySelectorAll("[data-original-tabindex]"))),e.forEach(function(e){var t=e.attributes["data-original-tabindex"];if(t){var n=t.value;""==n?e.removeAttribute("tabindex"):e.setAttribute("tabindex",n),e.removeAttribute("data-original-tabindex")}});var t=new h.default("FOCUS_RESTORED");document.dispatchEvent(t)},x=function(e,t){var n=e instanceof HTMLElement?e:t.closest(e),i=[].concat(a(n.querySelectorAll("*"))),r=[].concat(a(document.querySelector("body").querySelectorAll("*"))).filter(function(e){return i.indexOf(e)<0});return r.map(function(e){e.setAttribute("data-original-tabindex",e.tabindex||""),e.setAttribute("tabindex",-1)}),function(){return T(r)}},P=void 0,O=void 0,I=function(e,t){return function(n){(e?(0,l.default)(n.keyCode,["tab"])&&n.shiftKey:(0,l.default)(n.keyCode,["tab"])&&!n.shiftKey)&&(n.preventDefault(),t.focus())}},M=function(e,t){P=I(!1,e),t.addEventListener("keydown",P),O=I(!0,t),e.addEventListener("keydown",O)},B=function(e,t){t.removeEventListener("keydown",P),e.removeEventListener("keydown",O)},D=void 0,N=[],H=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;D=function(i){i.target.closest(t)||("function"==typeof n?n(i):e.close.call(e))},N.push(D),setTimeout(function(){window.addEventListener("click",D),window.addEventListener("touchstart",D)},2)},R=function(){N.forEach(function(e){window.removeEventListener("click",e),window.removeEventListener("touchstart",e)})},q=void 0,F=[],j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;q=function(n){(0,l.default)(n.keyCode,["escape"])&&("function"==typeof t?t(n):e&&e.close&&e.close())},F.push(q),window.addEventListener("keydown",q)},V=function(){F.forEach(function(e){window.removeEventListener("keydown",e)})};t.default={popups:y,hideAllBut:E,showAllBut:S,toggleAllBut:_,showAll:C,showDim:L,hideDim:A,restrictFocus:x,allowFocus:T,tabToFrom:M,removeTabToFrom:B,clickOutsideAndClose:H,removeClickOutsideAndClose:R,closeOnEscapeKeydown:j,removeCloseOnEscapeKeydown:V,getOpenPopups:k,FOCUS_RESTORED:"FOCUS_RESTORED"}},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return"string"==typeof t&&(t=[t]),!!t.map(function(e){return s[e]}).filter(function(t){return t===e}).length}Object.defineProperty(t,"__esModule",{value:!0});var r;t.default=a;var s=(r={break:3,backspace:8,delete:8,tab:9,clear:12,enter:13,shift:16,ctrl:17,alt:18,"caps-lock":20,escape:27,spacebar:32,"page-up":33,"page-down":34,end:35,home:36,"left-arrow":37,"up-arrow":38,"right-arrow":39,"down-arrow":40,select:41,"print-screen":44,insert:45},i(r,"delete",46),i(r,"0",48),i(r,"1",49),i(r,"2",50),i(r,"3",51),i(r,"4",52),i(r,"5",53),i(r,"6",54),i(r,"7",55),i(r,"8",56),i(r,"9",57),i(r,":",58),i(r,"semicolon",59),i(r,"equals",59),i(r,"<",60),i(r,"equals",61),i(r,"ß",63),i(r,"@",64),i(r,"a",65),i(r,"b",66),i(r,"c",67),i(r,"d",68),i(r,"e",69),i(r,"f",70),i(r,"g",71),i(r,"h",72),i(r,"i",73),i(r,"j",74),i(r,"k",75),i(r,"l",76),i(r,"m",77),i(r,"n",78),i(r,"o",79),i(r,"p",80),i(r,"q",81),i(r,"r",82),i(r,"s",83),i(r,"t",84),i(r,"u",85),i(r,"v",86),i(r,"w",87),i(r,"x",88),i(r,"y",89),i(r,"z",90),i(r,"numpad-0",96),i(r,"numpad-1",97),i(r,"numpad-2",98),i(r,"numpad-3",99),i(r,"numpad-4",100),i(r,"numpad-5",101),i(r,"numpad-6",102),i(r,"numpad-7",103),i(r,"numpad-8",104),i(r,"numpad-9",105),i(r,"f1",112),i(r,"f2",113),i(r,"f3",114),i(r,"f4",115),i(r,"f5",116),i(r,"f6",117),i(r,"f7",118),i(r,"f8",119),i(r,"f9",120),i(r,"f10",121),i(r,"^",160),i(r,"!",161),i(r,"#",163),i(r,"$",164),i(r,"ù",165),i(r,"*",170),i(r,"semi-colon",186),i(r,"ñ",186),i(r,"equal-sign",187),i(r,"comma",188),i(r,"dash",189),i(r,"period",190),i(r,"forward-slash",191),i(r,"ç",191),i(r,"grave-accent",192),i(r,"ñ",192),i(r,"æ",192),i(r,"?",193),i(r,"/",193),i(r,"°",193),i(r,"numpad-period",194),i(r,"open-bracket",219),i(r,"back-slash",220),i(r,"close-bracket",221),i(r,"å",221),i(r,"single-quote",222),i(r,"ø",222),i(r,"`",223),i(r,"altgr",225),r)},,,,,function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.addOpensInNewWindowSuffix=t.makeScreenReaderOnlySuffixer=t.announceServerAlert=t.ANNOUNCER=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(0),o=n(88),l=t.ANNOUNCER="a11y-announcer",u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.className,n=void 0===t?l:t,i=e.politeness;return'\n    <div\n        aria-atomic="true"\n        aria-live="'+(void 0===i?"polite":i)+'"\n        class="'+n+'"\n    ></div>\n'},c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"polite";a(this,e),this.mountingElement=t,this.state={text:""},this.announcer=(0,s.toElement)(u({politeness:n})),this.unmounter=null}return r(e,[{key:"announce",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;console.log("Announcer:",t);var i=function(n){return function(){e.unmounter&&clearTimeout(e.unmounter),e.mount(),setTimeout(function(){e.state.text=e.state.text===t?t+" ":t,e.announcer.innerHTML=e.state.text.length>0?"<p>"+e.state.text+"</p>":""},100),e.unmounter=setTimeout(function(){e.unmount(),n()},200)}};return new o.Promise(function(e){return setTimeout(i(e),n)})}},{key:"mount",value:function(){this.mountingElement&&this.mountingElement instanceof Element?this.mountingElement.insertAdjacentElement("beforeend",this.announcer):document.body.insertAdjacentElement("beforeend",this.announcer)}},{key:"unmount",value:function(){(0,s.remove)(this.announcer)}}]),e}();t.default=c;var h=(t.announceServerAlert=function(){[].concat(i(document.querySelectorAll("[data-onload-role=alert], [data-announce]"))).filter(function(e){return e.innerText}).forEach(function(e){var t=e.dataset.onloadRole;if("alert"===t&&(e.removeAttribute("role"),e.removeAttribute("data-onload-role"),e.setAttribute("role",t),setTimeout(function(){e.innerText+=" "},200)),void 0!==e.dataset.announce){e.removeAttribute("data-announce");var n=e.innerText;new c(null,"assertive").announce(n)}})},t.makeScreenReaderOnlySuffixer=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!window.HSBC_DICTIONARY)return t;var n=window.HSBC_DICTIONARY[e]||"";return n.length>0?t+' <span class="sr-only">'+n+"</span>":t}});t.addOpensInNewWindowSuffix=h("opens-in-new-window")},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){i(this,e)}return a(e,[{key:"getParameterByName",value:function(e,t){t||(t=this.getCurrentLocation()),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),i=n.exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}},{key:"getCurrentLocation",value:function(){return window.location.href}},{key:"updateQueryStringParameter",value:function(e,t,n){var i=new RegExp("([?&])"+t+"=.*?(&|$)","i"),a=-1!==e.indexOf("?")?"&":"?";return e.match(i)?e.replace(i,"$1"+t+"="+n+"$2"):e+a+t+"="+n}},{key:"getQueryParams",value:function(e){e=e.split("+").join(" ");for(var t,n={},i=/[?&]?([^=]+)=([^&]*)/g;t=i.exec(e);)n[decodeURIComponent(t[1])]=decodeURIComponent(t[2]);return n}},{key:"setParameterByName",value:function(e,t,n){n||(n=this.getCurrentLocation());var i=new RegExp("([?&])"+e+"=.*?(&|#|$)(.*)","gi"),a=void 0;if(i.test(n))return void 0!==t&&null!==t?n.replace(i,"$1"+e+"="+t+"$2$3"):(a=n.split("#"),n=a[0].replace(i,"$1$3").replace(/(&|\?)$/,""),this.checkHash(a,n));if(void 0!==t&&null!==t){var r=-1!==n.indexOf("?")?"&":"?";return a=n.split("#"),n=a[0]+r+e+"="+t,this.checkHash(a,n)}return n}},{key:"removeParameterByName",value:function(e,t){t||(t=this.getCurrentLocation());var n=t.split("?");if(n.length>=2){for(var i=encodeURIComponent(e)+"=",a=n[1].split(/[&;]/g),r=a.length;r-- >0;)-1!==a[r].lastIndexOf(i,0)&&a.splice(r,1);return t=n[0]+(a.length>0?"?"+a.join("&"):"")}return t}},{key:"checkHash",value:function(e,t){return void 0!==e[1]&&null!==e[1]&&(t+="#"+e[1]),t}},{key:"validateQueryParameters",value:function(e){var t=parseInt(e.page,10),n=parseInt(e.take,10),i=null!==this.getParameterByName("page"),a=parseInt(this.getParameterByName("page"),10),r=null!==this.getParameterByName("take"),s=parseInt(this.getParameterByName("take"),10),o=!1;return i&&a!==t&&(o=!0),r&&s!==n&&(o=!0),this.fixUrl(t,n,o),!o}},{key:"fixUrl",value:function(e,t,n){var i=window.location.href;i=this.updateQueryStringParameter(i,"page",e),i=this.updateQueryStringParameter(i,"take",t),this.setNewUrl(i,n)}},{key:"setNewUrl",value:function(e,t){t?window.location.href=e:history.replaceState(null,null,e)}},{key:"removeHash",value:function(){var e=window.location.href,t=e.split("#",2)[0];this.setNewUrl(t,!1)}}]),e}();t.default=r},,function(e,t,n){"use strict";function i(e,t){e&&e.navItems&&e.navItems.filter(function(e){return e.subnav}).map(function(e){return e.subnav}).map(t)}function a(e){return e?(e.isOpen&&e.close(),e.navItems&&e.navItems.filter(function(e){return e.subnav}).map(a),e):null}function r(e){return e&&e.textContent.trim().toLowerCase().substring(0,1)}function s(e){return e&&e.element?(e.element.focus(),e):null}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments[3];if(e&&t.length>0){var a=t[0],r=t[t.length-1];return e===r&&n?i(a,t):e===r?i(a,t):i(t[t.indexOf(e)+1],t)}return null}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments[3];if(e){var a=t[0],r=t[t.length-1];return e===a&&n?i(r,t):e===a?i(r,t):i(t[t.indexOf(e)-1],t)}return null}function u(e,t){return e&&t?e.name!==t?e.parent?u(e.parent,t):null:e:null}function c(e){return!e.parentElement.classList.contains("nav__back")}function h(e){return!e.parentElement.classList.contains("nav__current")}Object.defineProperty(t,"__esModule",{value:!0}),t.default={closeAllSubnav:i,closeSubnav:a,getFirstCharacter:r,setFocus:s,setFocusNext:o,setFocusPrevious:l,getAncestorByName:u,isNotBackLink:c,isNotCurrentLink:h}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.makePopupNotification=t.defaultCtaNegativeHandler=t.defaultCtaPositiveHandler=t.handleCallback=t.validateAllCheckboxes=t.INCORRECT_ELEMENT_ERROR=t.renderPopupNotifcation=t.DEFAULT_ANNOUNCEMENT=t.POPUP_NOTIFICATION_DISCLAIMER=t.POPUP_NOTIFICATION_CTA_NEGATIVE=t.POPUP_NOTIFICATION_CTA_POSITIVE=t.POPUP_NOTIFICATION_BUTTONS=t.POPUP_NOTIFICATION_CHECKBOX=t.POPUP_NOTIFICATION_CHECKBOXES=t.POPUP_NOTIFICATION_DESCRIPTION=t.POPUP_NOTIFICATION_CLOSE=t.POPUP_NOTIFICATION_TITLE=t.POPUP_NOTIFICATION_ENABLED=t.POPUP_NOTIFICATION=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(6),u=i(l),c=n(0),h=n(65),d=n(186),f=i(d),p=n(4),v=n(12),m=i(v),g=n(93),y=i(g),b=t.POPUP_NOTIFICATION="popup-notification",w=t.POPUP_NOTIFICATION_ENABLED="popup-notification--enabled",k=t.POPUP_NOTIFICATION_TITLE="popup-notification__title",_=t.POPUP_NOTIFICATION_CLOSE="popup-notification__close",E=t.POPUP_NOTIFICATION_DESCRIPTION="popup-notification__description",S=(t.POPUP_NOTIFICATION_CHECKBOXES="popup-notification__checkboxes",t.POPUP_NOTIFICATION_CHECKBOX="popup-notification__checkbox"),C=(t.POPUP_NOTIFICATION_BUTTONS="popup-notification__buttons",t.POPUP_NOTIFICATION_CTA_POSITIVE="popup-notification__button--positive"),L=t.POPUP_NOTIFICATION_CTA_NEGATIVE="popup-notification__button--negative",A=t.POPUP_NOTIFICATION_DISCLAIMER="popup-notification__disclaimer",T=t.DEFAULT_ANNOUNCEMENT="Notification appeared",x=Handlebars.templates["popup-notification-template"],P=t.renderPopupNotifcation=function(e){return"function"==typeof x?x(e):null},O=t.INCORRECT_ELEMENT_ERROR=function(){return new Error("INCORRECT_ELEMENT_ERROR")},I=t.validateAllCheckboxes=function(e){e.checkboxes.forEach(function(e){return e.hideValidationError()});var t=e.checkboxes.filter(function(e){return!e.isChecked});return!(t.length>0)||(t.forEach(function(e){return e.showValidationError()}),!1)},M=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(t?window.open(e):window.location.href=e)},B=t.handleCallback=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];e&&"function"==typeof e&&e.apply(void 0,r(t))},D=t.defaultCtaPositiveHandler=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;I(e)&&(M(e.props.actionUrl,e.props.actionInNewWindow),e.close(),B(t))},N=t.defaultCtaNegativeHandler=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.checkboxes.forEach(function(e){return e.hideValidationError()}),M(e.props.negativeActionUrl,e.props.negativeActionInNewWindow),e.close(),e.unmount(),B(t)},H=function(e,t){return{event_type:"click",event_category:"content",event_action:e.title.innerText,event_content:t?(e.props.ctaPositiveLabel||"OK")+" | "+e.props.actionUrl:e.props.ctaNegativeLabel||"CANCEL"}},R=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(a(this,e),this.open=function(){if(!n.isEnabled){n.element.classList.add(w),u.default.hideAllBut(["popups"]),u.default.restrictFocus(n.element),u.default.tabToFrom.apply(u.default,r(n.tabLoop)),u.default.clickOutsideAndClose(n,"."+b,n.ctaNegativeHandler),u.default.closeOnEscapeKeydown(n,n.ctaNegativeHandler);var e=n.props.announcement||T,t=null!=n.title?e+": "+n.title.textContent:e;n.announcer.announce(t,0).then(function(){null!=n.title&&n.title.focus()})}},this.close=function(){n.isEnabled&&(n.element.classList.remove(w),u.default.showAllBut(["popups"]),u.default.allowFocus(),u.default.removeTabToFrom.apply(u.default,r(n.tabLoop)),u.default.removeClickOutsideAndClose(),u.default.removeCloseOnEscapeKeydown(),null!==n.caller&&n.caller.focus())},!t||!t.classList.contains(b))throw O();this.isMounted=!1,this.element=t,this.props=i,this.title=(0,c.getElement)(k,this.element),this.ctaPositiveButton=(0,c.getElement)(C,this.element),this.ctaNegativeButton=(0,c.getElement)(L,this.element),this.closeButton=(0,c.getElement)(_,this.element),this.ctaPositiveHandler=function(e){e.preventDefault();var t="function"==typeof i.ctaPositiveHandler?i.ctaPositiveHandler:D;(0,p.trackEvent)(H(n,!0)),t(n)},this.ctaNegativeHandler=function(e){e.preventDefault();var t="function"==typeof i.ctaNegativeHandler?i.ctaNegativeHandler:N;(0,p.trackEvent)(H(n,!1)),t(n)},this.checkboxes=(0,c.getElements)(S,this.element).map(function(e){return new f.default(e)}),this.disclaimer=(0,c.getElement)(A,this.element),this.caller=this.props.caller||null,this.lastFosucabeDescriptionElement=(0,c.getElement)(E,this.element),i.omitCtas&&(this.lastFosucabeDescriptionElement=this.lastFosucabeDescriptionElement.querySelector("a:last-of-type")||this.lastFosucabeDescriptionElement),this.tabLoop=[this.title,this.disclaimer||this.ctaPositiveButton||this.lastFosucabeDescriptionElement],this.events=new h.EventRegistry,this.attachEvents(),this.announcer=new m.default(null,"assertive"),y.default.add(this)}return o(e,[{key:"attachEvents",value:function(){this.events.add(this.ctaNegativeButton,"click",this.ctaNegativeHandler),this.events.add(this.closeButton,"click",this.ctaNegativeHandler),this.events.add(this.ctaPositiveButton,"click",this.ctaPositiveHandler)}},{key:"mount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.default.popups;e&&!this.isMounted&&(e.appendChild(this.element),this.isMounted=!0)}},{key:"unmount",value:function(){this.isMounted&&((0,c.remove)(this.element),this.isMounted=!1)}},{key:"isEnabled",get:function(){return this.element.classList.contains(w)}}]),e}();t.default=R;var q=function(e){return s({},e,e.actionInNewWindow&&{ctaPositiveLabel:(0,v.addOpensInNewWindowSuffix)(e.ctaPositiveLabel)},e.negativeActionInNewWindow&&{ctaNegativeLabel:(0,v.addOpensInNewWindowSuffix)(e.ctaNegativeLabel)})};t.makePopupNotification=function(e){var t=s({id:"rand"+((1e6*Math.random()).toFixed()||0),closeLabel:"close popup"},e||{}),n=(0,c.toElement)(P(q(t)));return new R(n,t)}},,,,function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(44),s=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function(){function e(t,n){i(this,e),this.fetch=t||r.fetchData,this.dataAccessUtils=n||s.default}return a(e,[{key:"getData",value:function(e,t,n){this.dataAccessUtils.getXMLHttpRequest("GET",e,t,n).send()}},{key:"postData",value:function(e,t,n,i){this.dataAccessUtils.getXMLHttpRequest("POST",e,n,i).send(JSON.stringify(t))}},{key:"fetchGetData",value:function(e,t,n){return this.fetch(e,t,n)}},{key:"fetchPostData",value:function(e,t,n){return this.fetch(e,t,void 0,{method:"POST",body:n})}}]),e}();t.default=o},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={MEDIA_GALLERY_CATEGORY_SERVICE:"/api/media/assets/load",MEDIA_GALLERY_FILTER_SERVICE:"/api/media/assets/filter",SEARCH_SUGGEST_SERVICE:"/api/search/suggest",SEARCH_FIND_SERVICE:"/api/search/find",IMAGE_VIEWER_SERVICE:"/api/media/asset/view",IMAGE_VIEWER_RELATED_SERVICE:"/api/media/asset/related",COUNTRY_OFFICES_SERVICE:"/api/contact/countryoffices",NEWS_AND_INSIGHT_SERVICE:"/services/news-and-insight-feed"}},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){switch(e){case l.SESSION:return window.sessionStorage;case l.LOCAL:return window.localStorage}return window.localStorage}function r(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.LOCAL,t=a(e),n=[],i=0;i<t.length;i++)n.push(t.key(i));return n}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.LOCAL;return new u(e,t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();t.getStorageKeys=r,t.makeStorage=s;var l=t.StorageMechanism={LOCAL:"LOCAL",SESSION:"SESSION"},u=t.AppStorage=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.LOCAL;i(this,e),this.identifier=t,this.storage=a(n),this.mechanism=n}return o(e,[{key:"prefix",value:function(e){return this.identifier+"_"+e}},{key:"get",value:function(e){var t=this.prefix(e);return this.storage.getItem(t)}},{key:"set",value:function(e,t){var n=this.prefix(e);this.storage.setItem(n,t)}},{key:"increment",value:function(e){var t=parseInt(this.get(e)||"0",10),n=t+1;this.set(e,n.toString(10))}},{key:"remove",value:function(e){var t=this.prefix(e);this.storage.removeItem(t)}},{key:"clear",value:function(){var e=this;this.keys().forEach(function(t){return e.remove(t)})}},{key:"keys",value:function(){var e=this.prefix(""),t=e.length;return r(this.mechanism).filter(function(n){return n.substring(0,t)===e}).map(function(e){return e.substring(t)})}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=t.createCookie=function(e,t,n){return n&&n instanceof Date?e+"="+t+"; expires="+n.toUTCString():e+"="+t},a=(t.createNonExpiringCookie=function(e,t){return i(e,t,new Date(3e3,12,30))},t.setCookie=function(e){document.cookie=e});t.getCookie=function(e){var t=new RegExp("("+e+")=([^;]+);?").exec(document.cookie);return null!==t&&3===t.length?t[2]:""},t.deleteCookie=function(e){var t=i(e,"",new Date(1970));a(t)},t.deleteAllCookies=function(){document.cookie.split(";").map(function(e){return(e.indexOf("=")>-1?e.substr(0,e.indexOf("=")):e)+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}).forEach(function(e){document.cookie=e})}},function(e,t,n){n(179),e.exports=self.fetch.bind(self)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchData=t.buildQuery=t.RESPONSE_JSON=t.RESPONSE_TEXT=t.RESPONSE_RAW=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(43),s=function(e){return e&&e.__esModule?e:{default:e}}(r),o=(n(20),function(){function e(){i(this,e)}return a(e,[{key:"getXMLHttpRequest",value:function(e,t,n,i){var a=new XMLHttpRequest;return a.open(e,t,!0),a.setRequestHeader("Content-Type","application/json"),a.onreadystatechange=function(){a.readyState==XMLHttpRequest.DONE&&(200==a.status?n(JSON.parse(a.responseText)):i(400==a.status?"There was an error 400":"Unexpected status code"))},a}}]),e}()),l=t.RESPONSE_RAW="raw",u=t.RESPONSE_TEXT="text",c=t.RESPONSE_JSON="json",h=t.buildQuery=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];for(var n in e){var i=e[n];t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}return t.join("&")};t.fetchData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=h(t),r=e+(a?"?"+a:"");return(0,s.default)(r,i).then(function(e){return e.ok?e:Promise.reject("Request failed with "+e.status+" "+e.statusText)}).then(function(e){return n==l?e:n==u?e.text():n==c?e.json():Promise.reject("Invalid response type: "+n)})};t.default=new o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.getCookieNotifcationHeight=t.getCookieNotifcation=t.HSBC_COOKIE_ACCEPTED_VALUE=t.HSBC_COOKIE_ACCEPTED=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(42),s=n(4),o=n(0),l=t.HSBC_COOKIE_ACCEPTED="HSBC_COOKIE_ACCEPTED",u=t.HSBC_COOKIE_ACCEPTED_VALUE="accepted",c=function(){return{event_type:"click",event_category:"content",event_action:(0,o.getTextOf)("cookie-notification__title"),event_content:(0,o.getTextOf)("cookie-notification__button")}},h=t.getCookieNotifcation=function(){return(0,o.getElement)("cookie-notification")},d=(t.getCookieNotifcationHeight=function(){var e=h();return e?e.clientHeight:0},function(){return window.localStorage.getItem(l)===u||(0,r.getCookie)(l)===u}),f=function(){function e(){var t=this;i(this,e),this.accept=function(e){e&&e.preventDefault(),window.localStorage.setItem(l,u),(0,r.setCookie)((0,r.createNonExpiringCookie)(l,u)),(0,s.trackEvent)(c()),t.deactivate()},this.view=null,this.header=null,this.title=null,this.acceptButton=null}return a(e,[{key:"activate",value:function(e){if(this.view=e,d())return void this.deactivate();this.view.classList.add("cookie-notification--enabled"),this.header=(0,o.getHeader)(!0),this.view.nextElementSibling!==this.header&&(0,o.moveBefore)(this.view,this.header),this.title=(0,o.getElement)("cookie-notification__title",this.view),this.acceptButton=(0,o.getElement)("cookie-notification__button",this.view),this.acceptButton.addEventListener("click",this.accept)}},{key:"deactivate",value:function(){(0,o.remove)(this.view)}}]),e}();t.default=f},function(e,t,n){"use strict";function i(){function e(e){e.preventDefault()}function t(e){u&&e&&i()}function n(e,t){u=!!e,a||(s=(0,r.getScrollTop)(),document.documentElement.classList.add(l),t&&(document.documentElement.style.top=-s+"px"),a=!0)}function i(){a&&(document.documentElement.classList.remove(l),document.documentElement.style.top="",window.scrollTo(0,s),a=!1)}var a=!1,s=0,u=!1;return document.addEventListener("navigationMobile.onOpen",n),document.addEventListener("navigationMobile.onClose",i),document.addEventListener("search.onOpen",n),document.addEventListener("search.onClose",i),document.addEventListener("onlineBanking.onOpen",n),o.default.medium.matches&&document.addEventListener("onlineBanking.onClose",i),document.addEventListener("filter.onOpen",function(){return n(!0)}),document.addEventListener("filter.onClose",i),document.addEventListener("downloadBasket.onOpen",function(){return n(!1,!0)}),document.addEventListener("downloadBasket.onClose",i),o.default.medium.addListener(function(e){return t(e.matches)}),{get isFrozen(){return a},stopScroll:e,freeze:n,thaw:i}}function a(){return document.documentElement.classList.contains(l)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,t.isPageFrozen=a;var r=n(0),s=(n(9),n(2)),o=function(e){return e&&e.__esModule?e:{default:e}}(s),l="frozen"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.dispatchVideoAssetsChanged=t.activateAllVideoPlayers=t.VIDEO_ASSETS_CHANGED=void 0;var a=n(5),r=i(a),s=n(97),o=i(s),l=n(0),u=t.VIDEO_ASSETS_CHANGED="VIDEO_ASSETS_CHANGED";t.activateAllVideoPlayers=function(){(0,l.getElements)(s.VIDEO_PLAYER).filter(function(e){return null==e.component}).map(function(e){return{view:e,type:(0,s.determineVideoType)(e)}}).forEach(function(e){var t=e.view,n=e.type;if(n!==s.VIDEO_TYPE.UNKNOWN){if(n===s.VIDEO_TYPE.BRIGHTCOVE){if(null==t.querySelector("video"))return;var i=t.querySelector("script");i&&i.remove()}n===s.VIDEO_TYPE.YOUTUBE&&null==t.querySelector("iframe")||(new o.default).activate(t)}})},t.dispatchVideoAssetsChanged=function(){var e=new r.default(u);document.dispatchEvent(e)}},,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=t.isInternal=function(e){var t=window.location.hostname,n=document.createElement("a");return n.href=e,n.hostname===t};t.isExternal=function(e){return!i(e)}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GEO_IP_API_SERVICE_URL=t.GEO_IP_COOKIE_READY_EVENT=t.GEO_IP_COOKIE=void 0;var a=n(42),r=n(5),s=i(r),o=n(43),l=i(o),u=t.GEO_IP_COOKIE="geoIP",c=t.GEO_IP_COOKIE_READY_EVENT="geoIpCookieAvailable",h=t.GEO_IP_API_SERVICE_URL="";t.default=function(){(0,a.getCookie)(u)?document.dispatchEvent(new s.default(c)):(0,l.default)}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(5),c=i(u),h=n(6),d=i(h),f=n(7),p=i(f),v=n(2),m=i(v),g=n(13),y=i(g),b=n(92),w=n(9),k=[8,9,13,35,36,37,38,39,40,45,46],_=['input[type="checkbox"]:not([tabindex="-1"])','input[type="radio"]:checked','input[type="text"]:not([tabindex="-1"])','button:not([tabindex="-1"])','a:not([tabindex="-1"])'],E=function(){function e(t,n){s(this,e),this.applyCallback=t,this.clearCallback=n,this.openEvent=new c.default("filter.onOpen"),this.closeEvent=new c.default("filter.onClose")}return l(e,[{key:"activate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.serverReload;e&&(this.view=e,this.options={serverReload:void 0!==i&&!1!==i},this.filters=[],this.filterButtons=[].concat(r(this.view.querySelectorAll(".dropdown"))),this.applyButtonContainer=this.view.querySelector(".filter-apply"),this.dropdownContainer=this.view.querySelector(".dropdown-container"),this.dropdownContainerParent=this.dropdownContainer.parentElement,this.dropdownContainerNextSibling=this.dropdownContainer.nextElementSibling,this.applyButton=this.view.querySelector(".filter-apply button"),this.selectionSum=this.view.querySelectorAll(".all-filters-num"),this.container=this.view.querySelector(".dropdown-group"),this.results=this.view.querySelector(".filter-results"),this.resultsToAnnounce=this.view.querySelector(".filter-results .filter-results__to-announce"),this.resultsToDisplay=this.view.querySelector(".filter-results .filter-results__to-display"),this.resultsAria=this.view.querySelector(".filter-results-aria"),this.filterTitle=this.view.querySelector(".dropdown-title"),this.dropDowns=this.view.getElementsByClassName("dropdown"),this.filterButton=this.view.querySelector(".filter-cta-container button"),this.searchWrapper=this.dropdownContainer.querySelector(".filter-search-wrapper"),this.searchWrapperMobile=this.view.querySelector(".filter-search-wrapper-mobile"),this.hasTickedInput=!1,this.filterApplied=!1,this.openPanel=null,this.onLastFocusableElementTabBound=this.onLastFocusableElementTab.bind(this),this.normalApplyButtonFocus=!1,this.dateRangeInvalid=!1,this.trackingEnabled=!0,this.urlUtil=new y.default,[].concat(r(this.dropDowns)).forEach(function(e){return e.ariaLabel=e.getAttribute("aria-label")}),this.filterButton.ariaLabel=this.filterButton.getAttribute("aria-label"),this.filterButtons&&this.applyButtonContainer&&this.dropdownContainer&&this.applyButton&&this.selectionSum&&this.container&&this.results&&(this.lang=document.getElementsByTagName("html")[0].getAttribute("lang")||"en-US",this.init(),this.updateGlobalFilterCounter(),window.addEventListener("resize",function(){t.adjustFilterFormHeight()}),this.activated=!0,this.onClearAll(this.filters,!0),this.options.serverReload&&this.restoreFromParams(),this.updateView(),this.saveCurrentSelectedStateAsInitial()))}},{key:"mapParamsToFilters",value:function(){var e=this,t=this.filters.map(function(t){return{key:t.filterKey,value:e.urlUtil.getParameterByName(t.filterKey)}}),n=function(e){if(null==e.value)return o({},e,{value:[]});if(e.value.includes("-")&&e.value.includes("/")){var t=e.value.split("|"),n=t[0].split("-");return t[0]={from:n[0],to:n[1]},o({},e,{value:t})}return o({},e,{value:e.value.split("|")})};return t.map(n)}},{key:"restoreFromParams",value:function(){var e=this.mapParamsToFilters(),t=this.getFilterState();if(t.filter=t.filter.map(function(t){var n=e.find(function(e){return e.key===t.key});return null!=n?o({},t,{values:n.value}):t}),this.searchInput){var n=this.urlUtil.getParameterByName(this.searchInput.getAttribute("data-filter-key")||"search");t.search=n}this.restoreFilterState(t),this.filters.forEach(function(e){e.selectedHash=JSON.stringify(e.selected)}),this.saveCurrentSelectedStateAsInitial()}},{key:"toggle",value:function(e){var t=this;!1!==this.getFilterState().isValid&&this.filters.forEach(function(n){n.element===e?(n.open=!n.open,t.openPanel=n.open?n.filterPanel:null,n.filterPanel.style.display=n.open?"block":"none",t.applyButtonContainer.style.display=n.open||t.hasTickedInput&&window.innerWidth<768?"block":"none",n.open?n.element.classList.add("dropdown--open"):n.element.classList.remove("dropdown--open"),n.element.setAttribute("aria-expanded",n.open),t.resize()):(n.filterPanel.style.display="none",n.open=!1,n.element.setAttribute("aria-expanded",n.open),n.element.classList.remove("dropdown--open"))})}},{key:"onInputChange",value:function(e,t){"input"!==t&&"year"!==t||this.updateView()}},{key:"getSelectedFilterOptions",value:function(e){if("function"==typeof e.getYears)return e.getYears();if("function"==typeof e.getDateRange)return e.getDateRange();var t=[].concat(r(e.inputs)).filter(function(e,t){return e.checked&&!("radio"===e.type&&0===t)}).map(function(e){return e.value});if(-1!==t.indexOf("DateRange")){var n=[].concat(r(e.inputs)).filter(function(e){return"text"===e.type}).map(function(e){return e.value});return t[0]=t[0]+" "+n[0]+" "+n[1],t}return t}},{key:"hasChanged",value:function(e){var t=this.getSelectedFilterOptions(e),n=JSON.stringify(t);return e.initialSelectedHash!==n}},{key:"saveCurrentSelectedStateAsInitial",value:function(){this.filters.forEach(function(e){e.initialSelected=e.selected,e.initialSelectedHash=e.selectedHash})}},{key:"updateCounters",value:function(e){var t="",n=e.element.ariaLabel,i=this.getSelectedFilterOptions(e),a=i.length;return a&&(t="("+a+")",n&&(n+=", "+e.numberSelected.replace("{number}",a))),e.selectedText.textContent=t,n&&e.element.setAttribute("aria-label",n),e.selected=i,e.selectedCount=a,e.selectedHash=JSON.stringify(i),this.updateGlobalFilterCounter()}},{key:"updateGlobalFilterCounter",value:function(){var e=0,t=this.filterButton.ariaLabel;return this.filters.forEach(function(t){e+=t.selectedCount}),this.selectionSum.forEach(function(t){t.textContent=e?"("+e+")":""}),t&&(e&&(t+=", "+e+" currently selected"),this.filterButton.setAttribute("aria-label",t)),this.hasTickedInput=0!==e,e}},{key:"updateView",value:function(){var e=this,t=this.filters.some(function(t){return e.hasChanged(t)});if(t?this.applyButtonContainer.classList.add("in"):this.applyButtonContainer.classList.remove("in"),this.applyButton.style.display=t?"inline-block":"none",!m.default.medium.matches)if(t)this.shrinkFilterFormToMatchApplyButton();else{var n=this.dropdownContainer.querySelector(".dropdown-container .dropdown-group");n.style.height="auto",n.style.overflowY="auto"}var i=this.getCurrentClearLink();i&&(i.style.visibility=this.isAnythingApplied()?"visible":"hidden")}},{key:"isAnythingApplied",value:function(){var e=this.filters&&this.filters.some(function(e){return 0!==e.selectedCount}),t=this.searchInput&&!!this.searchInput.value;return e||t}},{key:"shrinkFilterFormToMatchApplyButton",value:function(){var e=this;if(this.applyButtonContainer.classList.contains("in")){var t=this.dropdownContainer.querySelector(".dropdown-container .dropdown-group"),n=t.getBoundingClientRect().bottom-this.applyButtonContainer.getBoundingClientRect().top;t.style.height=t.getBoundingClientRect().height-n+"px",t.style.overflowY="auto",n>0?window.requestAnimationFrame(function(){return e.shrinkFilterFormToMatchApplyButton()}):setTimeout(function(){return e.shrinkFilterFormToMatchApplyButton()},200)}}},{key:"adjustFilterFormHeight",value:function(){if(m.default.large.matches){var e=this.dropdownContainer.querySelector(".dropdown-container .dropdown-group");e.style.height="auto",e.style.overflowY="visible"}}},{key:"onClear",value:function(e){e.selected=null,e.selectedCount=0,e.selectedHash="",e.inputs.forEach(function(e,t){"text"===e.type?e.value="":"radio"===e.type&&0===t?e.checked=!0:e.checked=!1,"function"==typeof e.validate&&e.validate(!0,!0)}),"function"==typeof e.clearYears&&e.clearYears(),e.selectedText.textContent=""}},{key:"onClearAll",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.forEach(function(e){return t.onClear(e)}),this.searchInput&&(this.searchInput.value="",this.toogleSearchIcon());var i=this.getFilterState();if(this.options.serverReload&&!n)return void this.causeServerReload(i);"function"==typeof this.clearCallback&&this.clearCallback(i),this.filterApplied=!1,this.selectionSum.forEach(function(e){return e.textContent=""}),this.applyButtonContainer.classList.remove("in"),this.applyButton.style.display="none";var a=this.getCurrentClearLink();a&&(a.style.visibility="hidden"),this.filters.forEach(function(e){var n=t.getSelectedFilterOptions(e);e.selected=n.length,e.selectedHash=JSON.stringify(n),t.updateCounters(e)}),this.saveCurrentSelectedStateAsInitial(),this.filterStateOnOpen=null}},{key:"getCurrentClearLink",value:function(){return!m.default.medium.matches&&d.default.popups?d.default.popups.querySelector(".clear-all--mobile"):this.view.querySelector(".clear-all--desktop")}},{key:"onApply",value:function(e){var t=this,n=this.getFilterState();if(!1!==n.isValid){if(this.options.serverReload)return this.trackingEnabled&&(0,b.filterTrackingForServerSideFilters)(n),void this.causeServerReload(n);"function"==typeof this.applyCallback&&(delete n.isValid,this.applyCallback(n)),this.filterApplied=!0,this.close(),this.toggle(e),this.applyButtonContainer.style.display="none",this.container.style.marginBottom=0;var i=this.getCurrentClearLink();m.default.medium.matches&&i&&i.focus(),this.openPanel=null,this.normalApplyButtonFocus=!1,this.filters.forEach(function(e){t.updateCounters(e)}),this.saveCurrentSelectedStateAsInitial(),this.updateView(),this.trackingEnabled&&setTimeout(function(){return(0,b.filterTrackingForClientSideFilters)(n)},300)}}},{key:"updateQueryParameters",value:function(e,t){var n=this,i=function(e){return e.hasOwnProperty("from")||e.hasOwnProperty("to")?e.from+"-"+e.to:encodeURI(e)};return t.filter.forEach(function(t){e=t.values.length>0?n.urlUtil.setParameterByName(encodeURI(t.key),t.values.map(i).join("|"),e):n.urlUtil.removeParameterByName(t.key,e)}),this.searchInput&&(e=t.hasOwnProperty("search")&&t.search.length>=0?this.urlUtil.setParameterByName(this.searchInput.getAttribute("data-filter-key")||"search",encodeURI(t.search),e):this.urlUtil.removeParameterByName(this.searchInput.getAttribute("data-filter-key")||"search",e)),e=this.urlUtil.setParameterByName("page",1,e)}},{key:"causeServerReload",value:function(e){window.location.href=this.updateQueryParameters(window.location.href,e)}},{key:"setAppliedFilters",value:function(e,t){e.filter=e.filter||[];var n={key:t.filterKey,values:[]};if(t.inputs.forEach(function(t,i){if(t.checked&&("radio"===t.type&&0===i||("radio"===t.type&&"DateRange"===t.value?n.values.push({from:t.fromInput.value,to:t.toInput.value}):n.values.push(t.value))),"function"==typeof t.validate){var a=t.validate();e.isValid=!1!==e.isValid&&a}}),"function"==typeof t.getYears)n.values=t.getYears();else if("function"==typeof t.getDateRange){n.values=t.getDateRange();var i=t.validate();e.isValid=!1!==e.isValid&&i}return e.filter.push(n),e}},{key:"getFilterState",value:function(){var e=this.filters.reduce(this.setAppliedFilters,{isValid:!0});return this.searchInput&&this.searchInput.value.trim().length>0&&(e.search=this.searchInput.value.trim()),e}},{key:"restoreFilterState",value:function(e){var t=this;null!==e&&JSON.stringify(this.getFilterState())!==JSON.stringify(e)&&(this.filters.forEach(function(n){t.onClear(n);var i=void 0,a=n.filterPanel.querySelector('input[type="radio"][value="DateRange"]'),r=n.filterPanel.querySelector("#filter-year-perpetuity-checkbox"),s=n.filterPanel.querySelector("#filter-date-range-perpetuity-checkbox"),o=e.filter.filter(function(e){return e.key===n.filterKey})[0].values;Array.isArray(o)&&o.forEach(function(e){a&&(e.from||e.to)?(a.checked=!0,a.fromInput.value=e.from,a.toInput.value=e.to):"function"==typeof n.getDateRange?((e.from||e.to)&&(n.fromInput.value=e.from,n.toInput.value=e.to),s&&s.value===e&&(s.checked=!0)):"function"==typeof n.addYear?r&&r.value===e?r.checked=!0:n.addYear(e,!0):null!==(i=n.filterPanel.querySelector('[value="'+e+'"]'))&&(i.checked=!0)}),t.updateCounters(n)}),this.searchInput&&(this.searchInput.value=e.search,this.toogleSearchIcon()))}},{key:"open",value:function(){this.dropdownContainer.classList.add("dropdown-container--open"),this.filterButton.setAttribute("aria-expanded",!0),this.resultsAria&&this.resultsAria.setAttribute("aria-hidden",!0);var e=this.filterTitle.querySelector("h2");d.default.popups&&(d.default.hideAllBut(["popups"]),d.default.closeOnEscapeKeydown(this)),e&&((0,w.isMobile)()&&e.setAttribute("tabindex","0"),e.focus()),m.default.small.matches&&(this.filterStateOnOpen=this.getFilterState()),this.normalApplyButtonFocus=!1;var t=this.filters.some(function(e){return 0!==e.selectedCount}),n=this.getCurrentClearLink();n&&(n.style.visibility=t?"visible":"hidden"),document.dispatchEvent(this.openEvent)}},{key:"close",value:function(){this.dropdownContainer.classList.remove("dropdown-container--open"),d.default.popups&&(d.default.showAllBut(["popups"]),d.default.removeCloseOnEscapeKeydown()),this.filterButton.setAttribute("aria-expanded",!1),m.default.small.matches&&this.filterButton.focus(),this.normalApplyButtonFocus=!0,document.dispatchEvent(this.closeEvent)}},{key:"onFilterKeyDown",value:function(e){9===e.keyCode&&e.preventDefault()}},{key:"onFilterTitleKeyDown",value:function(e){(0,p.default)(e.keyCode,["tab"])&&e.preventDefault()}},{key:"closeKeyDown",value:function(e){var t=this.view.getElementsByClassName("clear-all--mobile")[0];(0,p.default)(e.keyCode,["tab"])&&!e.shiftKey&&(e.preventDefault(),t.focus())}},{key:"mediaQuerySwitch",value:function(e){var t=this;d.default.popups&&(e.matches?(d.default.popups.appendChild(this.dropdownContainer),this.dropdownContainer.setAttribute("role","dialog"),this.searchWrapper&&this.searchWrapperMobile&&[].concat(r(this.searchWrapper.children)).forEach(function(e){return t.searchWrapperMobile.appendChild(e)})):(this.dropdownContainerParent.insertBefore(this.dropdownContainer,this.dropdownContainerNextSibling),this.dropdownContainer.removeAttribute("role"),this.dropdownContainer.classList.contains("dropdown-container--open")&&this.dropdownContainer.classList.remove("dropdown-container--open"),this.searchWrapper&&this.searchWrapperMobile&&[].concat(r(this.searchWrapperMobile.children)).forEach(function(e){return t.searchWrapper.appendChild(e)})),d.default.showAllBut(["popups"]))}},{key:"init",value:function(){function e(e,n){n.placeholder=document.createElement("div"),n.placeholder.setAttribute("data-filter-id",n.filterKey),n.filterPanel=e.querySelector("#"+n.filterKey),n.inputs=n.filterPanel.querySelectorAll("input"),u(n,e),t(n),n.selectedText=n.element.querySelector(".dropdown__active-filters"),n.numberSelected=n.element.getAttribute("data-number-selected");var i=this.getSelectedFilterOptions(n);n.selectedHash=JSON.stringify(i)}function t(e){var t=e.filterPanel.querySelector(".filter-year-control__input"),i=e.filterPanel.querySelector(".filter-year-control__add"),a=e.filterPanel.querySelector(".filter-year-list"),s=e.filterPanel.querySelector(".filter-year-list__aria"),o=e.filterPanel.querySelector("#filter-year-perpetuity-checkbox");t&&i&&a&&s&&(t.addEventListener("keypress",function(i){13!=i.which&&13!=i.keyCode||n(t,e)}),t.addEventListener("blur",function(){0===t.value.length&&(t.parentElement.classList.remove("has-error"),e.resize())}),i.addEventListener("click",function(){n(t,e)}),a.querySelectorAll(".filter-year-list > li").forEach(function(t){t.querySelector(".filter-year-list__remove").addEventListener("click",function(){t.remove(),s.innerHTML=s.getAttribute("data-message-removed"),e.onYearChanged()})}),e.addYear=function(e,t){var n=this,i=this.filterPanel.querySelector(".filter-year-list"),a=this.filterPanel.querySelector(".filter-year-list__aria"),r=Handlebars.templates["filter-year-list-item-template"];i.insertAdjacentHTML("beforeend",r({title:e,ariaLabel:i.getAttribute("data-remove-aria")})),t||(a.innerHTML=a.getAttribute("data-message-added"));var s=i.querySelector("li:last-child");s.querySelector(".filter-year-list__remove").addEventListener("click",function(){s.remove(),a.innerHTML=a.getAttribute("data-message-removed"),n.onYearChanged()})},e.getYears=function(){var e=[].concat(r(a.querySelectorAll("[data-year-value]"))).map(function(e){return e.getAttribute("data-year-value")});return o&&o.checked&&e.push(o.value),e},e.clearYears=function(){a.innerHTML="",t.parentElement.classList.remove("has-error")})}function n(e,t){var n=e.value.replace(/\s/g,"").split(",").filter(function(e){return e}).filter(function(e,t,n){return n.indexOf(e)===t}),i=function(e){if(-1===e.indexOf("-"))return!0;var t=e.split("-");return parseInt(t[0],10)<parseInt(t[1],10)};if(!e.checkValidity()||0===n.length||!function(e){return e.every(i)}(n))return e.parentElement.classList.add("has-error"),e.nextElementSibling.innerHTML=e.nextElementSibling.dataset.message,void t.resize();e.parentElement.classList.remove("has-error");(function(e,t){return t.filter(function(t){return!e.includes(t)})})(t.getYears(),function(e){return[e.join(", ")]}(n)).forEach(function(e){t.addYear(e)}),e.value="",t.onYearChanged()}var i=this,a=this.view.querySelectorAll(".clear-filters"),s=this.view.querySelector(".apply-filters"),o=this.view.querySelector(".filter-cta-container button"),l=this.view.querySelector(".filter-close");this.initSearch();var u=function(e,t){var n=function(t){if(t=t||window.event,-1===k.indexOf(t.which)&&-1===k.indexOf(t.keyCode)){if(!/[0-9\/]/.test(String.fromCharCode(t.which||t.keyCode)))return t.preventDefault(),!1;i.onInputChange(e,"input")}},a=function(e,t,n){t?(e.parentElement.classList.remove("has-error"),e.isValid=!0,e.nextElementSibling.innerHTML=""):(e.parentElement.classList.add("has-error"),e.isValid=!1,n||(e.nextElementSibling.innerHTML=e.nextElementSibling.getAttribute("data-message")))},r=function(e,t,n){var i=e.checkValidity()&&e.value.length>0;!t||n&&0===e.value.length||i?a(e,!0):a(e,!1,n),i||t||(e.value="")},s=function(e,t,n){if(n&&e.isValid&&t.isValid){var i=parseInt(e.value.replace("/","").substring(2)),r=parseInt(e.value.replace("/","").substring(0,2)),s=parseInt(t.value.replace("/","").substring(2)),o=parseInt(t.value.replace("/","").substring(0,2));(i>s||i===s&&r>o)&&(a(e,!1),a(t,!1))}},o=function(t){t.checked=!0,t.fromInput.removeAttribute("tabindex"),t.toInput.removeAttribute("tabindex"),i.onInputChange(e,"input")};if(e.filterPanel.querySelectorAll('input[type="radio"][value="DateRange"]').forEach(function(a){a.fromInput=e.filterPanel.querySelector(a.getAttribute("data-from")),a.fromInput.addEventListener("focus",function(){return o(a)}),a.fromInput.addEventListener("blur",function(){a.validate(!1,!0)}),a.fromInput.addEventListener("keypress",n),a.toInput=e.filterPanel.querySelector(a.getAttribute("data-to")),a.toInput.addEventListener("focus",function(){return o(a)}),a.toInput.addEventListener("blur",function(){a.validate(!1,!1)}),a.toInput.addEventListener("keydown",function(e){m.default.medium.matches&&(0,p.default)(e.keyCode,["tab"])&&!e.shiftKey&&!a.validate(!1,!1)&&(i.dateRangeInvalid=!0)}),a.toInput.addEventListener("keypress",n),a.validate=function(e,t){return r(a.fromInput,a.checked,e),r(a.toInput,a.checked,t),s(a.fromInput,a.toInput,a.checked),a.fromInput.isValid&&a.toInput.isValid},t.querySelectorAll('input[type="radio"][name='+a.getAttribute("name")+"]").forEach(function(e){e.addEventListener("change",function(){a.checked?(a.fromInput.removeAttribute("tabindex"),a.toInput.removeAttribute("tabindex")):(a.fromInput.setAttribute("tabindex","-1"),a.toInput.setAttribute("tabindex","-1")),a.validate(!0,!0),i.setLastFocusableItems()})})}),e.inputs.length>=2&&e.inputs[0].classList.contains("filter-date-range__from")&&e.inputs[1].classList.contains("filter-date-range__to")){e.fromInput=e.inputs[0],e.fromInput.addEventListener("blur",function(){e.validate(0===e.toInput.value.length,!0)}),e.fromInput.addEventListener("keypress",n),e.toInput=e.inputs[1],e.toInput.addEventListener("blur",function(){e.validate()}),e.toInput.addEventListener("keypress",n);var l=e.filterPanel.querySelector("#filter-date-range-perpetuity-checkbox");e.validate=function(t,n){return void 0===t&&void 0===n&&(t=0===e.toInput.value.length,n=0===e.fromInput.value.length),r(e.fromInput,!0,t),r(e.toInput,!0,n),s(e.fromInput,e.toInput,e.fromInput.value.length>0||e.toInput.value.length>0),i.resize(),e.fromInput.isValid&&e.toInput.isValid},e.getDateRange=function(){var t=e.fromInput.value.length>0||e.toInput.value.length>0?[{from:e.fromInput.value,to:e.toInput.value}]:[];return l&&l.checked&&t.push(l.value),t}}};this.filters=this.filterButtons.map(function(t){var n={element:t,filterKey:t.getAttribute("data-filter-key"),open:!1,selected:null,selectedCount:0,initialSelected:null,initialSelectedHash:""};e.bind(i)(i.view,n);var a=i.getSelectedFilterOptions(n);n.initialSelected=n.selected=a,n.initialSelectedHash=n.selectedHash=JSON.stringify(a),n.element.addEventListener("click",function(e){e.preventDefault(),i.toggle(e.currentTarget)},!1),n.element.addEventListener("keydown",function(e){if(m.default.medium.matches&&i.openPanel&&null!==i.applyButtonContainer.offsetParent&&null!==i.applyButton.offsetParent&&(0,p.default)(e.keyCode,["tab"]))if(e.shiftKey){var t=n.element.closest(".filter__fieldset").previousElementSibling;if(!t)return;var a=t.querySelector(".filter-items");a==i.openPanel&&(e.preventDefault(),i.applyButton.focus())}else if(!i.searchInput){var r=n.element.closest(".filter__fieldset").nextElementSibling;r&&r.classList.contains("filter__fieldset")?i.normalApplyButtonFocus=!1:i.normalApplyButtonFocus=!0}}),"function"==typeof n.getYears&&(n.onYearChanged=function(){i.onInputChange(n,"year"),i.resize(),i.setLastFocusableItems()},n.resize=function(){i.resize()});var r=t.querySelector(".dropdown__filter-name");return r&&(n.filterName=r.innerText),n}),this.filters.forEach(function(e){e.filterPanel.addEventListener("change",function(t){i.onInputChange(e,t.target.nodeName.toLowerCase())})}),s.addEventListener("click",function(e){return i.onApply(e.currentTarget)},!1),a.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),i.onClearAll(i.filters),i.resize()})}),this.setLastFocusableItems(),this.applyButton.addEventListener("keydown",function(e){if(m.default.medium.matches&&i.openPanel&&!i.normalApplyButtonFocus&&(0,p.default)(e.keyCode,["tab"]))if(e.shiftKey){var t=i.filters.filter(function(e){return e.open}).pop();t.lastFocusableElement&&(e.preventDefault(),t.lastFocusableElement.focus())}else{var n=i.openPanel.closest(".filter__fieldset").nextElementSibling;if(!n)return;for(;null===n.offsetParent;)if(!(n=n.nextElementSibling))return;var a=n.querySelector(_.join(", "));a&&(e.preventDefault(),a.focus())}i.normalApplyButtonFocus=!1}),o.addEventListener("click",function(){return i.open()},!1),l.addEventListener("click",function(){i.close(),i.restoreFilterState(i.filterStateOnOpen)},!1),l.addEventListener("keydown",function(e){return i.closeKeyDown(e)},!1),window.addEventListener("resize",function(){return i.resize()},!1),m.default.small.addListener(function(e){i.mediaQuerySwitch(e)}),this.mediaQuerySwitch(m.default.small),this.filters.forEach(function(e){i.updateCounters(e)}),this.saveCurrentSelectedStateAsInitial()}},{key:"setLastFocusableItems",value:function(){var e=this;this.filters.forEach(function(t){t.lastFocusableElement&&t.lastFocusableElement.removeEventListener("keydown",e.onLastFocusableElementTabBound);var n=t.filterPanel.querySelectorAll(_.join(", "));t.lastFocusableElement=n[n.length-1],t.lastFocusableElement.addEventListener("keydown",e.onLastFocusableElementTabBound)})}},{key:"onLastFocusableElementTab",value:function(e){if(m.default.medium.matches&&(0,p.default)(e.keyCode,["tab"])&&!e.shiftKey&&null!==this.applyButtonContainer.offsetParent&&null!==this.applyButton.offsetParent){var t=this.openPanel.querySelector(".has-error input");e.target.classList.contains("filter-date-range__to")&&null!==t&&this.dateRangeInvalid?(e.preventDefault(),t.focus(),this.dateRangeInvalid=!1):(e.preventDefault(),this.applyButton.focus())}}},{key:"initSearch",value:function(){var e=this;if(this.searchInput=this.dropdownContainer.querySelector(".filter-search__input"),this.searchClear=this.dropdownContainer.querySelector(".filter-search__clear"),this.searchSubmit=this.dropdownContainer.querySelector(".filter-search__submit"),this.searchInput&&this.searchClear&&this.searchSubmit){var t=function(t){t.preventDefault(),e.toogleSearchIcon(),e.onApply()};this.searchInput.addEventListener("keypress",function(n){if((13==n.which||13==n.keyCode)&&e.searchInput.value.trim().length>0)return t(n),!1}),this.searchInput.addEventListener("focus",function(){e.disableFilters(!0),e.resize()}),this.searchInput.addEventListener("blur",function(){e.disableFilters(!1)}),this.searchSubmit.addEventListener("click",function(n){e.searchInput.value.trim().length>0&&t(n)}),this.searchClear.addEventListener("click",function(n){e.searchInput.value="",t(n)})}}},{key:"toogleSearchIcon",value:function(){this.searchInput&&(this.searchInput.value.trim().length>0?(this.searchSubmit.style.display="none",this.searchClear.style.display="block"):(this.searchSubmit.style.display="block",this.searchClear.style.display="none"))}},{key:"resize",value:function(){m.default.medium.matches&&this.openPanel?this.container.style.marginBottom=this.openPanel.scrollHeight+"px":this.container.style.marginBottom=0}},{key:"disableFilters",value:function(e){e&&!1===this.getFilterState().isValid||(this.filters.forEach(function(t){e?t.element.classList.add("looks-disabled"):t.element.classList.remove("looks-disabled")}),e?(this.dropdownContainer.classList.add("is-disabled"),this.toggle(),this.applyButtonContainer.style.display="none"):this.dropdownContainer.classList.remove("is-disabled"))}},{key:"updateDisplayedNumbersOfItems",value:function(e){if(this.activated){if(!e)return void(this.results.textContent="");var t=this.resultsAria.getAttribute("data-resultname").split("|"),n=t[1===e.total&&t.length>1?1:0];this.results.removeAttribute("tabindex"),this.resultsToDisplay.textContent=e?this.resultsAria.getAttribute("data-label").replace("{from}",e.from.toLocaleString(this.lang)).replace("{to}",e.to.toLocaleString(this.lang)).replace("{total}",e.total.toLocaleString(this.lang)).replace("{resultname}",n):"",this.resultsAria.setAttribute("aria-hidden",!1);var i=e?this.resultsAria.getAttribute("data-label-aria").replace("{from}",e.from).replace("{to}",e.to).replace("{total}",e.total).replace("{resultname}",n):"";if(this.resultsAria.innerHTML=i,this.resultsToAnnounce&&(this.resultsToAnnounce.textContent=i),this.filterApplied){var a=[];this.filters.forEach(function(e){e.inputs.forEach(function(e){e.checked&&a.push(e.value)})});var r=this.resultsAria.getAttribute("data-filtered-aria").replace("{filters}",a.join(", "));this.resultsAria.innerHTML=this.resultsAria.innerHTML+", "+r}}}},{key:"disableTracking",value:function(){this.trackingEnabled=!1}},{key:"getFilterNames",value:function(){return this.filters.reduce(function(e,t){return o({},e,a({},t.filterKey,t.filterName))},{})}},{key:"getFilterOptionsTexts",value:function(){var e=function(e){return document.querySelector('label[for="'+e+'"]')},t=function(t){return t.reduce(function(t,n){return o({},t,a({},n.value,e(n.id).innerText.trim()))},{})};return this.filters.reduce(function(e,n){return o({},e,a({},n.filterKey,t([].concat(r(n.inputs)))))},{})}}]),e}();t.default=E},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(60),c=(i(u),n(13)),h=i(c),d=function(){function e(t){s(this,e),this.applyCallback=t}return l(e,[{key:"activate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.serverReload;e&&(this.view=e,this.options={serverReload:void 0!==i&&!1!==i},this.results=this.view.querySelector(".filter-results"),this.resultsToAnnounce=this.view.querySelector(".filter-results .filter-results__to-announce"),this.resultsToDisplay=this.view.querySelector(".filter-results .filter-results__to-display"),this.resultsAria=this.view.querySelector(".filter-results-aria"),this.urlUtil=new h.default,this.filters=[].concat(r(this.view.querySelectorAll(".search-filter"))).map(function(e){var t=e.querySelector("button");return{element:e,button:t,key:t.dataset.key,options:[].concat(r(e.querySelectorAll("li a")))}}),this.filters.forEach(function(e){var n=e.button;n.ariaLabel=n.getAttribute("aria-label"),n.setAttribute("aria-label",n.ariaLabel.replace("{option}",n.textContent)),n.parentNode.addEventListener("show.bs.dropdown",function(){n.closest("fieldset").style.marginRight=n.parentNode.getBoundingClientRect().width+"px"},!1),n.parentNode.addEventListener("hide.bs.dropdown",function(){n.closest("fieldset").style.marginRight=""},!1);var i=e.element.querySelector(".search-filter__current");e.options.forEach(function(n){n.addEventListener("click",function(n){n.preventDefault(),t.selectOption(n,e,i)})})}),this.filters&&this.filters.length&&this.results&&(this.lang=document.getElementsByTagName("html")[0].getAttribute("lang")||"en-US",this.activated=!0))}},{key:"selectOption",value:function(e,t,n){t.options.forEach(function(e){return e.classList.remove("search-filter--active")}),n.textContent=e.currentTarget.getAttribute("data-name"),e.currentTarget.classList.add("search-filter--active"),t.button.setAttribute("aria-label",t.button.ariaLabel.replace("{option}",n.textContent)),t.button.focus(),this.applySelection()}},{key:"applySelection",value:function(){var e=this.getState();this.options.serverReload?this.causeServerReload(e):"function"==typeof this.applyCallback&&this.applyCallback(e)}},{key:"getState",value:function(){return this.filters.reduce(function(e,t){return o({},e,a({},t.key,t.element.querySelector(".search-filter--active").dataset.value))},{})}},{key:"updateQueryParameters",value:function(e,t){var n=this;return Object.keys(t).forEach(function(i){var a=t[i];e=null===a?n.urlUtil.removeParameterByName(i,e):n.urlUtil.setParameterByName(encodeURI(i),encodeURI(a),e)}),e}},{key:"causeServerReload",value:function(e){window.location.href=this.updateQueryParameters(window.location.href,e)}},{key:"updateDisplayedNumbersOfItems",value:function(e){if(this.activated){if(!e)return void(this.results.textContent="");var t=this.resultsAria.getAttribute("data-resultname").split("|"),n=t[1===e.total&&t.length>1?1:0];this.results.removeAttribute("tabindex"),this.results.removeAttribute("aria-label"),this.results.setAttribute("aria-hidden",!0),this.resultsToDisplay.textContent=e?this.resultsAria.getAttribute("data-label").replace("{from}",e.from.toLocaleString(this.lang)).replace("{to}",e.to.toLocaleString(this.lang)).replace("{total}",e.total.toLocaleString(this.lang)).replace("{resultname}",n):"";var i=e?this.resultsAria.getAttribute("data-label-aria").replace("{from}",e.from).replace("{to}",e.to).replace("{total}",e.total).replace("{resultname}",n):"";this.resultsAria.innerHTML=i,this.resultsToAnnounce&&(this.resultsToAnnounce.textContent=i)}}},{key:"getNameByValue",value:function(e,t){var n=this.filters.find(function(t){return t.key===e});if(!n)return"";var i=n.options.find(function(e){return e.dataset.value===t});return i?i.dataset.name:""}}]),e}();t.default=d},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.EventRegistry=t.dispatch=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(5),s=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function(e){var t=e.element,n=e.type,i=e.handler;return t&&t instanceof HTMLElement&&"string"==typeof n&&n.length>0&&"function"==typeof i},l=function(e){var t=e.type;return"string"==typeof t&&t.length>0},u=(t.dispatch=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;if(l(e)){var n=e.type,i=e.params,a=new s.default(n,{detail:i});t.dispatchEvent(a)}},function(e){return e.element.addEventListener(e.type,e.handler)}),c=function(e){return e.element.removeEventListener(e.type,e.handler)};t.EventRegistry=function(){function e(){i(this,e),this.events=[]}return a(e,[{key:"add",value:function(e,t,n){var i={element:e,type:t,handler:n};o(i)&&(u(i),this.register(i))}},{key:"register",value:function(e){o(e)&&this.events.push(e)}},{key:"removeAll",value:function(){this.events.forEach(function(e){return c(e)}),this.events=[]}}]),e}()},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.makeOnLoadNotification=t.isAccepted=t.NotificationStore=t.POSITIVE_ACTION_MARKER=void 0;var a,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s=n(16),o=n(41),l=t.POSITIVE_ACTION_MARKER="ACCEPTED",u=t.NotificationStore=(a={},i(a,o.StorageMechanism.LOCAL,(0,o.makeStorage)("NotificationStore",o.StorageMechanism.LOCAL)),i(a,o.StorageMechanism.SESSION,(0,o.makeStorage)("NotificationStore",o.StorageMechanism.SESSION)),a),c=function(e){var t=e.id;return"id"===e.rememberBy?t:window.location.pathname},h=function(e){var t=e.rememberPermanently;return u[t?o.StorageMechanism.LOCAL:o.StorageMechanism.SESSION]},d=function(e){return function(t){var n=function(){if(t.props.remember){var e=h(t.props),n=c(t.props);null!=e&&(console.log("Storing ("+e.mechanism+") positive CTA of the notification: "+n),e.set(n,l))}};return"function"==typeof e?e(t,n):(0,s.defaultCtaPositiveHandler)(t,n)}},f=t.isAccepted=function(e){var t=h(e.props),n=c(e.props);return t.get(n)===l};t.makeOnLoadNotification=function(e){var t=(0,s.makePopupNotification)(r({},e,{ctaPositiveHandler:d(e.ctaPositiveHandler)}));return t.mount(),f(t)||setTimeout(function(){t.open()},0),t}},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(94),o=function(e){return e&&e.__esModule?e:{default:e}}(s),l=[30,60,100,250],u=function(){function e(t,n){a(this,e),this.changePageCallback=t,this.changeItemsPerPageCountCallback=n}return r(e,[{key:"activate",value:function(e,t){var n=this;this.view=e,this.numberOfItemsElement=this.view.querySelectorAll(".pagination__numbers-of-items"),this.itemsPerPageElement=this.view.querySelector(".pagination__itemsPerPage"),this.itemsPerPageListElement=this.view.querySelector(".pagination__numbers"),this.previousButtons=[].concat(i(this.view.querySelectorAll(".pagination__previous"))),this.nextButtons=[].concat(i(this.view.querySelectorAll(".pagination__next"))),this.viewsPerPageButton=this.view.querySelector(".pagination__menu__views-per-page-button"),this.lang=document.getElementsByTagName("html")[0].getAttribute("lang")||"en-US",this.itemsPerPageOptions=t.itemsPerPageOptions?t.itemsPerPageOptions.replace(" ","").split(","):[],this.numberOfItemsLabel=t.numberOfItems||"{from}-{to} of {total}",this.numberOfItemsAria=t.numberOfItemsAria||"Displaying {from} to {to} of {total} items",this.perPageSelectedAria=t.perPageSelectedAria||"Displaying {count} items per page",this.perPageOptionAria=t.perPageOptionAria||"Display {count} items per page",this.itemsPerPageListElement.innerHTML="",0===this.itemsPerPageOptions.length&&(this.itemsPerPageOptions=l),this.itemsPerPageOptions.forEach(function(e,t){n.itemsPerPageListElement.insertAdjacentHTML("beforeend",'<li><a href="javascript:void(0)" class="'+(0===t?"pagination__dropdown--active":"")+'" data-count="'+e+'" aria-label="'+n.perPageOptionAria.replace("{count}",e)+'">'+e+"</a></li>")}),this.itemsPerPage=parseInt(t.take||this.itemsPerPageOptions[0],10),this.viewsPerPageButton&&(this.viewsPerPageButton.setAttribute("aria-label",this.perPageSelectedAria.replace("{count}",this.itemsPerPage)),this.itemsPerPageDropdown=new o.default.Dropdown(this.viewsPerPageButton)),[].concat(i(this.itemsPerPageListElement.querySelectorAll("a"))).forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),n.changeItemsPerPageCount(parseInt(e.currentTarget.getAttribute("data-count"),10)),n.viewsPerPageButton&&n.viewsPerPageButton.setAttribute("aria-label",n.perPageSelectedAria.replace("{count}",e.currentTarget.getAttribute("data-count")))})}),this.initPaginationButtons(this.previousButtons,this.previousPage),this.initPaginationButtons(this.nextButtons,this.nextPage)}},{key:"initPaginationButtons",value:function(e,t){var n=this;1===e.length&&(e=[e]),e.forEach(function(e){return e.addEventListener("click",function(){return t.call(n)})})}},{key:"update",value:function(e,t,n){var a=this;this.currentPage=+t,this.itemsCount=+e,this.itemsPerPage=+n,this.pageCount=Math.ceil(this.itemsCount/this.itemsPerPage);var r=this.calculateDisplayedNumbersOfItems(this.itemsCount,this.currentPage,this.itemsPerPage);this.itemsFrom=r.from,this.itemsTo=r.to,[].concat(i(this.numberOfItemsElement)).map(function(e){return e.textContent=a.getDisplayedNumbersOfItemsText(),e}).forEach(function(e){return e.setAttribute("aria-label",a.getDisplayedNumbersOfItemsAria())}),this.itemsPerPageElement.innerHTML='<span aria-hidden="true">'+this.itemsPerPage+"</span>",this.itemsPerPageListElement.querySelectorAll("a").forEach(function(e){return e.classList.remove("pagination__dropdown--active")}),this.setPaginationNumber(n),this.nextButtonDisabled=this.currentPage>=this.pageCount,this.updatePageLinks(this.nextButtons,this.nextButtonDisabled),this.previousButtonDisabled=this.currentPage<=1,this.updatePageLinks(this.previousButtons,this.previousButtonDisabled)}},{key:"setPaginationNumber",value:function(e){this.itemsPerPageOptions.indexOf(e.toString())>-1&&this.itemsPerPageListElement.querySelector('a[data-count="'+e+'"]').classList.add("pagination__dropdown--active")}},{key:"updatePageLinks",value:function(e,t){!0===t?e.forEach(function(e){e.classList.add("pagination__page-link--disabled"),e.setAttribute("tabindex",-1),e.disabled=!0}):e.forEach(function(e){e.classList.remove("pagination__page-link--disabled"),e.removeAttribute("tabindex"),e.disabled=!1})}},{key:"calculateDisplayedNumbersOfItems",value:function(e,t,n){var i=(t-1)*n;return{from:Math.min(i+1,e),to:Math.min(i+n,e)}}},{key:"getDisplayedNumbersOfItemsText",value:function(){if(this.itemsFrom)return this.numberOfItemsLabel.replace("{from}",this.itemsFrom.toLocaleString(this.lang)).replace("{to}",this.itemsTo.toLocaleString(this.lang)).replace("{total}",this.itemsCount.toLocaleString(this.lang))}},{key:"getDisplayedNumbersOfItemsAria",value:function(){if(this.itemsFrom)return this.numberOfItemsAria.replace("{from}",this.itemsFrom.toLocaleString(this.lang)).replace("{to}",this.itemsTo.toLocaleString(this.lang)).replace("{total}",this.itemsCount.toLocaleString(this.lang))}},{key:"getDisplayedNumbersOfItems",value:function(){return{from:this.itemsFrom,to:this.itemsTo,total:this.itemsCount}}},{key:"previousPage",value:function(){this.currentPage<=1||this.previousButtonDisabled||(this.currentPage-=1,"function"==typeof this.changePageCallback?this.changePageCallback(this.currentPage):this.update(this.itemsCount,this.currentPage,this.itemsPerPage))}},{key:"nextPage",value:function(){this.currentPage>=this.pageCount||(this.currentPage+=1,"function"==typeof this.changePageCallback?this.changePageCallback(this.currentPage):this.update(this.itemsCount,this.currentPage,this.itemsPerPage))}},{key:"changeItemsPerPageCount",value:function(e){"function"==typeof this.changeItemsPerPageCountCallback?this.changeItemsPerPageCountCallback(e):this.update(this.itemsCount,1,e)}}]),e}();t.default=u},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.getSharePriceBarHeight=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(2),o=i(s),l=n(60),u=(i(l),n(1)),c=n(0),h=n(4),d=i(h),f=function(){function e(){a(this,e),this.view=null}return r(e,[{key:"activate",value:function(e){var t=this;if(this.view=e,this.script=this.view.nextElementSibling,this.content=this.view.querySelector(".share-price__content"),this.heading=this.view.querySelector(".share-price__heading"),this.altHeading=this.view.querySelector(".share-price__heading-alt"),this.table=this.view.querySelector(".share-price__table"),this.tableRows=this.table.getElementsByClassName("share-price__table-data"),this.numberOfRows=this.tableRows.length,this.isHeaderBar=null===this.view.closest("main")||0===this.view.closest("main").length||this.view.classList.contains("share-price--bar"),this.header=(0,c.getHeader)(!0),this.wentToHeader=!1,this.toggle=this.view.querySelector(".share-price__toggle"),this.control=this.view.querySelector(".share-price__control"),this.controlText=this.control.querySelector(".sr-only"),this.cta=this.view.querySelector(".share-price__cta"),this.expanded=!1,this.isMediumViewport=o.default.medium.matches,this.interval=4e3,this.scrollInterval,this.currentDisplayedRow=0,this.wasScrolling=!1,!this.table||!this.content||!this.table||0===this.numberOfRows)return null;this.toggle&&(this.toggleText=this.toggle.querySelector(".share-price__toggle-text"),this.toggleIcon=this.toggle.querySelector(".share-price__toggle-icon"),this.toggle.addEventListener("click",this.toggleSharePricesBar.bind(this))),this.isHeaderBar?(this.view.classList.add("share-price--bar"),this.view.id="share-price-bar",this.cta&&this.cta.setAttribute("tabindex","-1"),this.positionHeaderBar(),this.duplicateFirstRow(),this.scrollTable(),this.control.addEventListener("click",function(){return t.playPause()}),window.addEventListener("resize",(0,u.throttle)(20,this.positionHeaderBar.bind(this))),this.heading.remove()):this.altHeading.remove()}},{key:"getRowHeight",value:function(){return void 0!==this.tableRows[0]?this.tableRows[0].scrollHeight:0}},{key:"playPause",value:function(){this.scrollInterval?this.stopScrolling():this.scrollTable()}},{key:"resetScroll",value:function(){this.table.style.top="0px",this.expanded||(this.view.style.height=this.getRowHeight()-1+"px")}},{key:"positionHeaderBar",value:function(){o.default.medium.matches?this.isMediumViewport&&this.wentToHeader||((0,c.moveElementsBefore)([this.view],this.header,!0),this.resetScroll(),this.isMediumViewport=!0,this.wentToHeader=!0):!this.isMediumViewport&&this.wentToHeader||(this.expanded&&this.collapse(),(0,c.moveElementsAfter)([this.view],this.header,!0),this.resetScroll(),this.isMediumViewport=!1,this.wentToHeader=!0)}},{key:"duplicateFirstRow",value:function(){(0,c.moveAfter)(this.tableRows[0].cloneNode(!0),this.tableRows[this.tableRows.length-1]),this.tableRows[this.tableRows.length-1].setAttribute("aria-hidden",!0),this.numberOfRows=this.tableRows.length}},{key:"hideDuplicatedRow",value:function(){this.tableRows[this.tableRows.length-1].classList.add("share-price__table-data--hidden")}},{key:"showDuplicatedRow",value:function(){this.tableRows[this.tableRows.length-1].classList.remove("share-price__table-data--hidden")}},{key:"scrollTable",value:function(){var e=this;this.scrollInterval||this.expanded||(this.stopScrolling(),this.control.classList.remove("share-price__control--paused"),this.controlText.innerText=this.control.getAttribute("data-text-pause"),this.scrollInterval=setInterval(function(){0===e.currentDisplayedRow&&(e.currentDisplayedRow=1),e.displayCurrentRow(),++e.currentDisplayedRow===e.numberOfRows&&setTimeout(function(){e.table.classList.add("noscroll"),e.table.style.top="0px",setTimeout(function(){e.table.classList.remove("noscroll"),e.currentDisplayedRow=1},500)},500)},this.interval))}},{key:"displayCurrentRow",value:function(){this.table.style.top="-"+this.currentDisplayedRow*this.getRowHeight()+"px"}},{key:"stopScrolling",value:function(){if(this.scrollInterval){var e=this.scrollInterval;this.scrollInterval=null,clearInterval(e),this.control.classList.add("share-price__control--paused"),this.controlText.innerText=this.control.getAttribute("data-text-play")}}},{key:"toggleSharePricesBar",value:function(){this.table.style.top="0px",this.expanded?this.collapse():this.expand()}},{key:"expand",value:function(){var e=this;this.control.classList.contains("share-price__control--paused")||(this.wasScrolling=!0),this.stopScrolling(),this.hideDuplicatedRow(),this.toggle.classList.remove("share-price__toggle--open"),this.toggle.classList.add("share-price__toggle--close"),this.toggle.setAttribute("aria-expanded","true"),this.control.classList.add("fade"),setTimeout(function(){return e.control.style.display="none"},250),this.cta&&this.cta.removeAttribute("tabindex"),this.view.style.height=this.content.scrollHeight+"px",null!==this.toggleText&&null!==this.toggleIcon&&(this.toggleText.innerText=this.toggle.getAttribute("data-text-collapse"),this.toggleIcon.classList.remove("hsbc-panel-open"),this.toggleIcon.classList.add("hsbc-close")),this.expanded=!0,d.default.trackEvent({event_type:"click",event_category:"content",event_action:"accordion",event_content:"SharePrice"})}},{key:"collapse",value:function(){var e=this;setTimeout(function(){return e.showDuplicatedRow()},250),this.toggle.classList.remove("share-price__toggle--close"),this.toggle.classList.add("share-price__toggle--open"),this.toggle.setAttribute("aria-expanded","false"),this.control.style.display="block",setTimeout(function(){return e.control.classList.remove("fade")},50),this.cta&&this.cta.setAttribute("tabindex","-1"),this.view.style.height=this.getRowHeight()-1+"px",null!==this.toggleText&&null!==this.toggleIcon&&(this.toggleText.innerText=this.toggle.getAttribute("data-text-expand"),this.toggleIcon.classList.remove("hsbc-close"),this.toggleIcon.classList.add("hsbc-panel-open")),this.currentDisplayedRow=0,this.expanded=!1,this.displayCurrentRow(),this.wasScrolling&&(this.scrollTable(),this.wasScrolling=!1)}}]),e}();t.default=f;t.getSharePriceBarHeight=function(){var e=document.querySelector("body > .share-price");return e?e.clientHeight:0}},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.ON_LEAF_SUBMENU_ITEM_FOCUSED=t.ON_SUBMENU_ITEM_EXPANDED=t.ON_SUBMENU_ITEM_FOCUSED_WHEN_COLLAPSED=t.ON_SUBMENU_ITEM_FOCUSED_WHEN_EXPANDED=t.ON_TOP_ITEM_EXPANDED=t.ON_TOP_ITEM_FOCUSED_WHEN_EXPANDED=t.ON_TOP_ITEM_FOCUSED_WHEN_ALL_COLLAPSED_AND_OTHER_EXPANDED=t.ON_TOP_ITEM_FOCUSED_WHEN_ALL_COLLAPSED=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(12),o=function(e){return e&&e.__esModule?e:{default:e}}(s),l=n(9),u=t.ON_TOP_ITEM_FOCUSED_WHEN_ALL_COLLAPSED="ON_TOP_ITEM_FOCUSED_COLLAPSED",c=t.ON_TOP_ITEM_FOCUSED_WHEN_ALL_COLLAPSED_AND_OTHER_EXPANDED="ON_TOP_ITEM_FOCUSED_WHEN_ALL_COLLAPSED_AND_OTHER_EXPANDED",h=t.ON_TOP_ITEM_FOCUSED_WHEN_EXPANDED="ON_TOP_ITEM_FOCUSED_WHEN_EXPANDED",d=t.ON_TOP_ITEM_EXPANDED="ON_TOP_ITEM_EXPANDED",f=t.ON_SUBMENU_ITEM_FOCUSED_WHEN_EXPANDED="ON_SUBMENU_ITEM_FOCUSED_WHEN_EXPANDED",p=t.ON_SUBMENU_ITEM_FOCUSED_WHEN_COLLAPSED="ON_SUBMENU_ITEM_FOCUSED_WHEN_COLLAPSED",v=t.ON_SUBMENU_ITEM_EXPANDED="ON_SUBMENU_ITEM_EXPANDED",m=t.ON_LEAF_SUBMENU_ITEM_FOCUSED="ON_LEAF_SUBMENU_ITEM_FOCUSED",g=function(){function e(t){var n,r;a(this,e),this.messagesForKeyboardUsers=(n={},i(n,u,t.getAttribute("data-keyboard-topmenu-item-message-on-focused-when-all-collapsed")),i(n,c,t.getAttribute("data-keyboard-topmenu-item-message-on-focused-when-collapsed-and-other-expanded")),i(n,h,t.getAttribute("data-keyboard-topmenu-item-message-on-focused-when-expanded")),i(n,d,t.getAttribute("data-keyboard-topmenu-item-message-on-expanded")),i(n,f,t.getAttribute("data-keyboard-submenu-item-message-on-focused-when-expanded")),i(n,p,t.getAttribute("data-keyboard-submenu-item-message-on-focused-when-collapsed")),i(n,v,t.getAttribute("data-keyboard-submenu-item-message-on-expanded")),i(n,m,t.getAttribute("data-keyboard-submenu-leaf-item-message-on-focused")),n),this.messagesForTouchScreenUsers=(r={},i(r,u,t.getAttribute("data-touchscreen-topmenu-item-message-on-focused-when-all-collapsed")),i(r,c,t.getAttribute("data-touchscreen-topmenu-item-message-on-focused-when-collapsed-and-other-expanded")),i(r,h,t.getAttribute("data-touchscreen-topmenu-item-message-on-focused-when-expanded")),i(r,d,t.getAttribute("data-touchscreen-topmenu-item-message-on-expanded")),i(r,f,t.getAttribute("data-touchscreen-submenu-item-message-on-focused-when-expanded")),i(r,p,t.getAttribute("data-touchscreen-submenu-item-message-on-focused-when-collapsed")),i(r,v,t.getAttribute("data-touchscreen-submenu-item-message-on-expanded")),i(r,m,t.getAttribute("data-touchscreen-submenu-leaf-item-message-on-focused")),r),this.announcer=new o.default}return r(e,[{key:"announce",value:function(e,t){var n=(0,l.isMobile)()?this.messagesForTouchScreenUsers[e]:this.messagesForKeyboardUsers[e];this.announcer.announce(n,t)}}]),e}();t.default=g},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(5),l=i(o),u=n(2),c=i(u),h=n(10),d=i(h),f=n(12),p=i(f),v=n(6),m=i(v),g=(n(1),{expandButton:"Show all",expandAria:"Information bundle hidden. Show information bundle.",collapseButton:"Hide all",collapseAria:"Information bundle shown. Hide information bundle."}),y=function(){function e(){r(this,e)}return s(e,[{key:"initToggle",value:function(e,t,n){var i=this;this.view=e,this.toggleMultiple=t.toggleMultiple||!1,this.toggleOnlyShow=t.toggleOnlyShow||!1,this.toggleDefaultCollapsed=t.toggleDefaultCollapsed||!1,this.toggleLabels=t.toggleLabels||g,this.focusOnceExpandedSelector=t.focusOnceExpandedSelector||!1,[].concat(a(e.querySelectorAll(t.toggleSelector))).forEach(function(e){if(void 0!==t.toggleContentInitiazation&&i.initializeToggleContent(e,t.toggleContentInitiazation),!e.classList.contains("is-disabled")){var a=e.getAttribute("data-table-toggle");i.setToggleState(e,a,!i.toggleDefaultCollapsed),i.bindToggleEvent(e,a,n)}})}},{key:"initializeToggleContent",value:function(e,t){var n=c.default.large.matches?t.visibleItemsDesktopCount:t.visibleItemsMobileCount,i="",r=[].concat(a(this.view.querySelectorAll(t.selector)));if(r.length<=n)return void e.classList.add("is-disabled");r.slice(n).forEach(function(e,n){e.style.display="none",e.classList.add(t.toggleClass),e.id=""+t.toggleIdPrefix+n,i+=e.id+" "}),e.setAttribute("aria-controls",i.trim()),e.setAttribute("data-table-toggle","."+t.toggleClass)}},{key:"setToggleState",value:function(e,t,n,i){var r=this;if(n){e.classList.remove("collapsed"),e.setAttribute("aria-expanded",!0),e.querySelector(".text").innerText=this.toggleLabels.collapseButton,e.querySelector(".sr-only").innerText=this.toggleLabels.collapseAria;var s=e.closest("tr");if(null!==s){s.classList.remove("collapsed"),s.classList.add("expanded");var o=e.closest(".table-cell-mobile");if(null!==o){var l=[].concat(a(s.querySelectorAll("td > .table-cell-mobile"))).map(function(e){return e.clientHeight}),u=Math.max.apply(Math,a(l));o.clientHeight<u&&(o.style.minHeight=u+"px")}}var c=[].concat(a(this.view.querySelectorAll(t)));if(this.toggleMultiple?c.forEach(function(e){e.style.display="",e.setAttribute("aria-hidden","false"),r.constructor.toggleChildrenLinksFocusability(e,!0)}):c.forEach(function(e){e.classList.add("in"),setTimeout(function(){return e.setAttribute("aria-hidden","false")},100),e.style.maxHeight=e.scrollHeight+"px",r.constructor.toggleChildrenLinksFocusability(e,!0)}),!i&&this.focusOnceExpandedSelector&&c.length>0){var h="self"===this.focusOnceExpandedSelector?c[0]:c[0].querySelector(this.focusOnceExpandedSelector);if(null!==h){var f=window.navigator.userAgent.toUpperCase();if(f.indexOf("SAFARI")>=0&&f.indexOf("CHROME")<0&&"LI"===h.nodeName){var p=h.querySelector("a");if(null!==p){h=p,h.classList.add("outline-none");var v=function e(){h.classList.remove("outline-none"),h.removeEventListener("blur",e)};h.addEventListener("blur",v)}}h.hasAttribute("tabindex")||h.setAttribute("tabindex",-1),d.default.focusWithoutScroll(h)}}}else{e.classList.add("collapsed"),e.setAttribute("aria-expanded",!1),e.querySelector(".text").innerText=this.toggleLabels.expandButton,e.querySelector(".sr-only").innerText=this.toggleLabels.expandAria;var m=e.closest("tr");null!==m&&(m.classList.add("collapsed"),setTimeout(function(){e.closest("tr").classList.remove("expanded");var t=e.closest(".table-cell-mobile");null!==t&&(t.style.minHeight="")},350));var g=[].concat(a(this.view.querySelectorAll(t)));this.toggleMultiple?g.forEach(function(e){e.style.display="none",e.setAttribute("aria-hidden","true"),r.constructor.toggleChildrenLinksFocusability(e,!1)}):g.forEach(function(e){e.classList.remove("in"),setTimeout(function(){return e.setAttribute("aria-hidden","true")},100),e.style.maxHeight="",r.constructor.toggleChildrenLinksFocusability(e,!1)})}}},{key:"bindToggleEvent",value:function(e,t,n){var i=this;e.addEventListener("click",function(a){i.setToggleState(e,t,a.currentTarget.classList.contains("collapsed"),a.detail&&a.detail.forcedClick),i.toggleOnlyShow&&(a.currentTarget.style.display="none"),"function"==typeof n&&n()})}},{key:"initCommonToggleControl",value:function(e){var t=this,n=[].concat(a(document.querySelectorAll(e)));0!==n.length&&(c.default.cssLarge.addListener(function(){return t.setToggleControlsPosition(n)}),this.setToggleControlsPosition(n),n.filter(function(e){return!e.classList.contains("is-disabled")}).forEach(function(e){e.addEventListener("click",function(i){return t.triggerToggleOnAllControls(n,e,i)})}))}},{key:"setToggleControlsPosition",value:function(e){if(c.default.cssLarge.matches){var t=[];e.forEach(function(e){if(e.style.left="",e.parentElement.style.marginTop="",e.classList.contains("is-disabled"))e.parentElement.classList.add("is-empty");else{var n=e.getClientRects()[0];e.style.left=document.body.clientWidth/2-n.width/2-n.left+15+"px"}t.push(e.parentElement.offsetTop+e.parentElement.offsetHeight)});var n=Math.max.apply(Math,t);e.forEach(function(e,i){t[i]<n&&(e.parentElement.style.marginTop=n-t[i]+"px")})}}},{key:"triggerToggleOnAllControls",value:function(e,t,n){var i=this;if(!(!c.default.cssLarge.matches||n.detail&&n.detail.forcedClick)){var a=new l.default("click",{detail:{forcedClick:!0}});e.forEach(function(e){e!==t&&e.classList.contains("collapsed")!==t.classList.contains("collapsed")&&e.dispatchEvent(a)}),setTimeout(function(){return i.setToggleControlsPosition(e)},25)}}},{key:"initTableShiftFunctionality",value:function(e){var t=this,n=e.parentElement.querySelectorAll(".table-module"),i=void 0,a=void 0,r=void 0;return 4===n.length&&(n[0]===e?(i=n[2],a=n[3],r=n[1]):n[1]===e&&(i=n[3],a=n[2],r=n[0])),void 0!==a?function(){return t.shiftTablesWhenToggle(e,i,a,r)}:null}},{key:"shiftTablesWhenToggle",value:function(e,t,n,i){n.style.removeProperty("margin-top"),t.style.removeProperty("margin-top");var a=n.offsetTop-i.offsetTop-i.clientHeight;n.style.setProperty("margin-top",-a+"px");var r=t.offsetTop-e.offsetTop-e.clientHeight;t.style.setProperty("margin-top",-r+"px")}},{key:"ensureResponsiveTables",value:function(){var e=this;document.querySelectorAll("table.simple-table").forEach(function(t){var n=e.getColumnHeaders(t);t.querySelectorAll("tbody tr").forEach(function(t){t.querySelectorAll("td").forEach(function(t,i){e.setResponsiveTableCell(t,n[i])})})})}},{key:"getColumnHeaders",value:function(e){return[].concat(a(e.querySelectorAll("th"))).map(function(e){return e.querySelector(".sr-only")?e.innerHTML+"&nbsp;":e.innerText.length>0?e.innerText.trim()+":":"&nbsp;"})}},{key:"setResponsiveTableCell",value:function(e,t){var n=this;if(0!==e.childNodes.length){var i=([].concat(a(e.childNodes)).filter(function(e){return e.querySelector&&e.querySelector("ul")}).map(function(e){return e.querySelector("ul")}).forEach(function(e){return n.setAccessibleListInResponsiveTableCell(e)}),document.createElement("div"));i.innerHTML='<div class="table-header-mobile" aria-hidden="true" role="">'+t+'</div><div class="table-cell-mobile" role="cell"><span class="sr-only-max-screen-md-max">'+t+"</span></div>";for(var r=i.querySelector(".table-cell-mobile");e.childNodes.length>0;)r.appendChild(e.childNodes[0]);for(;i.childNodes.length>0;)e.appendChild(i.childNodes[0])}}},{key:"setAccessibleListInResponsiveTableCell",value:function(e){[].concat(a(e.querySelectorAll("li"))).forEach(function(e){var t=e.querySelector(".table-header-mobile");if(t){var n=t.textContent,i=e.querySelector(".table-cell-mobile a"),a=i.parentElement,r=document.createElement("div");r.classList.add("sr-only"),r.innerHTML=n,a.insertBefore(r,i)}})}},{key:"initClickable",value:function(e,t){t=t||{};var n=t.areaSelector||"ul.table > li",i=t.triggerSelector||".table-click-target",r=t.exceptSelector||null;(Array.isArray(n)?n:[n]).map(function(t){return e.querySelectorAll(t)}).reduce(function(e,t){return e.concat.apply(e,a(t))},[]).forEach(function(e){var t=[].concat(a(e.querySelectorAll(i)));if(0!==t.length){var n=t.filter(function(t){var n=t.closest(r);return null===n||!e.contains(n)});if(1===n.length){var s=n[0];e.classList.add("clickable-area"),r&&[].concat(a(e.querySelectorAll(r))).forEach(function(e){e.classList.add("clickable-except")}),e.addEventListener("click",function(t){var n=t.target;if(n!==s&&!s.contains(n)){if(r){var i=n.closest(r);if(null!==i&&e.contains(i))return}s.click()}})}}})}},{key:"announceResults",value:function(e,t){this.constructor.ifNoResultsAnnounceThat(e,t),this.constructor.ifResultsCountPresentAnnounceThat(e),this.constructor.ifResultsWithoutCountFocusOnTable(e)}},{key:"scheduleResultsAnnouncements",value:function(e,t){var n=this;setTimeout(function(){m.default.getOpenPopups().length>0?(n.onPopupClosed=function(){n.resultsAnnounced||(n.resultsAnnounced=!0,document.removeEventListener(m.default.FOCUS_RESTORED,n.onPopupClosed),n.announceResults(e,t))},document.addEventListener(m.default.FOCUS_RESTORED,n.onPopupClosed)):n.announceResults(e,t)},100)}}],[{key:"toggleChildrenLinksFocusability",value:function(e,t){[].concat(a(e.querySelectorAll("a, button, input"))).forEach(function(e){return e.setAttribute("tabindex",t?"0":"-1")})}},{key:"ifNoResultsAnnounceThat",value:function(e,t){var n=e.querySelector(".no-results-container");if(n)if(c.default.small.matches){var i=n.innerText,a=new p.default(e,"assertive");a.announce(i,1800)}else n.setAttribute("tabindex","0"),setTimeout(function(){return n.focus()},500),t.filterButtons&&t.filterButtons.length>0&&(m.default.restrictFocus(".dropdown-container",t.filterButtons[0]),t.filterButtons[0].addEventListener("focus",function(){m.default.allowFocus()}))}},{key:"ifResultsCountPresentAnnounceThat",value:function(e){var t=e.querySelector(".filter-results");if(t&&t.innerText&&t.innerText.length>0)if(c.default.small.matches){var n=t.innerText,i=new p.default(e,"assertive");i.announce(n,1800)}else t.setAttribute("tabindex","0"),t.focus(),setTimeout(function(){return t.focus()},500)}},{key:"ifResultsWithoutCountFocusOnTable",value:function(e){var t=e.querySelector("table"),n=e.querySelector(".filter-results"),i=!!t,a=n&&n.innerText&&n.innerText.length>0;i&&!a&&(t.setAttribute("tabindex","-1"),t.focus())}}]),e}();t.default=y},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(42),l=n(62),u=n(9),c=n(0),h=n(12),d=i(h),f=n(4),p=i(f),v=function(){function e(t,n,i,a,s,o){r(this,e),this.locationData=t,this.filterPopular=n,this.callback=i,this.component=a,this.defaultBankingType=s,this.defaultLocation=o}return s(e,[{key:"activate",value:function(e){var t=this;if(e){if(this.view=e,this.listItemTemplate=Handlebars.templates["location-list-item-template"],this.selectorLabelTemplate=Handlebars.templates["selector-label-template"],this.allLocations=[],this.popularLocations=[],this.action=void 0,this.location=void 0,this.hasLocations=!0,this.popularText=this.view.dataset.textPopular||"Most popular",this.allText=this.view.dataset.textAll||"All countries and territories",this.bankingContainer=this.view.querySelector(".banking-options"),this.bankingInput=this.view.querySelector(".banking-options input"),this.bankingOptions=this.view.querySelector(".banking-options ul"),this.bankingOptionsChevron=this.view.querySelector(".banking-options .location-selector__chevron"),this.bankingTitle=this.view.querySelector(".banking-options .location-selector__menu-title"),this.locationAlreadyGotInput=!1,this.locationContainer=this.view.querySelector(".location-options"),this.locationInput=this.view.querySelector(".location-options input"),this.locationOptions=this.view.querySelector(".location-options ul"),this.locationOptionsChevron=this.view.querySelector(".location-options .location-selector__chevron"),this.locationTitle=this.view.querySelector(".location-options .location-selector__menu-title"),this.quickResultsAria=this.locationContainer.querySelector(".quick-results__aria"),this.bankingInput&&(this.bankingInput.setAttribute("readonly","true"),this.bankingInput.setAttribute("tabindex","-1"),this.bankingInput.addEventListener("keydown",function(e){t.preventTypingInBankingInput(e)})),this.bankingOptions)if(this.bankingOptions.addEventListener("click",function(e){t.onBankingTypeSelect(e.target)}),this.locationData.forEach(function(e){t.bankingOptions.insertAdjacentHTML("beforeend",t.listItemTemplate(e))}),this.defaultBankingType){var n=this.view.querySelector('a[data-id="'+this.defaultBankingType+'"]');n&&this.setupOrUpdateBankingChevronAria(n.innerText)}else this.setupOrUpdateBankingChevronAria();if(this.locationOptions.addEventListener("click",function(e){t.onLocationSelect(e.target)}),this.locationInput.addEventListener("keyup",function(e){t.onLocationInput(e)}),this.setLocations(this.defaultBankingType,this.filterPopular),this.setupAccessibiltyHelpers(this.allLocations.length),document.addEventListener(l.GEO_IP_COOKIE_READY_EVENT,function(){t.setLocationUsingGeoIp()}),this.announcer=new d.default,this.activated=!0,this.defaultBankingType){var i=this.view.querySelector('a[data-id="'+this.defaultBankingType+'"]');i&&i.click()}}}},{key:"createLi",value:function(e){var t=document.createElement("span");t.textContent=e;var n=document.createElement("li");return n.appendChild(t),n}},{key:"onBankingTypeSelect",value:function(e){var t=this,n=e.getAttribute("data-id");"a"===e.nodeName.toLowerCase()&&(this.setupOrUpdateBankingChevronAria(e.innerText),this.trackDropdownSelection(e.textContent,this.bankingTitle.innerText),this.setLocations(n,this.filterPopular),this.locationData.filter(function(e){return e.id===n}).forEach(function(n){n.countries.some(function(e){return e.id===t.location})||(t.locationInput.value="",t.action=void 0,t.location=void 0),0===n.countries.length?(t.locationContainer.style.display="none",t.hasLocations=!1):(t.locationContainer.style.display="block",t.hasLocations=!0),0===n.countries.length&&(t.action=e.getAttribute("data-url"))}),this.locationAlreadyGotInput=!1,"function"==typeof this.callback&&this.callback(null,this.action,this.hasLocations))}},{key:"onLocationSelect",value:function(e){"a"===e.nodeName.toLowerCase()&&(this.locationInput.value=e.textContent,this.trackDropdownSelection(e.textContent,this.locationTitle.innerText),this.action=e.getAttribute("data-url"),this.location=e.getAttribute("data-id"),this.countryName=e.getAttribute("data-name"),this.locationInput.setAttribute("data-id",this.location),"function"==typeof this.callback&&this.callback(this.location,this.action,this.countryName))}},{key:"preventTypingInBankingInput",value:function(e){"Tab"!==e.key&&e.preventDefault()}},{key:"onLocationInput",value:function(e){var t=this,n=e.target.value.trim().toLowerCase();if("Tab"!==e.key){n?((0,u.isMobile)()?e.target.parentNode.classList.add("open"):this.locationOptionsChevron.open||this.locationOptionsChevron.Dropdown&&this.locationOptionsChevron.Dropdown.toggle(),e.target.parentNode.open=!0):((0,u.isMobile)()?e.target.parentNode.classList.remove("open"):this.locationOptionsChevron.open&&this.locationOptionsChevron.Dropdown&&this.locationOptionsChevron.Dropdown.toggle(),e.target.parentNode.open=!1,"function"==typeof this.callback&&this.callback(this.location,null,!0));var i=[];return"Tab"!==e.key||this.locationAlreadyGotInput?(i=this.setLocationDropdownContent(n),this.locationAlreadyGotInput=!0):i=this.setLocationDropdownContent(""),0===i.length&&this.callback(this.location,null,!0),setTimeout(function(){return t.locationInput.focus()},20),i}}},{key:"setLocationDropdownContent",value:function(e){var t=this,n=[];this.locationOptions.innerHTML="",n=this.allLocations.filter(function(t){return-1!==t.title.toLowerCase().indexOf(e)}),this.filterPopular&&this.appendPopular(e),n.forEach(function(e){return t.locationOptions.insertAdjacentHTML("beforeend",t.listItemTemplate(e))}),this.onNumberOfLocationSuggestionsChanged(n.length);var i=this.locationContainer.querySelector(".dropdown-menu li a");return i&&i.setAttribute("tabindex","0"),n}},{key:"onNumberOfLocationSuggestionsChanged",value:function(e){this.setupOrUpdateLocationDropdownAria(e),this.quickResultsAria&&(this.quickResultsAria.innerHTML=this.quickResultsAria.getAttribute(1===e?"data-message-singular":"data-message").replace("{count}",e))}},{key:"setLocations",value:function(e,t){var n=this;if(this.locationOptions.innerHTML="",this.allLocations=[],"BankingRoute"===this.component){if(this.bankingInput){this.bankingInput.setAttribute("data-id",e);var i=this.view.querySelector('a[data-id="'+e+'"]');i&&(this.bankingInput.value=i.textContent)}this.locationData.forEach(function(i){i.id===e&&(n.allLocations=Array.from(i.countries),t&&n.setPopularLocations(i))})}else"CountryOffices"===this.component&&(this.allLocations=Array.from(this.locationData.countries));this.allLocations.forEach(function(e){return n.locationOptions.insertAdjacentHTML("beforeend",n.listItemTemplate(e))});var r=this.locationContainer.querySelectorAll(".dropdown-menu li a");[].concat(a(r)).forEach(function(e){return e.addEventListener("focus",function(e){[].concat(a(r)).forEach(function(e){return e.setAttribute("tabindex","-1")}),e.target.setAttribute("tabindex","0")},!1)}),this.setLocationUsingGeoIp()}},{key:"setPopularLocations",value:function(e){var t=this;this.popularLocations=[],e.popular&&e.popular.length>0&&(e.countries.forEach(function(n){e.popular.some(function(e){return e===n.id})&&t.popularLocations.push(n)}),this.appendPopular())}},{key:"appendPopular",value:function(e){var t=this;e=e||"",this.locationOptions.appendChild(this.createLi(this.popularText)),this.popularLocations.filter(function(t){return t.title.toLowerCase().includes(e)}).map(function(e){return t.listItemTemplate(e)}).map(function(e){return(0,c.toElement)(e)}).forEach(function(e){return t.locationOptions.appendChild(e)}),this.locationOptions.appendChild(this.createLi(this.allText))}},{key:"setupAccessibiltyHelpers",value:function(e){if(this.bankingInput){this.bankingInput.insertAdjacentHTML("beforebegin",this.selectorLabelTemplate({id:"aria-for-banking-dropdown",text:"Banking selector (auto-suggestions will appear below field)"})),this.bankingInput.setAttribute("aria-describedby","aria-for-banking-dropdown")}this.setupOrUpdateLocationDropdownAria(e),(0,u.isMobile)()||(this.bankingOptionsChevron&&this.bankingOptionsChevron.parentNode.addEventListener("shown.bs.dropdown",this.createFirstItemFocuser(this.bankingContainer),!1),this.locationOptionsChevron.parentNode.addEventListener("shown.bs.dropdown",this.createFirstItemFocuser(this.locationContainer),!1),this.bankingOptions&&this.bankingOptions.addEventListener("keydown",this.createArrowsHandler(this.bankingContainer),!1),this.locationOptions.addEventListener("keydown",this.createArrowsHandler(this.locationContainer),!1))}},{key:"createArrowsHandler",value:function(e){var t=this;return function(n){var i=e.querySelectorAll(".dropdown-menu li a"),a=38===n.keyCode,r=40===n.keyCode;a?t.focusPreviousListItem(i):r&&t.focusNextListItem(i)}}},{key:"createFirstItemFocuser",value:function(e){var t=this;return function(){t.announcer.announce("Expanded");var n=e.querySelectorAll(".dropdown-menu li a");0===n.length||setTimeout(function(){t.constructor.focusListItem(n[0])},20)}}},{key:"focusNextListItem",value:function(e){var t=[].concat(a(e)).findIndex(function(e){return"0"===e.getAttribute("tabindex")});[].concat(a(e)).forEach(function(e){return e.setAttribute("tabindex","-1")}),t<e.length-1?this.constructor.focusListItem(e[t+1]):this.constructor.focusListItem(e[0])}},{key:"focusPreviousListItem",value:function(e){var t=[].concat(a(e)).findIndex(function(e){return"0"===e.getAttribute("tabindex")});[].concat(a(e)).forEach(function(e){return e.setAttribute("tabindex","-1")}),t>0?this.constructor.focusListItem(e[t-1]):this.constructor.focusListItem(e[e.length-1])}},{key:"setupOrUpdateLocationDropdownAria",value:function(e){var t=this.quickResultsAria.getAttribute(1===e?"data-message-singular":"data-message").replace("{count}",e),n=document.getElementById("aria-for-location-dropdown"),i="Location selector (auto-suggestions will appear below field) "+t;n?n.innerHTML=i:this.locationInput.insertAdjacentHTML("beforebegin",this.selectorLabelTemplate({id:"aria-for-location-dropdown",text:i})),this.locationInput.setAttribute("aria-describedby","aria-for-location-dropdown")}},{key:"setupOrUpdateBankingChevronAria",value:function(e){var t=void 0;if(e){t=this.bankingOptionsChevron.getAttribute("data-message-selected").replace("{type}",e)}else t=this.bankingOptionsChevron.getAttribute("data-message-not-selected");var n=document.getElementById("aria-for-banking-chevron");n?n.innerHTML=t:this.bankingInput&&this.bankingInput.insertAdjacentHTML("beforebegin",this.selectorLabelTemplate({id:"aria-for-banking-chevron",text:t})),this.bankingOptionsChevron.setAttribute("aria-describedby","aria-for-banking-chevron")}},{key:"setLocationUsingGeoIp",value:function(){var e=this.defaultLocation||(0,o.getCookie)(l.GEO_IP_COOKIE),t=this.view.querySelector('a[data-id="'+e+'"]');t&&this.onLocationSelect(t)}},{key:"trackDropdownSelection",value:function(e,t){p.default.trackEvent({event_type:"click",event_category:"content",event_action:"offsite",event_content:t+"|"+e})}}],[{key:"focusListItem",value:function(e){e.setAttribute("tabindex","0"),e.focus()}}]),e}();t.default=v},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.filterTrackingForServerSideFilters=t.filterTrackingForMediaGallery=t.filterTrackingForClientSideFilters=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=n(4),s=function(e,t){return a({event_type:"click",event_category:"content",event_action:"function"==typeof e?e():e},t)};t.filterTrackingForClientSideFilters=function(e){var t=e.filter.filter(function(e){return e.values.join("|")}).reduce(function(e,t){return a({},e,i({},t.key,t.values.join("|")))},{});void 0!==e.search&&(t.search_term=e.search),(0,r.trackEvent)(s("search",t))},t.filterTrackingForMediaGallery=function(e,t){var n=function(t){return t in e&&e[t].join("|")||"No "+t},i={event_content:"MediaGalleryFilter",form_field_1:n("Content type"),form_field_2:n("Category"),search_results:t.itemsCount};(0,r.trackEvent)(s("search",i))},t.filterTrackingForServerSideFilters=function(e){var t=e.filter.map(function(e){return e.values}).map(function(e){return e.join("|")}).reduce(function(e,t,n){return a({},e,i({},"form_field_"+(n+1),t))},{search_term:void 0!==e.search?e.search:""});(0,r.trackEvent)(s("search",t))}},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(16),o=function(e){return e&&e.__esModule?e:{default:e}}(s),l=[],u=function(){function e(){a(this,e)}return r(e,null,[{key:"add",value:function(e){e instanceof o.default&&l.push(e)}},{key:"remove",value:function(e){if(e instanceof o.default){var t=l.indexOf(e);l=l.reduce(function(e,n,a){return a===t?e:[].concat(i(e),[n])})}}},{key:"register",get:function(){return l}}]),e}();t.default=u},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(5),r=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=function(){var t=void 0!==e?e:this||window,n=document,a=n.documentElement,s=t.BSN={},o=s.supports=[],l="Transition",u="Webkit",c="style",h=(a[c],u+l in a[c]||l.toLowerCase()in a[c]),d=u+l in a[c]?u.toLowerCase()+l+"End":l.toLowerCase()+"end",f=u+"Duration"in a[c]?u.toLowerCase()+l+"Duration":l.toLowerCase()+"Duration",p=function(e){e&&(e.focus?e.focus():e.setActive())},v=function(e,t){e.classList.add(t)},m=function(e,t){e.classList.remove(t)},g=function(e,t){return e.classList.contains(t)},y=function(e,t){var a=t||n;return"object"===(void 0===e?"undefined":i(e))?e:a.querySelector(e)},b=function(e,t){var i=t.charAt(0),a=t.substr(1);if("."===i){for(;e&&e!==n;e=e.parentNode)if(null!==y(t,e.parentNode)&&g(e,a))return e}else if("#"===i)for(;e&&e!==n;e=e.parentNode)if(e.id===a)return e;return!1},w=function(e,t,n){e.addEventListener(t,n,!1)},k=function(e,t,n){e.removeEventListener(t,n,!1)},_=function(e,t,n){w(e,t,function i(a){n(a),k(e,t,i)})},E=function(e){var n=t.getComputedStyle(e)[f];return n=parseFloat(n),(n="number"!=typeof n||isNaN(n)?0:1e3*n)+50},S=function(e,t){var n=0,i=E(e);h&&_(e,d,function(e){t(e),n=1}),setTimeout(function(){!n&&t()},i)},C=function(e,t,n){var i=new r.default(e+".bs."+t);i.relatedTarget=n,this.dispatchEvent(i)},L=function(e,t){e=y(e),this.persist=!0===t||"true"===e.getAttribute("data-persist")||!1;var i=this,a=e.parentNode,r="open",s=null,o=y(".dropdown-menu",a),l=function(){for(var e=o.children,t=[],n=0;n<e.length;n++)e[n].children.length&&"A"===e[n].children[0].tagName&&t.push(e[n]);return t}(),u=function(e){(e.href&&"#"===e.href.slice(-1)||e.parentNode&&e.parentNode.href&&"#"===e.parentNode.href.slice(-1))&&this.preventDefault()},c=function(){var t=e[r]?w:k;t(n,"click",h),t(n,"keydown",f),t(n,"keyup",b)},h=function(t){var n=t.target,a=n&&("Dropdown"in n||"Dropdown"in n.parentNode);(n!==o&&!o.contains(n)||!i.persist&&!a)&&(s=n===e||e.contains(n)?e:null,E(),u.call(t,n))},d=function(t){s=e,_(),u.call(t,t.target)},f=function(e){var t=e.which||e.keyCode;38!==t&&40!==t||e.preventDefault()},b=function(t){var a=t.which||t.keyCode,u=n.activeElement,c=l.indexOf(u.parentNode),h=u===e,d=o.contains(u),f=u.parentNode.parentNode===o;(f||h)&&(c=h?0:38===a?c>1?c-1:0:40===a&&c<l.length-1?c+1:c,l[c]&&p(l[c].children[0])),(l.length&&f||!l.length&&(d||h)||!d)&&e[r]&&27===a&&(i.toggle(),s=null)},_=function(){C.call(a,"show","dropdown",s),v(a,r),e.setAttribute("aria-expanded",!0),C.call(a,"shown","dropdown",s),e[r]=!0,k(e,"click",d),setTimeout(function(){p(o.getElementsByTagName("INPUT")[0]||e),c()},1)},E=function(){C.call(a,"hide","dropdown",s),m(a,r),e.setAttribute("aria-expanded",!1),C.call(a,"hidden","dropdown",s),e[r]=!1,c(),p(e),setTimeout(function(){w(e,"click",d)},1)};e[r]=!1,this.toggle=function(){g(a,r)&&e[r]?E():_()},"Dropdown"in e||(!1 in o&&o.setAttribute("tabindex","0"),w(e,"click",d)),e.Dropdown=i};o.push(["Dropdown",L,'[data-toggle="dropdown"]']);var A=function(e,t){e=y(e),t=t||{};var n,i,a=null,r=null,s=this,o=e.getAttribute("data-parent"),l=function(e,t){C.call(e,"show","collapse"),e.isAnimating=!0,v(e,"collapsing"),m(e,"collapse"),e[c].height=e.scrollHeight+"px",S(e,function(){e.isAnimating=!1,e.setAttribute("aria-expanded","true"),t.setAttribute("aria-expanded","true"),m(e,"collapsing"),v(e,"collapse"),v(e,"in"),e[c].height="",C.call(e,"shown","collapse")})},u=function(e,t){C.call(e,"hide","collapse"),e.isAnimating=!0,e[c].height=e.scrollHeight+"px",m(e,"collapse"),m(e,"in"),v(e,"collapsing"),e.offsetWidth,e[c].height="0px",S(e,function(){e.isAnimating=!1,e.setAttribute("aria-expanded","false"),t.setAttribute("aria-expanded","false"),m(e,"collapsing"),v(e,"collapse"),e[c].height="",C.call(e,"hidden","collapse")})};this.toggle=function(e){e.preventDefault(),g(r,"in")?s.hide():s.show()},this.hide=function(){r.isAnimating||(u(r,e),v(e,"collapsed"))},this.show=function(){a&&(n=y(".collapse.in",a),i=n&&(y('[data-toggle="collapse"][data-target="#'+n.id+'"]',a)||y('[data-toggle="collapse"][href="#'+n.id+'"]',a))),(!r.isAnimating||n&&!n.isAnimating)&&(i&&n!==r&&(u(n,i),v(i,"collapsed")),l(r,e),m(e,"collapsed"))},"Collapse"in e||w(e,"click",s.toggle),r=function(){var t=e.href&&e.getAttribute("href"),n=e.getAttribute("data-target"),i=t||n&&"#"===n.charAt(0)&&n;return i&&y(i)}(),r.isAnimating=!1,a=y(t.parent)||o&&b(e,o),e.Collapse=s};o.push(["Collapse",A,'[data-toggle="collapse"]']);var T=function(e,t){for(var n=0,i=t.length;n<i;n++)new e(t[n])},x=s.initCallback=function(e){e=e||n;for(var t=0,i=o.length;t<i;t++)T(o[t][1],e.querySelectorAll(o[t][2]))};return n.body?x():w(n,"DOMContentLoaded",function(){x()}),{Dropdown:L,Collapse:A}}()}).call(t,n(8))},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(){C(),window.addEventListener("scroll",C),document.addEventListener(c,C)}function r(){window.removeEventListener("scroll",C),document.removeEventListener(c,C),p().filter(function(e){return!m(e)&&g(e)&&(0,u.isVisible)(e)}).forEach(_),[].concat(i(document.getElementsByClassName(h))).forEach(u.remove)}function s(){setTimeout(function(){var e=new l.default(c);document.dispatchEvent(e)},100)}Object.defineProperty(t,"__esModule",{value:!0}),t.enableLazyLoadingOfImages=a,t.disableLazyLoadingOfImages=r,t.dispatchLazyLoadImages=s;var o=n(5),l=function(e){return e&&e.__esModule?e:{default:e}}(o),u=n(0),c="LAZY_LOAD_IMAGES",h="loader",d=["promobox__media","wayfinding__image-container","highlights__image-container"],f=["wayfinding__background","highlights__background"],p=function(){return[].concat(i(document.querySelectorAll("img[data-src]")))},v=function(){return[].concat(i(document.querySelectorAll("[data-lazy-background]")))},m=function(e){return e&&e.dataset.isLoaded},g=function(e){return e&&(e.dataset.src||e.dataset.lazyBackground||"").length>0},y=function(e){var t=null;return e.parentElement&&d.some(function(t){return e.parentElement.classList.contains(t)})?t=e.parentElement:f.some(function(t){return e.classList.contains(t)})&&(t=e),t},b=function(e){if(e){var t=(0,u.toElement)(Handlebars.templates[h+"-template"]()),n=y(e);null!==n&&n.insertAdjacentElement("afterbegin",t),setTimeout(function(){var n=parseInt(e.dataset.originalWidth,10),i=parseInt(e.dataset.originalHeight,10),a=n/i;if(!isNaN(a)){var r=parseInt((0,u.getComputedStyle)(t,"width"),10)/a;t.style.height=r+"px"}},100)}},w=function(e){if(e){[].concat("IMG"===e.tagName.toUpperCase()?i(e.parentElement.getElementsByClassName(h)):i(e.getElementsByClassName(h))).forEach(u.remove)}},k=function(e){var t=y(e);return t&&t.getElementsByClassName(h).length>0},_=function(e){if(e){var t=e.dataset.src||"",n="PICTURE"===e.parentElement.tagName.toUpperCase()?[].concat(i(e.parentElement.querySelectorAll("[data-srcset]"))):[];if(!m(e)&&t.length>0){var a=(0,u.getComputedStyle)(e,"display");e.addEventListener("load",function(){console.log("Loading image: "+t+(n.length>0?" responsive":"")),e.dataset.isLoaded=!0,w(e),e.style.display=a}),e.style.display="none",e.src=t,n.length>0&&n.forEach(function(e){return e.srcset=e.dataset.srcset})}}},E=function(e){if(e){var t=e.dataset.lazyBackground||"";!m(e)&&t.length>0&&(console.log("Loading background image: "+t),w(e),e.dataset.isLoaded=!0,e.style.backgroundImage="url('"+t+"')")}},S=function(){[].concat(i(p()),i(v())).filter(function(e){return!m(e)&&g(e)&&(0,u.isVisible)(e)&&!k(e)}).forEach(function(e){return b(e)})},C=function(){S(),p().filter(function(e){return!m(e)&&(0,u.isVisible)(e)&&(0,u.isInViewPort)(e)}).forEach(_),v().filter(function(e){return!m(e)&&(0,u.isVisible)(e)&&(0,u.isInViewPort)(e)}).forEach(E)}},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(0),o=n(1),l=n(2),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=n(9),h="styled-select",d=h+"__option--active",f="data-styled-select",p=function(){function e(t){var n=this;return a(this,e),t&&!t.classList.contains(h)&&(t=t.querySelector("."+h)),t&&t.classList.contains(h)?t.attributes[f]?null:(this.view=t,this.view.setAttribute(f,"initialized"),this.options=[].concat(i(this.view.querySelectorAll("."+h+"__option"))),this.placeholder=this.view.querySelector("."+h+"__placeholder"),this.real=this.view.querySelector("."+h+"__real"),this.optionsDropdown=this.view.querySelector("."+h+"__options"),this.prettySelect=this.view.querySelector("."+h+"__pretty"),this.model=this.view.querySelector("."+h+"__model"),this.view.addEventListener("focusout",function(e){n.prettySelect.contains(e.relatedTarget)||n.prettySelect.click()}),this.options.forEach(function(e){return e.addEventListener("click",function(){n.activateOption(e)})}),this.real.addEventListener("change",function(){return setTimeout(function(){return n.realChanged()},0)}),this.real.addEventListener("focus",function(){return n.realFocus(!0)}),this.real.addEventListener("blur",function(){return n.realFocus(!1)}),window.addEventListener("resize",(0,o.throttle)(20,function(){return n.resizeSelect()})),this.resizeSelect(),void this.setInitial()):null}return r(e,[{key:"getOptionByValue",value:function(t){return this.options.filter(function(n){return e.getOptionValue(n)===t})[0]||null}},{key:"activateOption",value:function(t){t||(t=this.options[0]),this.options.filter(function(t){return e.isOptionActive(t)}).forEach(function(t){return e.setOptionActive(t,!1)}),e.setOptionActive(t,!0),this.placeholder.innerText=t.querySelector("."+h+"__option__text").innerText,this.setValue(e.getOptionValue(t))}},{key:"setInitial",value:function(){var t=this.options.filter(function(t){return e.isOptionActive(t)}).concat(null)[0];this.activateOption(t)}},{key:"realChanged",value:function(){var e=this.getValue();this.setValue(e)}},{key:"setValue",value:function(t){var n=this.getOptionByValue(t);n&&!e.isOptionActive(n)&&this.activateOption(n),this.real.value!==t&&(this.real.value=t,(0,s.triggerChange)(this.real)),this.resizeSelect()}},{key:"getSelect",value:function(){return this.real}},{key:"getCurrentOption",value:function(){var e=this.real.selectedIndex;return e<0?null:this.real.options[e]}},{key:"getValue",value:function(){return this.real.value}},{key:"realFocus",value:function(t){e.setClass(this.view,"styled-select--focused",t)}},{key:"isNativeModel",value:function(){return u.default.small.matches&&(0,c.isMobile)()}},{key:"resizeSelect",value:function(){var e=this;if(null!==this.view.offsetParent)return this.isNativeModel()?void(this.view.style.width=""):void(0,s.withStyles)(this.optionsDropdown,{visibility:"hidden",display:"block"},function(){var t=e.options.map(function(e){return(0,s.withStyles)(e,{visibility:"hidden",display:"block",minWidth:"0",width:"0",marginLeft:"0",marginRight:"0"},function(e){return e.scrollWidth})});e.view.style.width=Math.max.apply(Math,i(t))+60+"px"})}}],[{key:"setClass",value:function(e,t,n){e.classList[n?"add":"remove"](t)}},{key:"hasClass",value:function(e,t){return e.classList.contains(t)}},{key:"setOptionActive",value:function(t,n){e.setClass(t,d,n)}},{key:"isOptionActive",value:function(t){return e.hasClass(t,d)}},{key:"getOptionValue",value:function(e){return e.attributes["data-value"].value}}]),e}();t.default=p},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.determineVideoType=t.VIDEO_TYPE=t.VIDEO_PLAYER=t.activateYouTubePlayerAPIReadyCallback=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(7),l=i(o),u=n(6),c=i(u),h=n(211),d=i(h),f=n(10),p=i(f),v=n(4),m=i(v),g=n(9),y=n(0),b=n(65),w=n(212),k=i(w),_=function(){if(!document.querySelector("script#YT_API_SCRIPT")){var e=document.createElement("script");e.id="YT_API_SCRIPT",e.src="//www.youtube.com/player_api",document.head.insertAdjacentElement("beforeend",e)}},E=function(e){window.YOUTUBE_PLAYER_API_READY_CALLBACKS||(window.YOUTUBE_PLAYER_API_READY_CALLBACKS=[]),window.YOUTUBE_PLAYER_API_READY_CALLBACKS.push(e)},S=(t.activateYouTubePlayerAPIReadyCallback=function(){window.onYouTubePlayerAPIReady=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];window.YOUTUBE_PLAYER_API_READY_CALLBACKS&&window.YOUTUBE_PLAYER_API_READY_CALLBACKS.forEach(function(e){return e.apply(void 0,t)})},window.YOUTUBE_PLAYER_API_READY_CALLBACKS=[]},{UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5}),C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=document.createElement("script");return n.src="//players.brightcove.net/"+e+"/"+t+"_default/index.min.js",n},L=(t.VIDEO_PLAYER="video-player",t.VIDEO_TYPE={BRIGHTCOVE:"brightcove",YOUTUBE:"youtube",UNKNOWN:"unknown"}),A=t.determineVideoType=function(e){return e.classList.contains("video-player--brightcove")?L.BRIGHTCOVE:e.classList.contains("video-player--youtube")?L.YOUTUBE:L.UNKNOWN},T=function(e){return[].concat(r(document.querySelectorAll(".hero-banner .video-player"))).includes(e)},x=function(e){return e.classList.contains("video-player--has-theatre-mode")},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.createElement("div");return n.classList.add("video-player__poster"),n.classList.add("content-with-aspect-ratio"),t&&n.classList.add("video-player__poster-mobile"),e&&(n.style.backgroundImage="url('"+e+"')"),n},O=function(){function e(){var t=this;a(this,e),this.view=null,this.player={api:null,element:null,videoElement:null},this.poster={poster:null,duplicatePoster:null,duplicatePosterMobile:null},this.playButton=null,this.firstFocusableElement=null,this.titleElement=null,this.theatre={isActive:!1,isOpen:!1,view:null,container:null,closeButton:null},this.relatedVideos=null,this.videoTitle=null,this.sitecoreItemId=null,this.videoId=null,this.videoAccount=null,this.videoPlayer=null,this.videoType=L.UNKNOWN,this.playPromise=null,this.brightcoveVideoObserver=null,this.isRelatedEnabled=!1,this.playerId="PLAYER_"+Math.random().toString().slice(2),this.isInsideHeroBanner=!1,this.isMobileOnly=(0,g.isMobile)()&&!(0,g.isIPad)(),this.hasTheatreMode=!1,this.firstPlay=!1,this.isPlaying=!1,this.destroyed=!1,this.replayListener=function(e){e.detail.playerId===t.playerId&&t.replay()},this.closeListener=function(e){e.detail.playerId===t.playerId&&t.close()},this.loadListener=function(e){e.detail.playerId===t.playerId&&e.detail.video&&t.loadAnotherVideo(e.detail.video)}}return s(e,[{key:"activate",value:function(e){this.destroyed||this.view&&this.view.component||(this.view=e,this.view.component=this,this.videoTitle=this.view.dataset.videoTitle,this.sitecoreItemId=this.view.dataset.itemId,this.videoId=this.view.dataset.videoId,this.videoAccount=this.view.dataset.videoAccount,this.videoPlayer=this.view.dataset.videoPlayer,this.videoType=A(e),this.isInsideHeroBanner=T(e),this.hasTheatreMode=x(e)&&!this.isMobileOnly,this.isRelatedEnabled="true"===(this.view.dataset.relatedEnabled||"").toLowerCase(),this.videoType!==L.UNKNOWN&&(this.firstPlay=!0,this.playButton=(0,y.getElement)("video-player__play-button",e),this.videoType===L.BRIGHTCOVE&&this.buildBrightcoveVideo(),this.videoType===L.YOUTUBE&&this.buildYouTubeVideo(),document.addEventListener("REPLAY_CURRENT_VIDEO",this.replayListener),document.addEventListener("CLOSE_RELATED_VIDEOS",this.closeListener),document.addEventListener("LOAD_VIDEO",this.loadListener)))}},{key:"buildYouTubeVideo",value:function(){var e=this;this.player.element=this.view.querySelector("iframe"),this.hasTheatreMode||E(function(){return e.initYouTubePlayer()}),_(),this.hasTheatreMode&&this.buildTheatreMode(),this.watchPoster()}},{key:"initYouTubePlayer",value:function(){var e=this;this.player.api=new YT.Player(this.player.element,{events:{onReady:function(){e.attachListeners()}}})}},{key:"buildBrightcoveVideo",value:function(){var e=this,t=this.view.querySelector("video");if(null!=t){var n=C(t.dataset.account,t.dataset.player||"default"),i=new MutationObserver(function(n){window.videojs&&n.some(function(e){return e.target===t})&&(i.disconnect(),e.loadBrightcoveVideo())}),a=this.view.querySelector(".video-js");i.observe(a,{attributes:!0,childList:!0,subtree:!0}),this.view.appendChild(n)}}},{key:"loadBrightcoveVideo",value:function(){var e=this;this.player.element=this.view.querySelector(".video-js"),videojs(this.player.element).ready((0,d.default)(function(t){e.player.api=t,e.player.videoElement=e.player.element.querySelector(".vjs-tech"),e.attachListeners()})),this.hasTheatreMode&&this.buildTheatreMode(),this.watchPoster()}},{key:"loadAnotherVideo",value:function(e){var t=this;if(e.id&&e.type&&e.type.toLowerCase()===this.videoType){new Promise(function(n,i){e.type.toLowerCase()===L.BRIGHTCOVE?t.player.api.catalog.getVideo(e.id,function(a,r){if(a)return void i(a);t.player.api.catalog.load(r),t.playePromise=t.player.api.play(),n(e)}):e.type.toLowerCase()===L.YOUTUBE&&(t.player.api.loadVideoById(e.id),t.player.api.playVideo(),n(e))}).then(function(e){(0,b.dispatch)((0,w.VIDEO_LOADED)(e,t.playerId)),t.controlFocus(!0)}).catch(function(n){console.error("Could not load a video",n,e.id,e.account),(0,b.dispatch)((0,w.VIDEO_FAILED)(e,t.playerId))})}}},{key:"destroy",value:function(){this.destroyed||(this.destroyed=!0,this.videoType===L.BRIGHTCOVE&&(this.player.api&&this.player.api.dispose(),this.player.videoElement&&(this.player.videoElement.pause(),this.player.videoElement.setAttribute("src",""),this.player.videoElement.load())),this.videoType===L.YOUTUBE&&this.player.api&&this.player.api.destroy(),document.removeEventListener("REPLAY_CURRENT_VIDEO",this.replayListener),document.removeEventListener("CLOSE_RELATED_VIDEOS",this.closeListener),document.removeEventListener("LOAD_VIDEO",this.loadListener))}},{key:"watchPoster",value:function(){var e=this,t=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=P(t,n);return e.isInsideHeroBanner||i.addEventListener("click",function(){return e.play()}),i},n=new Promise(function(t){if(e.videoType===L.BRIGHTCOVE&&videojs(e.player.element).ready(function(){if(e.player.videoElement.poster)t(e.player.videoElement.poster);else{var n=new MutationObserver(function(){e.player.videoElement.poster&&(n.disconnect(),t(e.player.videoElement.poster))});n.observe(e.player.videoElement,{attributes:!0})}}),e.videoType===L.YOUTUBE){var n=e.player.element.dataset.poster;t(null!=n&&n.length>0?n:"http://i3.ytimg.com/vi/"+e.videoId+"/maxresdefault.jpg")}}),i=new Promise(function(t){t(e.player.element.dataset.posterMobile)}),a=function(){var t=e.poster.duplicatePoster,n=e.poster.duplicatePosterMobile;t&&n&&t.parentElement&&t.nextElementSibling!==n&&(0,y.moveAfter)(n,t)};n.then(function(n){e.poster.duplicatePoster||(e.poster.poster=n,e.poster.duplicatePoster=t(n),e.view.insertBefore(e.poster.duplicatePoster,e.playButton),a())}),i.then(function(n){n&&n.length>0&&!e.poster.duplicatePosterMobile&&(e.poster.duplicatePosterMobile=t(n,!0),e.view.insertBefore(e.poster.duplicatePosterMobile,e.playButton),a())})}},{key:"buildTheatreMode",value:function(){var e=this;if(!this.theatre.isActive){var t=(0,y.toElement)('\n<div class="video-theatre">\n    <div class="video-theatre__container"></div>\n    <button class="close-theatre">\n        <span class="sr-only">Close this video</span>\n        <span class="hsbc-close-circle" aria-hidden="true"></span>\n    </button>\n</div>\n');if(this.theatre.view=t,this.theatre.container=this.theatre.view.querySelector(".video-theatre__container"),this.theatre.closeButton=this.theatre.view.querySelector(".close-theatre"),c.default.popups&&c.default.popups.appendChild(this.theatre.view),this.theatre.closeButton.addEventListener("click",function(){return e.close()}),this.theatre.closeButton.addEventListener("keydown",function(t){(0,l.default)(t.keyCode,["enter"])&&(t.preventDefault(),e.close())}),this.videoType===L.BRIGHTCOVE&&setTimeout(function(){e.theatre.container.appendChild(e.player.element),e.player.videoElement.readyState>HTMLMediaElement.HAVE_NOTHING&&(e.player.videoElement.currentTime=0)},2),this.videoType===L.YOUTUBE){this.player.api&&(this.player.api.destroy(),this.player.api=null);var n=this.player.element.dataset.title,i=document.createElement("h2");i.classList.add("sr-only"),i.setAttribute("tabindex",0),i.innerHTML=n,this.theatre.view.insertBefore(i,this.theatre.container),setTimeout(function(){e.theatre.container.appendChild(e.player.element),window.YT&&e.initYouTubePlayer(),window.YT||E(function(){return e.initYouTubePlayer()})},2)}this.playButton&&this.playButton.classList.remove("video-player__play-button--inactive"),this.theatre.isActive=!0}}},{key:"destroyTheatreMode",value:function(){var e=this;if(this.theatre.isActive){if(this.videoType===L.BRIGHTCOVE){c.default.popups&&c.default.popups.removeChild(this.theatre.view),this.close();var t=this.view.querySelector("script");this.view.removeChild(this.poster.duplicatePoster),setTimeout(function(){e.view.insertBefore(e.player.element,t),e.player.videoElement.readyState>HTMLMediaElement.HAVE_NOTHING&&(e.player.videoElement.currentTime=0),e.player.element.classList.contains("vjs-has-started")&&e.playButton&&e.playButton.classList.add("video-player__play-button--inactive")},2)}this.videoType===L.YOUTUBE&&(this.player.api&&(this.player.api.destroy(),this.player.api=null),c.default.popups&&c.default.popups.removeChild(this.theatre.view),this.close(),this.view.removeChild(this.poster.duplicatePoster),setTimeout(function(){e.view.insertBefore(e.player.element,e.playButton),e.initYouTubePlayer()},2)),this.theatre.isActive=!1}}},{key:"safePlayOnIE",value:function(){var e=this;null==this.brightcoveVideoObserver&&(this.brightcoveVideoObserver=new MutationObserver(function(t){var n=function(e){return e.nodeType===Node.ELEMENT_NODE&&"VIDEO"===e.tagName.toUpperCase()},i=t.filter(function(e){return"childList"===e.type&&e.addedNodes.length>0&&[].concat(r(e.addedNodes)).filter(n).length>0});if(i.length>0){var a=i.reduce(function(e,t){var i=[].concat(r(t.addedNodes)).filter(n);return[].concat(r(e),r(i))},[]);e.player.videoElement=a.filter(function(e){return e.classList.contains("vjs-tech")})[0],e.playPromise=e.player.videoElement.play(),e.attachBrightcoveVideoEvents(),e.brightcoveVideoObserver.disconnect()}}),this.brightcoveVideoObserver.observe(this.player.element,{attributes:!0,childList:!0,subtree:!0}))}},{key:"attachBrightcoveVideoEvents",value:function(){var e=this;this.player.videoElement.addEventListener("play",function(){if(!e.hasTheatreMode){var t=e.player.element.querySelector(".vjs-play-control");p.default.scrollTo(e.view),t.focus({preventScroll:!0})}}),this.player.videoElement.addEventListener("pause",function(){if(!e.hasTheatreMode){e.player.element.querySelector(".vjs-big-play-button").focus()}}),this.player.videoElement.addEventListener("ended",function(){e.onEnded()})}},{key:"attachListeners",value:function(){var e=this;this.playButton&&(this.playButton.addEventListener("click",function(){return e.play()}),this.playButton.addEventListener("keydown",function(t){(0,l.default)(t.keyCode,["enter"])&&(t.preventDefault(),e.play())})),this.videoType===L.BRIGHTCOVE&&this.player.videoElement&&(this.attachBrightcoveVideoEvents(),this.player.api.on("fullscreenchange",function(){e.isMobileOnly&&!e.player.api.isFullscreen()&&e.player.api.pause()}),this.player.api.on("playing",function(){e.isMobileOnly&&!e.player.api.isFullscreen()&&e.player.api.requestFullscreen(),e.trackEvent(e.firstPlay),e.firstPlay=!1})),this.videoType===L.YOUTUBE&&this.player.api&&this.player.api.addEventListener("onStateChange",function(t){t.data===S.ENDED&&e.onEnded()})}},{key:"onEnded",value:function(){this.exitFullScreen(),this.relatedVideos?this.relatedVideos.open():this.initRelatedVideos()}},{key:"open",value:function(){this.theatre.isOpen=!0,this.theatre.view.classList.add("video-theatre--active"),document.body.classList.add("noscroll"),c.default.popups&&c.default.hideAllBut("popups"),this.controlFocus(!0),this.theatre.view.querySelectorAll(".vjs-big-play-button").forEach(function(e){return e.setAttribute("title","")}),this.theatre.view.querySelectorAll(".vjs-control-text").forEach(function(e){return e.setAttribute("aria-hidden","true")})}},{key:"close",value:function(){this.theatre.isOpen=!1,this.theatre.view.classList.remove("video-theatre--active"),document.body.classList.remove("noscroll"),this.pause(),c.default.popups&&c.default.showAllBut("popups"),this.relatedVideos&&this.relatedVideos.close(!0),this.controlFocus(!1)}},{key:"controlFocus",value:function(e){var t=this;this.firstFocusableElement&&c.default.popups&&(c.default.removeTabToFrom(this.firstFocusableElement,this.theatre.closeButton),c.default.allowFocus()),e||(c.default.popups&&c.default.removeCloseOnEscapeKeydown(),this.playButton.focus()),this.theatre.isOpen&&(this.videoType===L.BRIGHTCOVE&&(this.firstFocusableElement=this.isPlaying?this.theatre.view.querySelector(".vjs-play-control"):this.theatre.view.querySelector(".vjs-big-play-button")),this.videoType===L.YOUTUBE&&(this.firstFocusableElement=this.theatre.view.querySelector("h2"))),c.default.popups&&(this.theatre.isOpen&&c.default.tabToFrom(this.firstFocusableElement,this.theatre.closeButton),e&&(c.default.restrictFocus(".video-theatre",this.firstFocusableElement),c.default.closeOnEscapeKeydown(null,function(){t.player.api&&t.player.api.isFullscreen()||t.close()}))),setTimeout(function(){t.firstFocusableElement&&t.firstFocusableElement.focus()},2)}},{key:"play",value:function(){this.player.api&&(this.isPlaying=!0,this.videoType===L.BRIGHTCOVE&&this.player.videoElement&&(this.playPromise=this.player.videoElement.play(),this.safePlayOnIE(),this.isMobileOnly&&!this.player.api.isFullscreen()&&this.player.api.requestFullscreen()),this.videoType===L.YOUTUBE&&this.player.api&&this.player.api.playVideo&&this.player.api.playVideo(),this.hidePoster(),this.hasTheatreMode&&!this.theatre.isOpen&&this.open(),!this.hasTheatreMode&&this.playButton&&this.playButton.classList.add("video-player__play-button--inactive"))}},{key:"pause",value:function(){var e=this;if(this.player.api){this.isPlaying=!1;(this.playPromise||Promise.resolve()).then(function(){e.videoType===L.BRIGHTCOVE&&e.player.videoElement.pause(),e.videoType===L.YOUTUBE&&e.player.api.pauseVideo()})}}},{key:"replay",value:function(){var e=this;if(this.player.api){(this.playPromise||Promise.resolve()).then(function(){e.videoType===L.BRIGHTCOVE&&(e.player.api.currentTime(0),e.playPromise=e.player.videoElement.play()),e.videoType===L.YOUTUBE&&(e.player.api.seekTo(0),e.player.api.playVideo())})}}},{key:"exitFullScreen",value:function(){this.videoType===L.BRIGHTCOVE&&this.player.api&&this.player.api.isFullscreen()&&this.player.api.exitFullscreen()}},{key:"initRelatedVideos",value:function(){if(this.isRelatedEnabled){if(!(x(this.view)&&this.isMobileOnly?this.relatedVideos:!this.hasTheatreMode||!this.theatre.isActive||!this.theatre.isOpen||this.relatedVideos)){var e=k.default.render({title:this.videoTitle});this.relatedVideos=new k.default(e,{videoId:this.videoId,playerId:this.playerId,sitecoreItemId:this.sitecoreItemId}),this.relatedVideos.mount(),this.relatedVideos.open()}}}},{key:"hidePoster",value:function(){!this.hasTheatreMode&&this.poster.duplicatePoster&&(this.poster.duplicatePoster.style.display="none"),!this.hasTheatreMode&&this.poster.duplicatePosterMobile&&(this.poster.duplicatePosterMobile.style.display="none")}},{key:"trackEvent",value:function(e){m.default.trackEvent({event_type:"click",event_category:"content",event_action:e?"VideoPlayStart":"VideoPlayonPause",event_content:this.videoId})}}]),e}();t.default=O},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(1),o=n(6),l=i(o),u=n(4),c=i(u),h=n(229),d=i(h),f=function(){function e(t){a(this,e),this.repository=new d.default,this.scaled=!1,this.opened=!1,this.opening=!1,this.closing=!1,this.zoomScale=null,this.currentZoomScale,this.zoomLevels=2,this.currentZoomLevel,this.lastFocusedElement=t,this.viewerTemplate=Handlebars.templates["image-viewer-template"],this.debouncedSetContentHeight=(0,s.debounce)(50,!1,this.setContentHeight.bind(this)),this.eventData={event_action:"ImageViewer",event_category:"content",event_type:"click"}}return r(e,[{key:"imageInfoToggle",value:function(){this.view.classList.toggle("info-open");var e=this.view.parentNode,t=e.querySelector(".viewer-carousel__close");e.classList.contains("viewer-carousel")?(e.querySelector(".category-indicator").classList.toggle("faded"),t.style.display="none"==t.style.display?"inline":"none"):this.viewerClose.style.display="none"==this.viewerClose.style.display?"inline":"none"}},{key:"onViewerClose",value:function(){var e=this;this.opened&&!this.closing&&(this.closing=!0,window.removeEventListener("resize",this.debouncedSetContentHeight),this.view.remove(),document.body.classList.remove("noscroll"),l.default.popups&&(l.default.showAllBut("popups"),l.default.allowFocus(),l.default.removeTabToFrom(this.image,this.viewerClose),l.default.removeCloseOnEscapeKeydown()),this.lastFocusedElement&&setTimeout(function(){e.lastFocusedElement.focus()},100),this.opened=!1,this.closing=!1)}},{key:"setContentHeight",value:function(){if(window.innerWidth>768){var e=this.view.querySelector(".details > .container-fluid").clientHeight+this.view.querySelector(".details__footer").clientHeight+40-8;this.content.style.height="calc(100% - "+e+"px)",this.details.style.maxHeight=e+"px"}else this.content.style.height="",this.details.style.maxHeight=""}},{key:"loadViewerFunctionality",value:function(e,t,n){this.zoomScale="number"!=typeof n||isNaN(n)?null:n,this.mouseMoveHandler=(0,s.throttle)(90,this.moveImage.bind(this)),e.imageData.highResolutionImage&&(e.imageData.image=e.imageData.highResolutionImage),this.initViewer(e.imageData.items,t),this.imageTitle=e.imageData.title,this.opened=!0}},{key:"loadViewer",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=e.getAttribute("data-image-id");return this.opened||this.opening?Promise.resolve():(this.opening=!0,this.zoomScale="number"!=typeof n||isNaN(n)?null:n,this.mouseMoveHandler=(0,s.throttle)(90,this.moveImage.bind(this)),this.repository.getImageData(i).then(function(e){var n=document.createElement("div");e.imageData.highResolutionImage&&(e.imageData.image=e.imageData.highResolutionImage),n.innerHTML=t.viewerTemplate(e),t.view=n.firstChild,l.default.popups?l.default.popups.appendChild(t.view):document.body.appendChild(t.view),t.initViewer(e.imageData.items),t.imageTitle=e.imageData.title,l.default.popups&&(l.default.hideAllBut("popups"),l.default.restrictFocus(".viewer-module",t.image),l.default.tabToFrom(t.image,t.viewerClose),l.default.closeOnEscapeKeydown(t,t.onViewerClose.bind(t))),t.eventData.event_action="ImageViewer",t.eventData.event_category="content",t.eventData.event_content=t.imageTitle,c.default.trackEvent(t.eventData),t.opened=!0,t.opening=!1}).catch(function(){t.opening=!1}))}},{key:"initDesktopInteraction",value:function(){var e=this;this.image.addEventListener("click",function(t){return e.zoom(t)}),this.magnifier.addEventListener("click",function(t){return e.zoom(t)}),this.image.addEventListener("mousemove",function(t){e.trackMagnifier(t)}),this.image.addEventListener("mouseover",function(t){e.trackMagnifier(t),e.magnifier.classList.add("fade-in")}),this.image.addEventListener("mouseleave",function(t){e.magnifier.classList.remove("fade-in")}),this.zoomInButton.addEventListener("click",function(t){e.scaled&&!e.zoomingIn&&(e.zoomingIn=!0),e.image.click()}),this.zoomOutButton.addEventListener("click",function(t){e.scaled&&e.zoomingIn&&(e.zoomingIn=!1),e.image.click()}),this.disableButton(this.zoomOutButton)}},{key:"initMobileInteraction",value:function(){var e=this,t=0,n=0,i=void 0,a=1,r=0,s=-this.image.clientHeight/2,o=!0,l=new Hammer.Manager(this.image,{recognizers:[[Hammer.Pan,{direction:Hammer.DIRECTION_ALL}],[Hammer.Pinch,{enable:!0},["pan"]]]});l.on("pinchmove pan",function(l){t=a?a+l.scale-1:l.scale,t=t<=1?1:t>=3?3:t,n=r?r+l.deltaX/t:l.deltaX/t,i=o?(-l.target.clientHeight/2+l.deltaY)/t:s+l.deltaY/t,e.image.style.transform="scale("+t+") translateX("+n+"px) translateY("+i+"px)"}),l.on("pinchend",function(e){a=t}),l.on("panend",function(a){r=n,s=i,o=!1,1===t&&(e.image.style.transform="scale(1) translateX(0) translateY(-50%)",r=0,s=-e.image.clientHeight/2)}),this.image.focus()}},{key:"initViewer",value:function(e,t){var n=this;this.view=t||document.querySelector(".viewer-module"),this.image=this.view.querySelector(".content img"),this.content=this.view.querySelector(".content"),this.magnifier=this.view.querySelector(".magnifier"),this.details=this.view.querySelector(".details"),this.imageInfo=this.view.querySelector("button.image-info"),this.imageInfoClose=this.view.querySelector(".details__close"),this.viewerClose=this.view.querySelector(".viewer-module__close"),this.socialShareModal=this.view.querySelector(".social-channels"),this.socialShare=this.view.querySelector(".social-share"),this.socialShareClose=this.view.querySelector(".social-channels__close"),this.socialLinks=this.view.querySelectorAll(".social-channels__link"),this.dlLinks=this.view.querySelectorAll(".image-dl"),this.zoomInButton=this.view.querySelector(".zoom-in"),this.zoomOutButton=this.view.querySelector(".zoom-out"),this.image.addEventListener("load",function(){n.isDesktop()?n.initDesktopInteraction():n.initMobileInteraction()}),this.view.addEventListener("keydown",function(e){return n.keyboardNav(e)},!1),this.imageInfo&&this.imageInfo.addEventListener("click",function(){n.imageInfoToggle()}),this.imageInfoClose.addEventListener("click",function(){n.imageInfoToggle()}),this.viewerClose.addEventListener("click",function(){n.onViewerClose()}),this.socialShare.addEventListener("click",function(e){e.preventDefault(),n.socialShareModal.style.display="block",n.view.classList.add("has-share-overlay"),n.socialLinks.length>0&&n.socialLinks[0].focus()}),this.socialShareClose.addEventListener("click",function(e){e.preventDefault(),n.socialShareModal.style.display="none",n.view.classList.remove("has-share-overlay"),n.socialShare.focus()}),this.socialShareClose.addEventListener("keydown",function(e){9!==e.keyCode||e.shiftKey||(e.preventDefault(),n.socialLinks.length>0&&n.socialLinks[0].focus())}),this.socialLinks.length>0&&this.socialLinks[0].addEventListener("keydown",function(e){9===e.keyCode&&e.shiftKey&&(e.preventDefault(),n.socialShareClose.focus())}),this.socialLinks.length&&this.socialLinks.forEach(function(e){e.addEventListener("click",function(t){n.eventData.event_action=e.querySelector(".social-channels__name").innerText,n.eventData.event_category="social",n.eventData.event_content="ImageViewer",c.default.trackEvent(n.eventData)})}),this.dlLinks.length&&this.dlLinks.forEach(function(e){e.addEventListener("click",function(t){n.eventData.event_action="ImageViewer",n.eventData.event_category="content",n.eventData.event_content="Download|"+e.href,c.default.trackEvent(n.eventData)})}),document.body.classList.add("noscroll");var i=this.image.getAttribute("src")||this.image.dataset.imageSrc||"",a=i.substring(i.lastIndexOf("/")+1);setTimeout(function(){n.setContentHeight()},100),window.addEventListener("resize",this.debouncedSetContentHeight),this.eventData.event_subcategory=utag_data.page_url+"|"+a}},{key:"zoom",value:function(e){var t=window.innerHeight-80,n=window.innerWidth,i=e.target.clientWidth,a=e.target.clientHeight;this.zoomScale||(this.zoomScale=Math.max(t/a,n/i,e.target.naturalHeight/t,e.target.naturalWidth/n,1.5)),this.scaled||(this.view.classList.add("zoomed"),this.content.classList.add("scaled"),this.currentZoomLevel=0,this.zoomingIn=!0,this.scaled=!0,this.enableButton(this.zoomOutButton)),this.zoomingIn?++this.currentZoomLevel===this.zoomLevels&&(this.zoomingIn=!1,this.content.classList.add("zooming-out"),this.disableButton(this.zoomInButton)):(this.currentZoomLevel--,this.enableButton(this.zoomInButton),0===this.currentZoomLevel&&(this.view.classList.remove("zoomed"),this.content.classList.remove("scaled"),this.content.classList.remove("zooming-out"),this.scaled=!1,this.disableButton(this.zoomOutButton)));var r=this.currentZoomLevel/this.zoomLevels,s=1;1===this.currentZoomLevel&&(s=.5),this.currentZoomScale=1+(this.zoomScale-1)*s*r,this.image.style.transform="scale("+this.currentZoomScale+")",this.centerX=Math.floor(n/2),this.centerY=Math.floor(t/2),i=e.target.clientWidth,a=e.target.clientHeight,this.maxTrX=(i-n/this.currentZoomScale)/2,this.maxTrY=(a-t/this.currentZoomScale)/2,this.offsetY=(t-a)/this.currentZoomScale/2,this.fitsHorizontally=n>i*this.currentZoomScale,this.fitsVertically=t>a*this.currentZoomScale,this.movementX=0,this.movementY=0,this.scaled?(this.image.addEventListener("mousemove",this.mouseMoveHandler,!1),this.moveImage(e),l.default.popups&&l.default.removeCloseOnEscapeKeydown()):(this.image.removeAttribute("style"),this.image.removeEventListener("mousemove",this.mouseMoveHandler,!1),l.default.popups&&(e.stopImmediatePropagation(),l.default.closeOnEscapeKeydown(this,this.onViewerClose.bind(this)))),this.eventData.event_action="ImageViewer",this.eventData.event_category="content",this.eventData.event_content=(this.scaled?"ZoomIn":"ZoomOut")+"|"+this.imageTitle,c.default.trackEvent(this.eventData)}},{key:"disableButton",value:function(e){e.setAttribute("disabled","disabled")}},{key:"enableButton",value:function(e){e.removeAttribute("disabled")}},{key:"keyboardNav",value:function(e){if(this.scaled)switch(e.key){case"ArrowDown":case"Down":this.movementY=this.movementY-80>-this.maxTrY?this.movementY-80:-this.maxTrY,this.moveImage(e);break;case"ArrowUp":case"Up":this.movementY=this.movementY+80<this.maxTrY?this.movementY+80:this.maxTrY,this.moveImage(e);break;case"ArrowLeft":case"Left":e.stopPropagation(),this.movementX=this.movementX+80<this.maxTrX?this.movementX+80:this.maxTrX,this.moveImage(e);break;case"ArrowRight":case"Right":e.stopPropagation(),this.movementX=this.movementX-80>-this.maxTrX?this.movementX-80:-this.maxTrX,this.moveImage(e);break;case"Enter":e.target!==this.zoomInButton&&e.target!==this.zoomOutButton&&this.zoom(e);break;case"Escape":case"Esc":this.zoom(e)}else if(e.target===this.image)switch(e.key){case"Enter":this.zoom(e)}}},{key:"moveImage",value:function(e){"mousemove"===e.type&&(this.movementX=-(e.clientX-this.centerX),this.movementY=-(e.clientY-this.centerY)),this.fitsHorizontally?this.trX=0:this.movementX>=this.maxTrX||this.movementX<=-this.maxTrX?this.trX=this.movementX>0?this.maxTrX:-this.maxTrX:this.trX=this.movementX,this.fitsVertically?this.trY=0:this.movementY>=this.maxTrY||this.movementY<=-this.maxTrY?this.trY=this.movementY>0?this.maxTrY:-this.maxTrY:this.trY=this.movementY,this.trY=this.trY+this.offsetY,this.image.style.transform="scale("+this.currentZoomScale+") translate("+this.trX+"px, "+this.trY+"px)"}},{key:"trackMagnifier",value:function(e){this.magnifier.classList.add("fade-in"),this.trackMagnifier=function(e){this.magnifier.style.left=e.clientX+"px",this.magnifier.style.top=e.clientY+"px"}}},{key:"isDesktop",value:function(){return window.innerWidth>768}}]),e}();t.default=f},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(23),o=i(s),l=n(20),u=i(l),c=function(){function e(t){a(this,e),this.dal=t||new u.default}return r(e,[{key:"loadMoreItems",value:function(e,t,n){var i="dataSource="+e.dataSource+"&key="+e.categoryKey+"&page="+e.nextPage+"&mobile="+e.mobile;this.dal.getData(o.default.MEDIA_GALLERY_CATEGORY_SERVICE+"?"+i,function(e){t(e)},function(e){n(e)})}},{key:"getInitialView",value:function(e,t,n){var i="dataSource="+e.dataSource+"&mobile="+e.mobile;this.dal.getData(o.default.MEDIA_GALLERY_CATEGORY_SERVICE+"?"+i,function(e){t(e)},function(e){n(e)})}},{key:"getFilteredResults",value:function(e,t,n){var i="";e.filter.filter.forEach(function(e){e.values.length>0&&(i+="&"+encodeURI(e.key)+"="+e.values.map(function(e){return encodeURI(e)}).join("|"))});var a="dataSource="+e.dataSource+i+"&page="+e.pageNumber+"&take="+e.take;this.dal.getData(o.default.MEDIA_GALLERY_FILTER_SERVICE+"?"+a,function(e){t(e)},function(e){n(e)})}}]),e}();t.default=c},function(e,t){window.matchMedia||(window.matchMedia=function(){"use strict";var e=window.styleMedia||window.media;if(!e){var t=document.createElement("style"),n=document.getElementsByTagName("script")[0],i=null;t.type="text/css",t.id="matchmediajs-test",n.parentNode.insertBefore(t,n),i="getComputedStyle"in window&&window.getComputedStyle(t,null)||t.currentStyle,e={matchMedium:function(e){var n="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=n:t.textContent=n,"1px"===i.width}}}return function(t){return{matches:e.matchMedium(t||"all"),media:t||"all"}}}())},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(23),l=i(o),u=n(20),c=i(u),h=function(){function e(t){a(this,e),this.dataAccessLayer=t||new c.default}return s(e,[{key:"getSuggestions",value:function(e,t){var n=r({},t,{q:e});return this.dataAccessLayer.fetchGetData(l.default.SEARCH_SUGGEST_SERVICE,n)}},{key:"postprocessGetResults",value:function(e){e.items.forEach(function(e){e.contentInfo&&(e.contentInfo=e.contentInfo.replace(/k$/i,"KB"));var t=/.+\/{2}.+\/.+\.(\w+)/.exec(e.src);null!==t&&t.length>1&&(e.fileExtension=t[1])})}},{key:"getResults",value:function(e,t){var n=this,i=r({},t,{q:e});return this.dataAccessLayer.fetchGetData(l.default.SEARCH_FIND_SERVICE,i).then(function(e){return n.postprocessGetResults(e),Promise.resolve(e)})}}]),e}();t.default=h},function(e,t,n){var i,a;!function(r,s){i=s,void 0!==(a="function"==typeof i?i.call(t,n,t,e):i)&&(e.exports=a)}(0,function(){function e(e,t){var n=Object.prototype.toString.call(e),i="[object Array]"===n||"[object NodeList]"===n||"[object HTMLCollection]"===n||"[object Object]"===n||"undefined"!=typeof jQuery&&e instanceof jQuery||"undefined"!=typeof Elements&&e instanceof Elements,a=0,r=e.length;if(i)for(;a<r;a++)t(e[a]);else t(e)}if("undefined"==typeof window)return null;var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)},n=function(i,a){function r(){var e=[];this.add=function(t){e.push(t)};var t,n;this.call=function(){for(t=0,n=e.length;t<n;t++)e[t].call()},this.remove=function(i){var a=[];for(t=0,n=e.length;t<n;t++)e[t]!==i&&a.push(e[t]);e=a},this.length=function(){return e.length}}function s(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null).getPropertyValue(t):e.style[t]}function o(e,n){if(e.resizedAttached){if(e.resizedAttached)return void e.resizedAttached.add(n)}else e.resizedAttached=new r,e.resizedAttached.add(n);e.resizeSensor=document.createElement("div"),e.resizeSensor.className="resize-sensor";var i="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",a="position: absolute; left: 0; top: 0; transition: 0s;";e.resizeSensor.style.cssText=i,e.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+i+'"><div style="'+a+'"></div></div><div class="resize-sensor-shrink" style="'+i+'"><div style="'+a+' width: 200%; height: 200%"></div></div>',e.appendChild(e.resizeSensor),"static"==s(e,"position")&&(e.style.position="relative");var o,l,u,c,h=e.resizeSensor.childNodes[0],d=h.childNodes[0],f=e.resizeSensor.childNodes[1],p=e.offsetWidth,v=e.offsetHeight,m=function(){d.style.width="100000px",d.style.height="100000px",h.scrollLeft=1e5,h.scrollTop=1e5,f.scrollLeft=1e5,f.scrollTop=1e5};m();var g=function(){l=0,o&&(p=u,v=c,e.resizedAttached&&e.resizedAttached.call())},y=function(){u=e.offsetWidth,c=e.offsetHeight,o=u!=p||c!=v,o&&!l&&(l=t(g)),m()},b=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)};b(h,"scroll",y),b(f,"scroll",y)}e(i,function(e){o(e,a)}),this.detach=function(e){n.detach(i,e)}};return n.detach=function(t,n){e(t,function(e){e.resizedAttached&&"function"==typeof n&&(e.resizedAttached.remove(n),e.resizedAttached.length())||e.resizeSensor&&(e.contains(e.resizeSensor)&&e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached)})},n})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n(172),n(173),n(175),n(177),n(181),n(182),n(183),n(184),n(190),n(192),n(194);var i=n(90);n(201),n(203),n(206),n(208),n(220),n(224),n(227),n(234),n(253),n(258),n(260),n(262),n(266),(0,i.autoCoupleViews)(),(0,i.dispatchThemeReady)()},function(e,t,n){var i;!function(a,r,s,o){"use strict";function l(e,t,n){return setTimeout(f(e,n),t)}function u(e,t,n){return!!Array.isArray(e)&&(c(e,n[t],n),!0)}function c(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==o)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function h(e,t,n){var i="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=a.console&&(a.console.warn||a.console.log);return r&&r.call(a.console,i,n),e.apply(this,arguments)}}function d(e,t,n){var i,a=t.prototype;i=e.prototype=Object.create(a),i.constructor=e,i._super=a,n&&pe(i,n)}function f(e,t){return function(){return e.apply(t,arguments)}}function p(e,t){return typeof e==ge?e.apply(t?t[0]||o:o,t):e}function v(e,t){return e===o?t:e}function m(e,t,n){c(w(t),function(t){e.addEventListener(t,n,!1)})}function g(e,t,n){c(w(t),function(t){e.removeEventListener(t,n,!1)})}function y(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function b(e,t){return e.indexOf(t)>-1}function w(e){return e.trim().split(/\s+/g)}function k(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function _(e){return Array.prototype.slice.call(e,0)}function E(e,t,n){for(var i=[],a=[],r=0;r<e.length;){var s=t?e[r][t]:e[r];k(a,s)<0&&i.push(e[r]),a[r]=s,r++}return n&&(i=t?i.sort(function(e,n){return e[t]>n[t]}):i.sort()),i}function S(e,t){for(var n,i,a=t[0].toUpperCase()+t.slice(1),r=0;r<ve.length;){if(n=ve[r],(i=n?n+a:t)in e)return i;r++}return o}function C(){return Ee++}function L(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||a}function A(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){p(e.options.enable,[e])&&n.handler(t)},this.init()}function T(e){var t=e.options.inputClass;return new(t||(Le?V:Ae?Y:Ce?K:j))(e,x)}function x(e,t,n){var i=n.pointers.length,a=n.changedPointers.length,r=t&xe&&i-a==0,s=t&(Oe|Ie)&&i-a==0;n.isFirst=!!r,n.isFinal=!!s,r&&(e.session={}),n.eventType=t,P(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function P(e,t){var n=e.session,i=t.pointers,a=i.length;n.firstInput||(n.firstInput=M(t)),a>1&&!n.firstMultiple?n.firstMultiple=M(t):1===a&&(n.firstMultiple=!1);var r=n.firstInput,s=n.firstMultiple,o=s?s.center:r.center,l=t.center=B(i);t.timeStamp=we(),t.deltaTime=t.timeStamp-r.timeStamp,t.angle=R(o,l),t.distance=H(o,l),O(n,t),t.offsetDirection=N(t.deltaX,t.deltaY);var u=D(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=be(u.x)>be(u.y)?u.x:u.y,t.scale=s?F(s.pointers,i):1,t.rotation=s?q(s.pointers,i):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,I(n,t);var c=e.element;y(t.srcEvent.target,c)&&(c=t.srcEvent.target),t.target=c}function O(e,t){var n=t.center,i=e.offsetDelta||{},a=e.prevDelta||{},r=e.prevInput||{};t.eventType!==xe&&r.eventType!==Oe||(a=e.prevDelta={x:r.deltaX||0,y:r.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=a.x+(n.x-i.x),t.deltaY=a.y+(n.y-i.y)}function I(e,t){var n,i,a,r,s=e.lastInterval||t,l=t.timeStamp-s.timeStamp;if(t.eventType!=Ie&&(l>Te||s.velocity===o)){var u=t.deltaX-s.deltaX,c=t.deltaY-s.deltaY,h=D(l,u,c);i=h.x,a=h.y,n=be(h.x)>be(h.y)?h.x:h.y,r=N(u,c),e.lastInterval=t}else n=s.velocity,i=s.velocityX,a=s.velocityY,r=s.direction;t.velocity=n,t.velocityX=i,t.velocityY=a,t.direction=r}function M(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:ye(e.pointers[n].clientX),clientY:ye(e.pointers[n].clientY)},n++;return{timeStamp:we(),pointers:t,center:B(t),deltaX:e.deltaX,deltaY:e.deltaY}}function B(e){var t=e.length;if(1===t)return{x:ye(e[0].clientX),y:ye(e[0].clientY)};for(var n=0,i=0,a=0;a<t;)n+=e[a].clientX,i+=e[a].clientY,a++;return{x:ye(n/t),y:ye(i/t)}}function D(e,t,n){return{x:t/e||0,y:n/e||0}}function N(e,t){return e===t?Me:be(e)>=be(t)?e<0?Be:De:t<0?Ne:He}function H(e,t,n){n||(n=je);var i=t[n[0]]-e[n[0]],a=t[n[1]]-e[n[1]];return Math.sqrt(i*i+a*a)}function R(e,t,n){n||(n=je);var i=t[n[0]]-e[n[0]],a=t[n[1]]-e[n[1]];return 180*Math.atan2(a,i)/Math.PI}function q(e,t){return R(t[1],t[0],Ve)+R(e[1],e[0],Ve)}function F(e,t){return H(t[0],t[1],Ve)/H(e[0],e[1],Ve)}function j(){this.evEl=ze,this.evWin=Ye,this.pressed=!1,A.apply(this,arguments)}function V(){this.evEl=Ge,this.evWin=Xe,A.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function U(){this.evTarget=Qe,this.evWin=Je,this.started=!1,A.apply(this,arguments)}function z(e,t){var n=_(e.touches),i=_(e.changedTouches);return t&(Oe|Ie)&&(n=E(n.concat(i),"identifier",!0)),[n,i]}function Y(){this.evTarget=et,this.targetIds={},A.apply(this,arguments)}function W(e,t){var n=_(e.touches),i=this.targetIds;if(t&(xe|Pe)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var a,r,s=_(e.changedTouches),o=[],l=this.target;if(r=n.filter(function(e){return y(e.target,l)}),t===xe)for(a=0;a<r.length;)i[r[a].identifier]=!0,a++;for(a=0;a<s.length;)i[s[a].identifier]&&o.push(s[a]),t&(Oe|Ie)&&delete i[s[a].identifier],a++;return o.length?[E(r.concat(o),"identifier",!0),o]:void 0}function K(){A.apply(this,arguments);var e=f(this.handler,this);this.touch=new Y(this.manager,e),this.mouse=new j(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function G(e,t){e&xe?(this.primaryTouch=t.changedPointers[0].identifier,X.call(this,t)):e&(Oe|Ie)&&X.call(this,t)}function X(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var i=this.lastTouches,a=function(){var e=i.indexOf(n);e>-1&&i.splice(e,1)};setTimeout(a,tt)}}function $(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var a=this.lastTouches[i],r=Math.abs(t-a.x),s=Math.abs(n-a.y);if(r<=nt&&s<=nt)return!0}return!1}function Q(e,t){this.manager=e,this.set(t)}function J(e){if(b(e,ot))return ot;var t=b(e,lt),n=b(e,ut);return t&&n?ot:t||n?t?lt:ut:b(e,st)?st:rt}function Z(e){this.options=pe({},this.defaults,e||{}),this.id=C(),this.manager=null,this.options.enable=v(this.options.enable,!0),this.state=ht,this.simultaneous={},this.requireFail=[]}function ee(e){return e&mt?"cancel":e&pt?"end":e&ft?"move":e&dt?"start":""}function te(e){return e==He?"down":e==Ne?"up":e==Be?"left":e==De?"right":""}function ne(e,t){var n=t.manager;return n?n.get(e):e}function ie(){Z.apply(this,arguments)}function ae(){ie.apply(this,arguments),this.pX=null,this.pY=null}function re(){ie.apply(this,arguments)}function se(){Z.apply(this,arguments),this._timer=null,this._input=null}function oe(){ie.apply(this,arguments)}function le(){ie.apply(this,arguments)}function ue(){Z.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ce(e,t){return t=t||{},t.recognizers=v(t.recognizers,ce.defaults.preset),new he(e,t)}function he(e,t){this.options=pe({},ce.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=T(this),this.touchAction=new Q(this,this.options.touchAction),de(this,!0),c(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function de(e,t){var n=e.element;if(n.style){var i;c(e.options.cssProps,function(a,r){i=S(n.style,r),t?(e.oldCssProps[i]=n.style[i],n.style[i]=a):n.style[i]=e.oldCssProps[i]||""}),t||(e.oldCssProps={})}}function fe(e,t){var n=r.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}var pe,ve=["","webkit","Moz","MS","ms","o"],me=r.createElement("div"),ge="function",ye=Math.round,be=Math.abs,we=Date.now;pe="function"!=typeof Object.assign?function(e){if(e===o||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==o&&null!==i)for(var a in i)i.hasOwnProperty(a)&&(t[a]=i[a])}return t}:Object.assign;var ke=h(function(e,t,n){for(var i=Object.keys(t),a=0;a<i.length;)(!n||n&&e[i[a]]===o)&&(e[i[a]]=t[i[a]]),a++;return e},"extend","Use `assign`."),_e=h(function(e,t){return ke(e,t,!0)},"merge","Use `assign`."),Ee=1,Se=/mobile|tablet|ip(ad|hone|od)|android/i,Ce="ontouchstart"in a,Le=S(a,"PointerEvent")!==o,Ae=Ce&&Se.test(navigator.userAgent),Te=25,xe=1,Pe=2,Oe=4,Ie=8,Me=1,Be=2,De=4,Ne=8,He=16,Re=Be|De,qe=Ne|He,Fe=Re|qe,je=["x","y"],Ve=["clientX","clientY"];A.prototype={handler:function(){},init:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(L(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&g(this.element,this.evEl,this.domHandler),this.evTarget&&g(this.target,this.evTarget,this.domHandler),this.evWin&&g(L(this.element),this.evWin,this.domHandler)}};var Ue={mousedown:xe,mousemove:Pe,mouseup:Oe},ze="mousedown",Ye="mousemove mouseup";d(j,A,{handler:function(e){var t=Ue[e.type];t&xe&&0===e.button&&(this.pressed=!0),t&Pe&&1!==e.which&&(t=Oe),this.pressed&&(t&Oe&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var We={pointerdown:xe,pointermove:Pe,pointerup:Oe,pointercancel:Ie,pointerout:Ie},Ke={2:"touch",3:"pen",4:"mouse",5:"kinect"},Ge="pointerdown",Xe="pointermove pointerup pointercancel";a.MSPointerEvent&&!a.PointerEvent&&(Ge="MSPointerDown",Xe="MSPointerMove MSPointerUp MSPointerCancel"),d(V,A,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),a=We[i],r=Ke[e.pointerType]||e.pointerType,s="touch"==r,o=k(t,e.pointerId,"pointerId");a&xe&&(0===e.button||s)?o<0&&(t.push(e),o=t.length-1):a&(Oe|Ie)&&(n=!0),o<0||(t[o]=e,this.callback(this.manager,a,{pointers:t,changedPointers:[e],pointerType:r,srcEvent:e}),n&&t.splice(o,1))}});var $e={touchstart:xe,touchmove:Pe,touchend:Oe,touchcancel:Ie},Qe="touchstart",Je="touchstart touchmove touchend touchcancel";d(U,A,{handler:function(e){var t=$e[e.type];if(t===xe&&(this.started=!0),this.started){var n=z.call(this,e,t);t&(Oe|Ie)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var Ze={touchstart:xe,touchmove:Pe,touchend:Oe,touchcancel:Ie},et="touchstart touchmove touchend touchcancel";d(Y,A,{handler:function(e){var t=Ze[e.type],n=W.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}});var tt=2500,nt=25;d(K,A,{handler:function(e,t,n){var i="touch"==n.pointerType,a="mouse"==n.pointerType;if(!(a&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)G.call(this,t,n);else if(a&&$.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var it=S(me.style,"touchAction"),at=it!==o,rt="auto",st="manipulation",ot="none",lt="pan-x",ut="pan-y",ct=function(){if(!at)return!1;var e={},t=a.CSS&&a.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){e[n]=!t||a.CSS.supports("touch-action",n)}),e}();Q.prototype={set:function(e){"compute"==e&&(e=this.compute()),at&&this.manager.element.style&&ct[e]&&(this.manager.element.style[it]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return c(this.manager.recognizers,function(t){p(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),J(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var i=this.actions,a=b(i,ot)&&!ct[ot],r=b(i,ut)&&!ct[ut],s=b(i,lt)&&!ct[lt];if(a){var o=1===e.pointers.length,l=e.distance<2,u=e.deltaTime<250;if(o&&l&&u)return}return s&&r?void 0:a||r&&n&Re||s&&n&qe?this.preventSrc(t):void 0},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var ht=1,dt=2,ft=4,pt=8,vt=pt,mt=16;Z.prototype={defaults:{},set:function(e){return pe(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(u(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=ne(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return u(e,"dropRecognizeWith",this)?this:(e=ne(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(u(e,"requireFailure",this))return this;var t=this.requireFail;return e=ne(e,this),-1===k(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(u(e,"dropRequireFailure",this))return this;e=ne(e,this);var t=k(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){n.manager.emit(t,e)}var n=this,i=this.state;i<pt&&t(n.options.event+ee(i)),t(n.options.event),e.additionalEvent&&t(e.additionalEvent),i>=pt&&t(n.options.event+ee(i))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|ht)))return!1;e++}return!0},recognize:function(e){var t=pe({},e);if(!p(this.options.enable,[this,t]))return this.reset(),void(this.state=32);this.state&(vt|mt|32)&&(this.state=ht),this.state=this.process(t),this.state&(dt|ft|pt|mt)&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},d(ie,Z,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=t&(dt|ft),a=this.attrTest(e);return i&&(n&Ie||!a)?t|mt:i||a?n&Oe?t|pt:t&dt?t|ft:dt:32}}),d(ae,ie,{defaults:{event:"pan",threshold:10,pointers:1,direction:Fe},getTouchAction:function(){var e=this.options.direction,t=[];return e&Re&&t.push(ut),e&qe&&t.push(lt),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,a=e.direction,r=e.deltaX,s=e.deltaY;return a&t.direction||(t.direction&Re?(a=0===r?Me:r<0?Be:De,n=r!=this.pX,i=Math.abs(e.deltaX)):(a=0===s?Me:s<0?Ne:He,n=s!=this.pY,i=Math.abs(e.deltaY))),e.direction=a,n&&i>t.threshold&&a&t.direction},attrTest:function(e){return ie.prototype.attrTest.call(this,e)&&(this.state&dt||!(this.state&dt)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=te(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),d(re,ie,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ot]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&dt)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),d(se,Z,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[rt]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,a=e.deltaTime>t.time;if(this._input=e,!i||!n||e.eventType&(Oe|Ie)&&!a)this.reset();else if(e.eventType&xe)this.reset(),this._timer=l(function(){this.state=vt,this.tryEmit()},t.time,this);else if(e.eventType&Oe)return vt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===vt&&(e&&e.eventType&Oe?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=we(),this.manager.emit(this.options.event,this._input)))}}),d(oe,ie,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ot]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&dt)}}),d(le,ie,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Re|qe,pointers:1},getTouchAction:function(){return ae.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(Re|qe)?t=e.overallVelocity:n&Re?t=e.overallVelocityX:n&qe&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&be(t)>this.options.velocity&&e.eventType&Oe},emit:function(e){var t=te(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),d(ue,Z,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[st]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,a=e.deltaTime<t.time;if(this.reset(),e.eventType&xe&&0===this.count)return this.failTimeout();if(i&&a&&n){if(e.eventType!=Oe)return this.failTimeout();var r=!this.pTime||e.timeStamp-this.pTime<t.interval,s=!this.pCenter||H(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,s&&r?this.count+=1:this.count=1,this._input=e;if(0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=l(function(){this.state=vt,this.tryEmit()},t.interval,this),dt):vt}return 32},failTimeout:function(){return this._timer=l(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==vt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ce.VERSION="2.0.7",ce.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[oe,{enable:!1}],[re,{enable:!1},["rotate"]],[le,{direction:Re}],[ae,{direction:Re},["swipe"]],[ue],[ue,{event:"doubletap",taps:2},["tap"]],[se]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};he.prototype={set:function(e){return pe(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,i=this.recognizers,a=t.curRecognizer;(!a||a&&a.state&vt)&&(a=t.curRecognizer=null);for(var r=0;r<i.length;)n=i[r],2===t.stopped||a&&n!=a&&!n.canRecognizeWith(a)?n.reset():n.recognize(e),!a&&n.state&(dt|ft|pt)&&(a=t.curRecognizer=n),r++}},get:function(e){if(e instanceof Z)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(u(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(u(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=k(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==o&&t!==o){var n=this.handlers;return c(w(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==o){var n=this.handlers;return c(w(e),function(e){t?n[e]&&n[e].splice(k(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&fe(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},destroy:function(){this.element&&de(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},pe(ce,{INPUT_START:xe,INPUT_MOVE:Pe,INPUT_END:Oe,INPUT_CANCEL:Ie,STATE_POSSIBLE:ht,STATE_BEGAN:dt,STATE_CHANGED:ft,STATE_ENDED:pt,STATE_RECOGNIZED:vt,STATE_CANCELLED:mt,STATE_FAILED:32,DIRECTION_NONE:Me,DIRECTION_LEFT:Be,DIRECTION_RIGHT:De,DIRECTION_UP:Ne,DIRECTION_DOWN:He,DIRECTION_HORIZONTAL:Re,DIRECTION_VERTICAL:qe,DIRECTION_ALL:Fe,Manager:he,Input:A,TouchAction:Q,TouchInput:Y,MouseInput:j,PointerEventInput:V,TouchMouseInput:K,SingleTouchInput:U,Recognizer:Z,AttrRecognizer:ie,Tap:ue,Pan:ae,Swipe:le,Pinch:re,Rotate:oe,Press:se,on:m,off:g,each:c,merge:_e,extend:ke,assign:pe,inherit:d,bindFn:f,prefixed:S}),(void 0!==a?a:"undefined"!=typeof self?self:{}).Hammer=ce,(i=function(){return ce}.call(t,n,t,e))!==o&&(e.exports=i)}(window,document)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(174),r=function(e){return e&&e.__esModule?e:{default:e}}(a);window.Handlebars=r.default,t.default=function(){var e=Handlebars.template,t=Handlebars.templates=Handlebars.templates||{};t["programme-details-selected-item-template"]=e({1:function(e,t,n,i,a){var r,s=null!=t?t:e.nullContext||{};return(null!=(r=n.if.call(s,null!=t?t.heading:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a}))?r:"")+"<table>\r\n"+(null!=(r=n.if.call(s,null!=t?t.requirements:t,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))?r:"")+(null!=(r=n.if.call(s,null!=t?t.languages:t,{name:"if",hash:{},fn:e.program(6,a,0),inverse:e.noop,data:a}))?r:"")+(null!=(r=n.if.call(s,null!=t?t.open:t,{name:"if",hash:{},fn:e.program(8,a,0),inverse:e.noop,data:a}))?r:"")+(null!=(r=n.if.call(s,null!=t?t.close:t,{name:"if",hash:{},fn:e.program(10,a,0),inverse:e.noop,data:a}))?r:"")+(null!=(r=n.if.call(s,null!=t?t.startDate:t,{name:"if",hash:{},fn:e.program(12,a,0),inverse:e.noop,data:a}))?r:"")+(null!=(r=n.if.call(s,null!=t?t.actions:t,{name:"if",hash:{},fn:e.program(14,a,0),inverse:e.noop,data:a}))?r:"")+"</table>\r\n"},2:function(e,t,n,i,a){var r;return'<div class="programme-details__selected-item__heading">'+e.escapeExpression((r=null!=(r=n.heading||(null!=t?t.heading:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:e.nullContext||{},{name:"heading",hash:{},data:a}):r))+"</div>\r\n"},4:function(e,t,n,a,r){var s,o,l=null!=t?t:e.nullContext||{},u=n.helperMissing;return'    <tr>\r\n        <th scope="row">'+e.escapeExpression((o=null!=(o=n.requirementsLabel||(null!=t?t.requirementsLabel:t))?o:u,"function"===(void 0===o?"undefined":i(o))?o.call(l,{name:"requirementsLabel",hash:{},data:r}):o))+"</th>\r\n        <td>"+(null!=(o=null!=(o=n.requirements||(null!=t?t.requirements:t))?o:u,s="function"===(void 0===o?"undefined":i(o))?o.call(l,{name:"requirements",hash:{},data:r}):o)?s:"")+"</td>\r\n    </tr>\r\n"},6:function(e,t,n,a,r){var s,o,l=null!=t?t:e.nullContext||{},u=n.helperMissing;return'    <tr>\r\n        <th scope="row">'+e.escapeExpression((o=null!=(o=n.languagesLabel||(null!=t?t.languagesLabel:t))?o:u,"function"===(void 0===o?"undefined":i(o))?o.call(l,{name:"languagesLabel",hash:{},data:r}):o))+"</th>\r\n        <td>"+(null!=(o=null!=(o=n.languages||(null!=t?t.languages:t))?o:u,s="function"===(void 0===o?"undefined":i(o))?o.call(l,{name:"languages",hash:{},data:r}):o)?s:"")+"</td>\r\n    </tr>\r\n"},8:function(e,t,n,a,r){var s,o,l=null!=t?t:e.nullContext||{},u=n.helperMissing;return'    <tr>\r\n        <th scope="row">'+e.escapeExpression((o=null!=(o=n.openLabel||(null!=t?t.openLabel:t))?o:u,"function"===(void 0===o?"undefined":i(o))?o.call(l,{name:"openLabel",hash:{},data:r}):o))+"</th>\r\n        <td>"+(null!=(o=null!=(o=n.open||(null!=t?t.open:t))?o:u,s="function"===(void 0===o?"undefined":i(o))?o.call(l,{name:"open",hash:{},data:r}):o)?s:"")+"</td>\r\n    </tr>\r\n"},10:function(e,t,n,a,r){var s,o,l=null!=t?t:e.nullContext||{},u=n.helperMissing;return'    <tr>\r\n        <th scope="row">'+e.escapeExpression((o=null!=(o=n.closeLabel||(null!=t?t.closeLabel:t))?o:u,"function"===(void 0===o?"undefined":i(o))?o.call(l,{name:"closeLabel",hash:{},data:r}):o))+"</th>\r\n        <td>"+(null!=(o=null!=(o=n.close||(null!=t?t.close:t))?o:u,s="function"===(void 0===o?"undefined":i(o))?o.call(l,{name:"close",hash:{},data:r}):o)?s:"")+"</td>\r\n    </tr>\r\n"},12:function(e,t,n,a,r){var s,o=null!=t?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression;return'    <tr>\r\n        <th scope="row">'+u((s=null!=(s=n.startDateLabel||(null!=t?t.startDateLabel:t))?s:l,"function"===(void 0===s?"undefined":i(s))?s.call(o,{name:"startDateLabel",hash:{},data:r}):s))+"</th>\r\n        <td>"+u((s=null!=(s=n.startDate||(null!=t?t.startDate:t))?s:l,"function"===(void 0===s?"undefined":i(s))?s.call(o,{name:"startDate",hash:{},data:r}):s))+"</td>\r\n    </tr>\r\n"},14:function(e,t,n,i,a){var r,s,o=null!=t?t:e.nullContext||{};return'    <tr class="actions">\r\n        <th scope="row">'+e.escapeExpression((s=null!=(s=n.actionsLabel||(null!=t?t.actionsLabel:t))?s:n.helperMissing,"function"==typeof s?s.call(o,{name:"actionsLabel",hash:{},data:a}):s))+"</th>\r\n        <td>\r\n            <ul>\r\n"+(null!=(r=n.each.call(o,null!=t?t.actions:t,{name:"each",hash:{},fn:e.program(15,a,0),inverse:e.noop,data:a}))?r:"")+"            </ul>\r\n        </td>\r\n    </tr>\r\n"},15:function(e,t,n,a,r){var s,o=null!=t?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression;return'                    <li>\r\n                        <a href="'+u((s=null!=(s=n.actionUrl||(null!=t?t.actionUrl:t))?s:l,"function"===(void 0===s?"undefined":i(s))?s.call(o,{name:"actionUrl",hash:{},data:r}):s))+'" class="btn btn--primary">'+u((s=null!=(s=n.actionLabel||(null!=t?t.actionLabel:t))?s:l,"function"===(void 0===s?"undefined":i(s))?s.call(o,{name:"actionLabel",hash:{},data:r}):s))+"</a>\r\n                    </li>\r\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return null!=(r=n.each.call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?r:""},useData:!0}),Handlebars.registerPartial("Careers.programme-details-selected-item-template",Handlebars.templates["programme-details-selected-item-template"]),t["download-basket-document-template"]=e({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,r){var s,o=null!=t?t:e.nullContext||{},l=n.helperMissing,u="function",c=e.escapeExpression;return'<li class="download-basket-docs__doc" data-id="'+c((s=null!=(s=n.url||(null!=t?t.url:t))?s:l,(void 0===s?"undefined":i(s))===u?s.call(o,{name:"url",hash:{},data:r}):s))+'">\r\n    <div>\r\n        <a href="'+c((s=null!=(s=n.url||(null!=t?t.url:t))?s:l,(void 0===s?"undefined":i(s))===u?s.call(o,{name:"url",hash:{},data:r}):s))+'" aria-label="'+c((s=null!=(s=n.downloadText||(null!=t?t.downloadText:t))?s:l,(void 0===s?"undefined":i(s))===u?s.call(o,{name:"downloadText",hash:{},data:r}):s))+" "+c((s=null!=(s=n.title||(null!=t?t.title:t))?s:l,(void 0===s?"undefined":i(s))===u?s.call(o,{name:"title",hash:{},data:r}):s))+'">'+c((s=null!=(s=n.title||(null!=t?t.title:t))?s:l,(void 0===s?"undefined":i(s))===u?s.call(o,{name:"title",hash:{},data:r}):s))+"</a>\r\n        <p>"+c((s=null!=(s=n.description||(null!=t?t.description:t))?s:l,(void 0===s?"undefined":i(s))===u?s.call(o,{name:"description",hash:{},data:r}):s))+'</p>\r\n    </div>\r\n    <button class="download-basket-docs__doc__remove"><span class="hsbc-close" aria-hidden="true"></span><span class="sr-only">'+c((s=null!=(s=n.removeText||(null!=t?t.removeText:t))?s:l,(void 0===s?"undefined":i(s))===u?s.call(o,{name:"removeText",hash:{},data:r}):s))+"</span></button>\r\n</li>"},useData:!0}),Handlebars.registerPartial("Download.download-basket-document-template",Handlebars.templates["download-basket-document-template"]),t["download-basket-page-template"]=e({1:function(e,t,n,i,a){var r;return null!=(r=e.invokePartial(i["Download.download-basket-document-template"],t,{name:"Download.download-basket-document-template",data:a,indent:"            ",helpers:n,partials:i,decorators:e.decorators}))?r:""},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=null!=t?t:e.nullContext||{};return'<li class="download-basket-docs__page">\r\n'+(null!=(r=e.invokePartial(i["Page-Content.link-with-right-chevron-template"],t,{name:"Page-Content.link-with-right-chevron-template",hash:{email:!1},data:a,indent:"    ",helpers:n,partials:i,decorators:e.decorators}))?r:"")+'    <p class="download-basket-docs__page__doc-count">'+e.escapeExpression((s=null!=(s=n.documentsCount||(null!=t?t.documentsCount:t))?s:n.helperMissing,"function"==typeof s?s.call(o,{name:"documentsCount",hash:{},data:a}):s))+"</p>\r\n    <ul>\r\n"+(null!=(r=n.each.call(o,null!=t?t.documents:t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?r:"")+"    </ul>\r\n</li>"},usePartial:!0,useData:!0}),Handlebars.registerPartial("Download.download-basket-page-template",Handlebars.templates["download-basket-page-template"]),t["download-item-template"]=e({1:function(e,t,n,i,a){return"javascript:void(0)"},3:function(e,t,n,i,a){var r;return e.escapeExpression((r=null!=(r=n.src||(null!=t?t.src:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:e.nullContext||{},{name:"src",hash:{},data:a}):r))+"?download=1"},5:function(e,t,n,i,a){var r;return"onclick=\"javascript:alert('"+e.escapeExpression((r=null!=(r=n.src||(null!=t?t.src:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:e.nullContext||{},{name:"src",hash:{},data:a}):r))+'\')" data-type="embed"'},7:function(e,t,n,i,a){var r;return"Click for link to embed video: "+e.escapeExpression((r=null!=(r=n.parentTitle||(null!=t?t.parentTitle:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:e.nullContext||{},{name:"parentTitle",hash:{},data:a}):r))},9:function(e,t,n,a,r){var s,o,l=null!=t?t:e.nullContext||{},u=n.helperMissing,c=e.escapeExpression;return(null!=(s=n.if.call(l,null!=t?t.image:t,{name:"if",hash:{},fn:e.program(10,r,0),inverse:e.program(12,r,0),data:r}))?s:"")+(null!=(s=n.if.call(l,null!=t?t.parentTitle:t,{name:"if",hash:{},fn:e.program(15,r,0),inverse:e.noop,data:r}))?s:"")+"download "+c((o=null!=(o=n.title||(null!=t?t.title:t))?o:u,"function"===(void 0===o?"undefined":i(o))?o.call(l,{name:"title",hash:{},data:r}):o))+" ("+c((o=null!=(o=n.type||(null!=t?t.type:t))?o:u,"function"===(void 0===o?"undefined":i(o))?o.call(l,{name:"type",hash:{},data:r}):o))+" "+c((o=null!=(o=n.size||(null!=t?t.size:t))?o:u,"function"===(void 0===o?"undefined":i(o))?o.call(l,{name:"size",hash:{},data:r}):o))+")"},10:function(e,t,n,i,a){return"Image of "},12:function(e,t,n,i,a){var r;return null!=(r=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.video:t,{name:"if",hash:{},fn:e.program(13,a,0),inverse:e.noop,data:a}))?r:""},13:function(e,t,n,i,a){var r;return e.escapeExpression((r=null!=(r=n.title||(null!=t?t.title:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:a}):r))+" of "},15:function(e,t,n,i,a){var r;return e.escapeExpression((r=null!=(r=n.parentTitle||(null!=t?t.parentTitle:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:e.nullContext||{},{name:"parentTitle",hash:{},data:a}):r))+", "},17:function(e,t,n,a,r){var s,o=null!=t?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression;return'            <abbr title="'+u((s=null!=(s=n.titleAbbr||(null!=t?t.titleAbbr:t))?s:l,"function"===(void 0===s?"undefined":i(s))?s.call(o,{name:"titleAbbr",hash:{},data:r}):s))+'"><strong>'+u((s=null!=(s=n.title||(null!=t?t.title:t))?s:l,"function"===(void 0===s?"undefined":i(s))?s.call(o,{name:"title",hash:{},data:r}):s))+"</strong></abbr>\r\n"},19:function(e,t,n,i,a){var r;return"            <strong>"+e.escapeExpression((r=null!=(r=n.title||(null!=t?t.title:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:a}):r))+"</strong>\r\n"},21:function(e,t,n,i,a){var r,s,o=null!=t?t:e.nullContext||{};return'        <span class="download-item__type">\r\n'+(null!=(r=n.if.call(o,null!=t?t.typeAbbr:t,{name:"if",hash:{},fn:e.program(22,a,0),inverse:e.program(24,a,0),data:a}))?r:"")+"            "+e.escapeExpression((s=null!=(s=n.size||(null!=t?t.size:t))?s:n.helperMissing,"function"==typeof s?s.call(o,{name:"size",hash:{},data:a}):s))+")\r\n        </span>\r\n"},22:function(e,t,n,a,r){var s,o=null!=t?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression;return'                (<abbr title="'+u((s=null!=(s=n.typeAbbr||(null!=t?t.typeAbbr:t))?s:l,"function"===(void 0===s?"undefined":i(s))?s.call(o,{name:"typeAbbr",hash:{},data:r}):s))+'">'+u((s=null!=(s=n.type||(null!=t?t.type:t))?s:l,"function"===(void 0===s?"undefined":i(s))?s.call(o,{name:"type",hash:{},data:r}):s))+"</abbr>\r\n"},24:function(e,t,n,i,a){var r;return"                ("+e.escapeExpression((r=null!=(r=n.type||(null!=t?t.type:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:e.nullContext||{},{name:"type",hash:{},data:a}):r))+"\r\n"},26:function(e,t,n,i,a){return'        <span class="hsbc-code" aria-hidden="true"></span>\r\n'},28:function(e,t,n,i,a){return'        <span class="hsbc-download" aria-hidden="true"></span>\r\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=null!=t?t:e.nullContext||{};return'<a class="download-item" href="'+(null!=(r=n.if.call(s,null!=t?t.embed:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))?r:"")+'" '+(null!=(r=n.if.call(s,null!=t?t.embed:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))?r:"")+'>\r\n    <span class="sr-only">'+(null!=(r=n.if.call(s,null!=t?t.embed:t,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.program(9,a,0),data:a}))?r:"")+' (opens in new window)</span>\r\n    <div class="download-item__text" aria-hidden="true">\r\n'+(null!=(r=n.if.call(s,null!=t?t.titleAbbr:t,{name:"if",hash:{},fn:e.program(17,a,0),inverse:e.program(19,a,0),data:a}))?r:"")+(null!=(r=n.unless.call(s,null!=t?t.embed:t,{name:"unless",hash:{},fn:e.program(21,a,0),inverse:e.noop,data:a}))?r:"")+"    </div>\r\n\r\n"+(null!=(r=n.if.call(s,null!=t?t.embed:t,{name:"if",hash:{},fn:e.program(26,a,0),inverse:e.program(28,a,0),data:a}))?r:"")+"</a>\r\n"},useData:!0}),Handlebars.registerPartial("Media.download-item-template",Handlebars.templates["download-item-template"]),t["download-listing-template"]=e({1:function(e,t,n,i,a){var r;return e.escapeExpression((r=null!=(r=n.headingLevel||(null!=t?t.headingLevel:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:e.nullContext||{},{name:"headingLevel",hash:{},data:a}):r))},3:function(e,t,n,i,a){return"h5"},5:function(e,t,n,i,a){return""},7:function(e,t,n,i,a){var r,s,o=null!=t?t:e.nullContext||{};return'                <div class="download-listing__header__subtitle">\r\n                    <strong '+(null!=(r=n.if.call(o,null!=t?t.subtitleAria:t,{name:"if",hash:{},fn:e.program(8,a,0),inverse:e.noop,data:a}))?r:"")+">"+e.escapeExpression((s=null!=(s=n.subtitle||(null!=t?t.subtitle:t))?s:n.helperMissing,"function"==typeof s?s.call(o,{name:"subtitle",hash:{},data:a}):s))+"</strong>\r\n"+(null!=(r=n.if.call(o,null!=t?t.subtitleAria:t,{name:"if",hash:{},fn:e.program(10,a,0),inverse:e.noop,data:a}))?r:"")+"                </div>\r\n"},8:function(e,t,n,i,a){return'aria-hidden="true"'},10:function(e,t,n,i,a){var r;return'                        <span class="sr-only">'+e.escapeExpression((r=null!=(r=n.subtitleAria||(null!=t?t.subtitleAria:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:e.nullContext||{},{name:"subtitleAria",hash:{},data:a}):r))+"</span>\r\n"},12:function(e,t,n,i,a){var r,s,o=null!=t?t:e.nullContext||{};return'                <div class="download-listing__header__description"'+(null!=(r=n.if.call(o,null!=t?t.video:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))?r:"")+">"+e.escapeExpression((s=null!=(s=n.description||(null!=t?t.description:t))?s:n.helperMissing,"function"==typeof s?s.call(o,{name:"description",hash:{},data:a}):s))+"</div>\r\n"},14:function(e,t,n,i,a){var r,s=e.lambda,o=e.escapeExpression;return'            <img src="'+o(s(null!=(r=null!=t?t.downloadListingImage:t)?r.src:r,t))+'" alt="'+o(s(null!=(r=null!=t?t.downloadListingImage:t)?r.alt:r,t))+'" class="download-listing__image">\r\n'},16:function(e,t,n,i,a,r,s){var o;return"            <li>\r\n"+(null!=(o=e.invokePartial(i["Media.download-item-template"],t,{name:"Media.download-item-template",hash:{video:null!=s[1]?s[1].video:s[1],image:null!=s[1]?s[1].image:s[1],parentTitle:null!=s[1]?s[1].title:s[1]},data:a,indent:"                ",helpers:n,partials:i,decorators:e.decorators}))?o:"")+"            </li>\r\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a,r,s){var o,l,u=null!=t?t:e.nullContext||{};return'<div class="download-listing">\r\n        <div class="download-listing__header">\r\n            <h3 class="'+(null!=(o=n.if.call(u,null!=t?t.headingLevel:t,{name:"if",hash:{},fn:e.program(1,a,0,r,s),inverse:e.program(3,a,0,r,s),data:a}))?o:"")+'"'+(null!=(o=n.if.call(u,null!=t?t.video:t,{name:"if",hash:{},fn:e.program(5,a,0,r,s),inverse:e.noop,data:a}))?o:"")+">"+e.escapeExpression((l=null!=(l=n.title||(null!=t?t.title:t))?l:n.helperMissing,"function"==typeof l?l.call(u,{name:"title",hash:{},data:a}):l))+"</h3>\r\n"+(null!=(o=n.if.call(u,null!=t?t.subtitle:t,{name:"if",hash:{},fn:e.program(7,a,0,r,s),inverse:e.noop,data:a}))?o:"")+(null!=(o=n.if.call(u,null!=t?t.description:t,{name:"if",hash:{},fn:e.program(12,a,0,r,s),inverse:e.noop,data:a}))?o:"")+"        </div>\r\n"+(null!=(o=n.if.call(u,null!=t?t.downloadListingImage:t,{name:"if",hash:{},fn:e.program(14,a,0,r,s),inverse:e.noop,data:a}))?o:"")+'        <ul class="download-listing__items editorial-content__unordered-list editorial-content__unordered-list--non-bulleted">\r\n'+(null!=(o=n.each.call(u,null!=t?t.items:t,{name:"each",hash:{},fn:e.program(16,a,0,r,s),inverse:e.noop,data:a}))?o:"")+"        </ul>\r\n    </div>\r\n"},usePartial:!0,useData:!0,useDepths:!0}),Handlebars.registerPartial("Media.download-listing-template",Handlebars.templates["download-listing-template"]),t["image-viewer-download-item-template"]=e({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,r){var s,o=null!=t?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression;return'<a class="image-dl" href="'+u((s=null!=(s=n.src||(null!=t?t.src:t))?s:l,"function"===(void 0===s?"undefined":i(s))?s.call(o,{name:"src",hash:{},data:r}):s))+'?download=1"><span>'+u((s=null!=(s=n.title||(null!=t?t.title:t))?s:l,"function"===(void 0===s?"undefined":i(s))?s.call(o,{name:"title",hash:{},data:r}):s))+"</span> ("+u((s=null!=(s=n.type||(null!=t?t.type:t))?s:l,"function"===(void 0===s?"undefined":i(s))?s.call(o,{name:"type",hash:{},data:r}):s))+" "+u((s=null!=(s=n.size||(null!=t?t.size:t))?s:l,"function"===(void 0===s?"undefined":i(s))?s.call(o,{name:"size",hash:{},data:r}):s))+')<span class="hsbc-download" aria-hidden="true"></span></a>\r\n<span class="divider" aria-hidden="true">|</span>\r\n'},useData:!0}),Handlebars.registerPartial("Media.image-viewer-download-item-template",Handlebars.templates["image-viewer-download-item-template"]),t["image-viewer-item-template"]=e({1:function(e,t,n,i,a){var r;return'data-image-src="'+e.escapeExpression(e.lambda(null!=(r=null!=t?t.image:t)?r.src:r,t))+'"'},3:function(e,t,n,i,a){var r;return'src="'+e.escapeExpression(e.lambda(null!=(r=null!=t?t.image:t)?r.src:r,t))+'"'},5:function(e,t,n,i,a){var r;return null!=(r=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.items:t,{name:"each",hash:{},fn:e.program(6,a,0),inverse:e.noop,data:a}))?r:""},6:function(e,t,n,i,a){var r;return null!=(r=e.invokePartial(i["Media.image-viewer-download-item-template"],t,{name:"Media.image-viewer-download-item-template",data:a,indent:"                        ",helpers:n,partials:i,decorators:e.decorators}))?r:""},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,r){var s,o,l=null!=t?t:e.nullContext||{},u=e.escapeExpression,c=n.helperMissing;return'<button tabindex="0" class="close viewer-module__close"><span class="sr-only">Close this image viewer</span><span class="hsbc-close-circle" aria-hidden="true"></span></button>\r\n\r\n<div class="content" tabindex="-1">\r\n    <img tabindex="0" '+(null!=(s=n.if.call(l,null!=t?t.carousel:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),data:r}))?s:"")+' alt="'+u(e.lambda(null!=(s=null!=t?t.image:t)?s.alt:s,t))+'">\r\n    <div class="magnifier">\r\n        <span class="hsbc-zoom-in-edge" aria-hidden="true"></span>\r\n        <span class="hsbc-zoom-out-edge" aria-hidden="true"></span>\r\n    </div>\r\n</div>\r\n\r\n<button tabindex="0" class="image-info"><span class="sr-only">Show image information</span><span class="hsbc-info" aria-hidden="true"></span></button>\r\n\r\n<div class="details">\r\n    <div class="container-fluid">\r\n        <div class="col-md-12">\r\n            <span class="title">'+u((o=null!=(o=n.title||(null!=t?t.title:t))?o:c,"function"===(void 0===o?"undefined":i(o))?o.call(l,{name:"title",hash:{},data:r}):o))+'</span>\r\n            <p class="description">'+u((o=null!=(o=n.description||(null!=t?t.description:t))?o:c,"function"===(void 0===o?"undefined":i(o))?o.call(l,{name:"description",hash:{},data:r}):o))+'</p>\r\n            <span class="credits">'+u((o=null!=(o=n.credits||(null!=t?t.credits:t))?o:c,"function"===(void 0===o?"undefined":i(o))?o.call(l,{name:"credits",hash:{},data:r}):o))+'</span>\r\n        </div>\r\n    </div>\r\n    <div class="details__footer">\r\n        <div class="container-fluid">\r\n            <div class="links col-sm-12 col-md-12">\r\n'+(null!=(s=n.if.call(l,null!=t?t.items:t,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r}))?s:"")+'                <a href="" class="social-share"><span>Share</span><span class="hsbc-social-share"></span></a>\r\n                <div class="zoom-controls">\r\n                    <button class="zoom-in">Zoom in <span class="icon" aria-hidden="true"><svg viewport="0 0 22 22">\r\n                        <line x1="0" y1="11" x2="22" y2="11" stroke-width="2"></line>\r\n                        <line x1="11" y1="0" x2="11" y2="22" stroke-width="2"></line>\r\n                    </svg></span></button>\r\n                    <span class="divider" aria-hidden="true">|</span>\r\n                    <button class="zoom-out">Zoom out <span class="icon" aria-hidden="true"><svg viewport="0 0 22 22">\r\n                        <line x1="0" y1="11" x2="22" y2="11" stroke-width="2"></line>\r\n                    </svg></span></button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <button class="close details__close"><span class="sr-only">Close this image viewer</span><span class="hsbc-close" aria-hidden=""></span></button>\r\n</div>\r\n'},usePartial:!0,useData:!0}),Handlebars.registerPartial("Media.image-viewer-item-template",Handlebars.templates["image-viewer-item-template"]),t["image-viewer-social-share-template"]=e({1:function(e,t,n,a,r){var s,o,l=null!=t?t:e.nullContext||{},u=n.helperMissing,c="function",h=e.escapeExpression;return'            <li class="social-channels__item '+(null!=(s=n.if.call(l,null!=t?t.mobileOnly:t,{name:"if",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r}))?s:"")+'" '+(null!=(s=n.if.call(l,null!=t?t.openInNewWindow:t,{name:"if",hash:{},fn:e.program(4,r,0),inverse:e.noop,data:r}))?s:"")+'>\r\n                <a href="'+h((o=null!=(o=n.href||(null!=t?t.href:t))?o:u,(void 0===o?"undefined":i(o))===c?o.call(l,{name:"href",hash:{},data:r}):o))+'" class="social-channels__link" '+(null!=(s=n.if.call(l,null!=t?t.openInNewWindow:t,{name:"if",hash:{},fn:e.program(6,r,0),inverse:e.noop,data:r}))?s:"")+" "+(null!=(o=null!=(o=n.otherAttributes||(null!=t?t.otherAttributes:t))?o:u,s=(void 0===o?"undefined":i(o))===c?o.call(l,{name:"otherAttributes",hash:{},data:r}):o)?s:"")+'>\r\n                    <span class="'+h((o=null!=(o=n.icon||(null!=t?t.icon:t))?o:u,(void 0===o?"undefined":i(o))===c?o.call(l,{name:"icon",hash:{},data:r}):o))+'" aria-hidden="true"></span>\r\n                    <span class="social-channels__name" aria-hidden="true">'+h((o=null!=(o=n.displayText||(null!=t?t.displayText:t))?o:u,(void 0===o?"undefined":i(o))===c?o.call(l,{name:"displayText",hash:{},data:r}):o))+'</span>\r\n                    <span class="sr-only">'+h((o=null!=(o=n.alt||(null!=t?t.alt:t))?o:u,(void 0===o?"undefined":i(o))===c?o.call(l,{name:"alt",hash:{},data:r}):o))+"</span>\r\n"+(null!=(s=n.if.call(l,null!=t?t.openInNewWindow:t,{name:"if",hash:{},fn:e.program(8,r,0),inverse:e.noop,data:r}))?s:"")+"                </a>\r\n            </li>\r\n"},2:function(e,t,n,i,a){return"social-channels__item--mobile-only"},4:function(e,t,n,i,a){return'rel="external" target="_blank" '},6:function(e,t,n,i,a){return'target="_blank"'},8:function(e,t,n,i,a){var r;return'                        <span class="sr-only">'+e.escapeExpression((r=null!=(r=n.openInNewWindowText||(null!=t?t.openInNewWindowText:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:e.nullContext||{},{name:"openInNewWindowText",hash:{},data:a}):r))+"</span>\r\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return'<aside class="social-channels" aria-modal="true">\r\n    <div class="text-center">\r\n        <span class="social-channels__title">Share this image</span>\r\n    </div>\r\n    <hr>\r\n    <div class="col-sm-offset-5">\r\n        <ul class="social-channels__list">\r\n'+(null!=(r=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.channels:t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?r:"")+'        </ul>\r\n    </div>\r\n    <hr>\r\n    <div class="text-center">\r\n        <button class="social-channels__close" aria-label="Close Social modal">\r\n            <span class="sr-only">Close social share screen</span>\r\n            <span class="hsbc-close-circle" aria-hidden="true"></span>\r\n        </button>\r\n    </div>\r\n</aside>\r\n'},useData:!0}),Handlebars.registerPartial("Media.image-viewer-social-share-template",Handlebars.templates["image-viewer-social-share-template"]),t["image-viewer-template"]=e({1:function(e,t,n,i,a){var r;return'data-image-id="'+e.escapeExpression(e.lambda(null!=(r=null!=(r=null!=t?t.imageData:t)?r.image:r)?r.id:r,t))+'"'},3:function(e,t,n,i,a){var r;return'data-scale="'+e.escapeExpression(e.lambda(null!=(r=null!=t?t.imageData:t)?r.scale:r,t))+'"'},5:function(e,t,n,i,a){var r;return null!=(r=e.invokePartial(i["Media.image-viewer-item-template"],null!=t?t.imageData:t,{name:"Media.image-viewer-item-template",hash:{carousel:"true"},data:a,indent:"        ",helpers:n,partials:i,decorators:e.decorators}))?r:""},7:function(e,t,n,i,a){var r;return null!=(r=e.invokePartial(i["Media.image-viewer-item-template"],null!=t?t.imageData:t,{name:"Media.image-viewer-item-template",data:a,indent:"        ",helpers:n,partials:i,decorators:e.decorators}))?r:""},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=null!=t?t:e.nullContext||{};return'<div class="viewer-module" '+(null!=(r=n.if.call(s,null!=(r=null!=(r=null!=t?t.imageData:t)?r.image:r)?r.id:r,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?r:"")+" "+(null!=(r=n.if.call(s,null!=(r=null!=t?t.imageData:t)?r.scale:r,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))?r:"")+">\r\n"+(null!=(r=n.if.call(s,null!=t?t.carousel:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.program(7,a,0),data:a}))?r:"")+"\r\n"+(null!=(r=e.invokePartial(i["Media.image-viewer-social-share-template"],null!=t?t.sharingOptions:t,{name:"Media.image-viewer-social-share-template",data:a,indent:"    ",helpers:n,partials:i,decorators:e.decorators}))?r:"")+"</div>\r\n"},usePartial:!0,useData:!0}),Handlebars.registerPartial("Media.image-viewer-template",Handlebars.templates["image-viewer-template"]),t["image-viewer-with-related-template"]=e({1:function(e,t,n,i,a){var r;return null!=(r=e.invokePartial(i["Media.image-viewer-template"],t,{name:"Media.image-viewer-template",hash:{carousel:"true"},data:a,indent:"        ",helpers:n,partials:i,decorators:e.decorators}))?r:""},3:function(e,t,n,i,a){var r,s,o=null!=t?t:e.nullContext||{};return'    <div class="more-categories">\r\n        <button class="more-categories__back">\r\n            <span class="hsbc-back" aria-hidden="true"></span>\r\n            <span>Back <span class="hidden-xs">to: '+e.escapeExpression((s=null!=(s=n.category||(null!=t?t.category:t))?s:n.helperMissing,"function"==typeof s?s.call(o,{name:"category",hash:{},data:a}):s))+'</span></span>\r\n        </button>\r\n        <div class="container-fluid">\r\n            <div class="more-categories__heading">More categories</div>\r\n            <div class="row">\r\n'+(null!=(r=n.each.call(o,null!=t?t.categories:t,{name:"each",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a}))?r:"")+"            </div>\r\n        </div>\r\n    </div>\r\n"},4:function(e,t,n,a,r){var s,o,l=e.lambda,u=e.escapeExpression,c=null!=t?t:e.nullContext||{},h=n.helperMissing;return'                    <div class="col-sm-6 col-sm-offset-0 col-xs-10 col-xs-offset-1" data-category-first-image="'+u(l(null!=(s=null!=t?t.image:t)?s.id:s,t))+'">\r\n                        <img src="'+u(l(null!=(s=null!=t?t.image:t)?s.src:s,t))+'" alt="'+u(l(null!=(s=null!=t?t.image:t)?s.alt:s,t))+'">\r\n                        <div class="more-categories__title">'+u((o=null!=(o=n.title||(null!=t?t.title:t))?o:h,"function"===(void 0===o?"undefined":i(o))?o.call(c,{name:"title",hash:{},data:r}):o))+'</div>\r\n                        <div class="more-categories__description">'+u((o=null!=(o=n.description||(null!=t?t.description:t))?o:h,"function"===(void 0===o?"undefined":i(o))?o.call(c,{name:"description",hash:{},data:r}):o))+'</div>\r\n                        \x3c!-- Page-Content.link-with-right-chevron partial --\x3e\r\n                        <a href="'+u(l(null!=(s=null!=t?t.link:t)?s.href:s,t))+'" class="link-with-right-chevron"><span><span class="hsbc-right-chevron" aria-hidden="true"></span>'+u(l(null!=(s=null!=t?t.link:t)?s.text:s,t))+"</span></a>\r\n                    </div>\r\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s,o=null!=t?t:e.nullContext||{};return'<div class="viewer-carousel">\r\n    <button tabindex="0" class="close viewer-carousel__close"><span class="sr-only">Close this image viewer</span><span class="hsbc-close-circle" aria-hidden="true"></span></button>\r\n    \r\n    <a href="javascript:;" class="viewer-carousel__prev"><span class="sr-only">Previous item</span><span class="hsbc-carousel-left" aria-hidden="true"></span></a>\r\n\r\n'+(null!=(r=n.each.call(o,null!=t?t.images:t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?r:"")+'\r\n    <a href="javascript:;" class="viewer-carousel__next"><span class="sr-only">Next item</span><span class="hsbc-carousel-right" aria-hidden="true"></span></a>\r\n\r\n    <div class="category-indicator" role="status" aria-atomic="true">\r\n        <span class="category-name">'+e.escapeExpression((s=null!=(s=n.category||(null!=t?t.category:t))?s:n.helperMissing,"function"==typeof s?s.call(o,{name:"category",hash:{},data:a}):s))+':</span>\r\n        <span id="viewer-carousel-position">1</span> of <span id="viewer-carousel-total">1</span>\r\n    </div>\r\n\r\n'+(null!=(r=n.if.call(o,null!=t?t.categories:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))?r:"")+"</div>"},usePartial:!0,useData:!0}),Handlebars.registerPartial("Media.image-viewer-with-related-template",Handlebars.templates["image-viewer-with-related-template"]),t["media-gallery-asset-template"]=e({1:function(e,t,n,i,a){return' itemscope  itemtype="http://schema.org/VideoObject"'},3:function(e,t,n,i,a){var r;return null!=(r=e.invokePartial(i["Media.teaser-image-template"],null!=t?t.image:t,{name:"Media.teaser-image-template",data:a,indent:"        ",helpers:n,partials:i,decorators:e.decorators}))?r:""},5:function(e,t,n,i,a){var r;return null!=(r=e.invokePartial(i["Media.video-player-template"],t,{name:"Media.video-player-template",data:a,indent:"        ",helpers:n,partials:i,decorators:e.decorators}))?r:""},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=null!=t?t:e.nullContext||{};return'<div class="media-gallery-asset"'+(null!=(r=n.if.call(s,null!=t?t.video:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?r:"")+">\r\n"+(null!=(r=n.if.call(s,null!=t?t.image:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a}))?r:"")+(null!=(r=n.if.call(s,null!=t?t.video:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))?r:"")+(null!=(r=e.invokePartial(i["Media.download-listing-template"],t,{name:"Media.download-listing-template",data:a,indent:"    ",helpers:n,partials:i,decorators:e.decorators}))?r:"")+"</div>\r\n"},usePartial:!0,useData:!0}),Handlebars.registerPartial("Media.media-gallery-asset-template",Handlebars.templates["media-gallery-asset-template"]),t["media-gallery-category-listing-template"]=e({1:function(e,t,n,i,a){var r;return'            <div class="media-gallery-category-listing__item col-md-4 col-sm-4 col-xs-12">\r\n'+(null!=(r=e.invokePartial(i["Media.media-gallery-asset-template"],t,{name:"Media.media-gallery-asset-template",data:a,indent:"                ",helpers:n,partials:i,decorators:e.decorators}))?r:"")+"            </div>\r\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,r){var s,o,l=null!=t?t:e.nullContext||{},u=n.helperMissing,c="function",h=e.escapeExpression;return'<div\r\n    class="media-gallery-category-listing"\r\n    data-component="MediaGalleryCategoryListing"\r\n    data-itemscount="'+h((o=null!=(o=n.itemsCount||(null!=t?t.itemsCount:t))?o:u,(void 0===o?"undefined":i(o))===c?o.call(l,{name:"itemsCount",hash:{},data:r}):o))+'"\r\n>\r\n    <div class="container-fluid">\r\n        <div class="row">\r\n            <div class="media-gallery-category-listing__heading container-fluid">\r\n                <h2>'+h((o=null!=(o=n.title||(null!=t?t.title:t))?o:u,(void 0===o?"undefined":i(o))===c?o.call(l,{name:"title",hash:{},data:r}):o))+"</h2>\r\n                <span>"+h((o=null!=(o=n.itemsCount||(null!=t?t.itemsCount:t))?o:u,(void 0===o?"undefined":i(o))===c?o.call(l,{name:"itemsCount",hash:{},data:r}):o))+' items</span>\r\n            </div>\r\n        </div>\r\n        <div class="row" data-loadmore="container">\r\n'+(null!=(s=n.each.call(l,null!=t?t.items:t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?s:"")+'        </div>\r\n        <div class="container-fluid text-center">\r\n            <button class="btn media-gallery-category-listing__load-more" data-loadmore="button" data-key="'+h((o=null!=(o=n.key||(null!=t?t.key:t))?o:u,(void 0===o?"undefined":i(o))===c?o.call(l,{name:"key",hash:{},data:r}):o))+'">Load more <span class="sr-only">'+h((o=null!=(o=n.title||(null!=t?t.title:t))?o:u,(void 0===o?"undefined":i(o))===c?o.call(l,{name:"title",hash:{},data:r}):o))+" items</span></button>\r\n        </div>\r\n    </div>\r\n</div>\r\n"},usePartial:!0,useData:!0}),Handlebars.registerPartial("Media.media-gallery-category-listing-template",Handlebars.templates["media-gallery-category-listing-template"]),t["media-gallery-filtered-listing-template"]=e({1:function(e,t,n,i,a){var r;return'        <div class="media-gallery-category-listing__item col-md-4 col-sm-4 col-xs-12">\r\n'+(null!=(r=e.invokePartial(i["Media.media-gallery-asset-template"],t,{name:"Media.media-gallery-asset-template",data:a,indent:"          ",helpers:n,partials:i,decorators:e.decorators}))?r:"")+"        </div>\r\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r;return'<div class="media-gallery-category-listing media-gallery-category-listing--filtered">\r\n  <div class="container-fluid">\r\n    <div class="row" data-loadmore="container">\r\n'+(null!=(r=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.items:t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a}))?r:"")+"    </div>\r\n  </div>\r\n</div>\r\n"},usePartial:!0,useData:!0}),Handlebars.registerPartial("Media.media-gallery-filtered-listing-template",Handlebars.templates["media-gallery-filtered-listing-template"]),t["teaser-image-template"]=e({1:function(e,t,n,i,a){return'data-has-related="true"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,r){var s,o,l=null!=t?t:e.nullContext||{},u=n.helperMissing,c=e.escapeExpression;return'<div class="teaser-image">\r\n    <img src="'+c((o=null!=(o=n.src||(null!=t?t.src:t))?o:u,"function"===(void 0===o?"undefined":i(o))?o.call(l,{name:"src",hash:{},data:r}):o))+'" alt="'+c((o=null!=(o=n.alt||(null!=t?t.alt:t))?o:u,"function"===(void 0===o?"undefined":i(o))?o.call(l,{name:"alt",hash:{},data:r}):o))+'" class="img-responsive" data-image-id="'+c((o=null!=(o=n.id||(null!=t?t.id:t))?o:u,"function"===(void 0===o?"undefined":i(o))?o.call(l,{name:"id",hash:{},data:r}):o))+'" '+(null!=(s=n.if.call(l,null!=t?t["has-related"]:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?s:"")+' />\r\n    <div class="image-with-links__full-screen-button-container">\r\n        <button class="image-with-links__full-screen-button"><span class="sr-only">View full screen image</span></button>\r\n    </div>\r\n</div>\r\n'},useData:!0}),Handlebars.registerPartial("Media.teaser-image-template",Handlebars.templates["teaser-image-template"]),t["video-player-template"]=e({1:function(e,t,n,i,a){var r;return e.escapeExpression(e.lambda(null!=(r=null!=t?t.video:t)?r.player:r,t))},3:function(e,t,n,i,a){return"default"},5:function(e,t,n,i,a){return"YOUTUBE"},7:function(e,t,n,i,a){return"BRIGHTCOVE"},9:function(e,t,n,i,a){return"video-player--has-theatre-mode"},11:function(e,t,n,i,a){return"video-player--youtube"},13:function(e,t,n,i,a){return"video-player--brightcove"},15:function(e,t,n,i,a){return" video-player--has-mobile-poster "},17:function(e,t,n,i,a){var r,s,o=e.escapeExpression,l=null!=t?t:e.nullContext||{};return'        <iframe\r\n            class="video-yt content-with-aspect-ratio"\r\n            width="560"\r\n            height="315"\r\n            src="https://www.youtube.com/embed/'+o(e.lambda(null!=(r=null!=t?t.video:t)?r.id:r,t))+'?showinfo=0&rel=0&enablejsapi=1&modestbranding=1"\r\n            allowfullscreen\r\n            data-poster="'+o((s=null!=(s=n.poster||(null!=t?t.poster:t))?s:n.helperMissing,"function"==typeof s?s.call(l,{name:"poster",hash:{},data:a}):s))+'"\r\n            '+(null!=(r=n.if.call(l,null!=t?t.poster_mobile:t,{name:"if",hash:{},fn:e.program(18,a,0),inverse:e.noop,data:a}))?r:"")+"\r\n        ></iframe>\r\n"},18:function(e,t,n,i,a){var r;return' data-poster-mobile="'+e.escapeExpression((r=null!=(r=n.poster_mobile||(null!=t?t.poster_mobile:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:e.nullContext||{},{name:"poster_mobile",hash:{},data:a}):r))+'" '},20:function(e,t,n,i,a){var r,s=e.lambda,o=e.escapeExpression,l=null!=t?t:e.nullContext||{};return'        <video id="VID-'+o(s(null!=(r=null!=t?t.video:t)?r.id:r,t))+'"\r\n            controls\r\n            data-account="'+o(s(null!=(r=null!=t?t.video:t)?r.account:r,t))+'"\r\n            data-player="'+(null!=(r=n.if.call(l,null!=(r=null!=t?t.video:t)?r.player:r,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))?r:"")+'"\r\n            data-embed="default"\r\n            data-video-id="'+o(s(null!=(r=null!=t?t.video:t)?r.id:r,t))+'"\r\n            '+(null!=(r=n.if.call(l,null!=t?t.poster_mobile:t,{name:"if",hash:{},fn:e.program(18,a,0),inverse:e.noop,data:a}))?r:"")+'\r\n            class="video-js content-with-aspect-ratio"\r\n        >\r\n        </video>\r\n'},22:function(e,t,n,i,a){var r;return null!=(r=n.if.call(null!=t?t:e.nullContext||{},null!=(r=null!=t?t.video:t)?r.theatremode:r,{name:"if",hash:{},fn:e.program(23,a,0),inverse:e.noop,data:a}))?r:""},23:function(e,t,n,i,a){var r;return'        <button class="video-player__play-button video-player__play-button--yt-with-tm hsbc-video-play">\r\n            <span class="sr-only">Play video about '+e.escapeExpression((r=null!=(r=n.title||(null!=t?t.title:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:a}):r))+" in a new overlay</span>\r\n        </button>\r\n"},25:function(e,t,n,i,a){var r;return'        <button class="video-player__play-button hsbc-video-play">\r\n            <span class="sr-only">Play video about '+e.escapeExpression((r=null!=(r=n.title||(null!=t?t.title:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:a}):r))+" in a new overlay</span>\r\n        </button>\r\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,r){var s,o,l=null!=t?t:e.nullContext||{},u=n.helperMissing,c=e.escapeExpression,h=e.lambda;return'<div\r\n    data-component="VideoPlayer"\r\n    data-video-title="'+c((o=null!=(o=n.title||(null!=t?t.title:t))?o:u,"function"===(void 0===o?"undefined":i(o))?o.call(l,{name:"title",hash:{},data:r}):o))+'"\r\n    data-item-id="'+c((o=null!=(o=n.itemId||(null!=t?t.itemId:t))?o:u,"function"===(void 0===o?"undefined":i(o))?o.call(l,{name:"itemId",hash:{},data:r}):o))+'"\r\n    data-video-id="'+c(h(null!=(s=null!=t?t.video:t)?s.id:s,t))+'"\r\n    data-video-account="'+c(h(null!=(s=null!=t?t.video:t)?s.account:s,t))+'"\r\n    data-video-player="'+(null!=(s=n.if.call(l,null!=(s=null!=t?t.video:t)?s.player:s,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),data:r}))?s:"")+'"\r\n    data-video-type="'+(null!=(s=n.if.call(l,null!=(s=null!=t?t.video:t)?s.youtube:s,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.program(7,r,0),data:r}))?s:"")+'"\r\n    data-related-enabled="'+c((o=null!=(o=n.relatedEnabled||(null!=t?t.relatedEnabled:t))?o:u,"function"===(void 0===o?"undefined":i(o))?o.call(l,{name:"relatedEnabled",hash:{},data:r}):o))+'"\r\n    class="video-player '+(null!=(s=n.if.call(l,null!=(s=null!=t?t.video:t)?s.theatremode:s,{name:"if",hash:{},fn:e.program(9,r,0),inverse:e.noop,data:r}))?s:"")+" "+(null!=(s=n.if.call(l,null!=(s=null!=t?t.video:t)?s.youtube:s,{name:"if",hash:{},fn:e.program(11,r,0),inverse:e.program(13,r,0),data:r}))?s:"")+" "+(null!=(s=n.if.call(l,null!=t?t.poster_mobile:t,{name:"if",hash:{},fn:e.program(15,r,0),inverse:e.noop,data:r}))?s:"")+'"\r\n>\r\n'+(null!=(s=n.if.call(l,null!=(s=null!=t?t.video:t)?s.youtube:s,{name:"if",hash:{},fn:e.program(17,r,0),inverse:e.program(20,r,0),data:r}))?s:"")+"\r\n"+(null!=(s=n.if.call(l,null!=(s=null!=t?t.video:t)?s.youtube:s,{name:"if",hash:{},fn:e.program(22,r,0),inverse:e.program(25,r,0),data:r}))?s:"")+"</div>\r\n"},useData:!0}),Handlebars.registerPartial("Media.video-player-template",Handlebars.templates["video-player-template"]),t["glossary-link-template"]=e({1:function(e,t,n,i,a){var r;return"Click to discover the definition of "+e.escapeExpression((r=null!=(r=n.term||(null!=t?t.term:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:e.nullContext||{},{name:"term",hash:{},data:a}):r))},3:function(e,t,n,i,a){var r;return e.escapeExpression((r=null!=(r=n.ariaLabel||(null!=t?t.ariaLabel:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:e.nullContext||{},{name:"ariaLabel",hash:{},data:a}):r))},5:function(e,t,n,i,a){return' class="sr-only"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,r){var s,o,l=null!=t?t:e.nullContext||{},u=n.helperMissing,c=e.escapeExpression;return'<button data-component="Glossary" type="button" class="glossary-link" data-glossary="'+c((o=null!=(o=n.term||(null!=t?t.term:t))?o:u,"function"===(void 0===o?"undefined":i(o))?o.call(l,{name:"term",hash:{},data:r}):o))+'" data-definition="'+c((o=null!=(o=n.definition||(null!=t?t.definition:t))?o:u,"function"===(void 0===o?"undefined":i(o))?o.call(l,{name:"definition",hash:{},data:r}):o))+'" data-close-label="Close" tabindex="0" aria-label="'+(null!=(s=n.unless.call(l,null!=t?t.ariaLabel:t,{name:"unless",hash:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),data:r}))?s:"")+'" aria-expanded="false"><span'+(null!=(s=n.if.call(l,null!=t?t.hideTerm:t,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r}))?s:"")+">"+c((o=null!=(o=n.term||(null!=t?t.term:t))?o:u,"function"===(void 0===o?"undefined":i(o))?o.call(l,{name:"term",hash:{},data:r}):o))+"</span> "+(null!=(s=e.invokePartial(a.icon,t,{name:"icon",hash:{name:null!=t?t.info:t},data:r,helpers:n,partials:a,decorators:e.decorators}))?s:"")+"</button>\r\n"},usePartial:!0,useData:!0}),Handlebars.registerPartial("Page-Content.glossary-link-template",Handlebars.templates["glossary-link-template"]),t["link-with-right-chevron-template"]=e({1:function(e,t,n,i,a){var r;return e.escapeExpression((r=null!=(r=n.link||(null!=t?t.link:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:e.nullContext||{},{name:"link",hash:{},data:a}):r))},3:function(e,t,n,i,a){return"#"},5:function(e,t,n,i,a){var r,s,o=null!=t?t:e.nullContext||{};return' itemprop="'+e.escapeExpression((s=null!=(s=n.itemprop||(null!=t?t.itemprop:t))?s:n.helperMissing,"function"==typeof s?s.call(o,{name:"itemprop",hash:{},data:a}):s))+'" content="'+(null!=(r=n.if.call(o,null!=t?t.text:t,{name:"if",hash:{},fn:e.program(6,a,0),inverse:e.program(8,a,0),data:a}))?r:"")+'"'},6:function(e,t,n,i,a){var r;return e.escapeExpression((r=null!=(r=n.text||(null!=t?t.text:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:e.nullContext||{},{name:"text",hash:{},data:a}):r))},8:function(e,t,n,i,a){return"In page link"},10:function(e,t,n,i,a){var r;return"Send email to "+e.escapeExpression((r=null!=(r=n.text||(null!=t?t.text:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:e.nullContext||{},{name:"text",hash:{},data:a}):r))+", opens in a new window"},12:function(e,t,n,i,a){var r;return"Explore "+e.escapeExpression((r=null!=(r=n.text||(null!=t?t.text:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:e.nullContext||{},{name:"text",hash:{},data:a}):r))},14:function(e,t,n,i,a){var r;return'<i class="icon hsbci hsbc-'+e.escapeExpression((r=null!=(r=n.icon||(null!=t?t.icon:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:e.nullContext||{},{name:"icon",hash:{},data:a}):r))+'" aria-hidden="true"></i>'},compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){var r,s=null!=t?t:e.nullContext||{};return'<a href="'+(null!=(r=n.if.call(s,null!=t?t.link:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a}))?r:"")+'"'+(null!=(r=n.if.call(s,null!=t?t.itemprop:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a}))?r:"")+' class="link-with-right-chevron" aria-label="'+(null!=(r=n.if.call(s,null!=t?t.email:t,{name:"if",hash:{},fn:e.program(10,a,0),inverse:e.program(12,a,0),data:a}))?r:"")+'">\r\n    <span>\r\n        <span class="hsbc-right-chevron" aria-hidden="true"></span>'+(null!=(r=n.if.call(s,null!=t?t.text:t,{name:"if",hash:{},fn:e.program(6,a,0),inverse:e.program(8,a,0),data:a}))?r:"")+(null!=(r=n.if.call(s,null!=t?t.icon:t,{name:"if",hash:{},fn:e.program(14,a,0),inverse:e.noop,data:a}))?r:"")+"\r\n    </span>\r\n</a>\r\n"},useData:!0}),Handlebars.registerPartial("Page-Content.link-with-right-chevron-template",Handlebars.templates["link-with-right-chevron-template"]),t["search-results-item-template"]=e({1:function(e,t,n,i,a){var r;return'<span class="tag">'+e.escapeExpression((r=null!=(r=n.fileExtension||(null!=t?t.fileExtension:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:e.nullContext||{},{name:"fileExtension",hash:{},data:a}):r))+"</span>"},3:function(e,t,n,i,a){var r;return"<span>"+e.escapeExpression((r=null!=(r=n.contentInfo||(null!=t?t.contentInfo:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:e.nullContext||{},{name:"contentInfo",hash:{},data:a}):r))+"</span>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,r){var s,o,l=null!=t?t:e.nullContext||{},u=n.helperMissing,c="function",h=e.escapeExpression;return'<div class="search-result col-xs-12 col-md-9">\r\n    <div class="search-result__title">\r\n        '+(null!=(s=n.if.call(l,null!=t?t.fileExtension:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?s:"")+'\r\n        <h2><a href="'+h((o=null!=(o=n.src||(null!=t?t.src:t))?o:u,(void 0===o?"undefined":i(o))===c?o.call(l,{name:"src",hash:{},data:r}):o))+'" target="_blank">'+(null!=(o=null!=(o=n.title||(null!=t?t.title:t))?o:u,s=(void 0===o?"undefined":i(o))===c?o.call(l,{name:"title",hash:{},data:r}):o)?s:"")+'<span class="sr-only"> (opens in new window)</span></a></h2>\r\n    </div>\r\n    <div class="search-result__body">\r\n        '+(null!=(s=n.if.call(l,null!=t?t.contentInfo:t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))?s:"")+"\r\n        <p>\r\n            "+(null!=(o=null!=(o=n.snippet||(null!=t?t.snippet:t))?o:u,s=(void 0===o?"undefined":i(o))===c?o.call(l,{name:"snippet",hash:{},data:r}):o)?s:"")+'\r\n        </p>\r\n        <a href="'+h((o=null!=(o=n.src||(null!=t?t.src:t))?o:u,(void 0===o?"undefined":i(o))===c?o.call(l,{name:"src",hash:{},data:r}):o))+'" target="_blank">'+h((o=null!=(o=n.src||(null!=t?t.src:t))?o:u,(void 0===o?"undefined":i(o))===c?o.call(l,{name:"src",hash:{},data:r}):o))+'<span class="sr-only"> (opens in new window)</span></a>\r\n    </div>\r\n</div>\r\n'},useData:!0}),Handlebars.registerPartial("Site-Search.search-results-item-template",Handlebars.templates["search-results-item-template"]),t["filter-year-list-item-template"]=e({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,r){var s,o=null!=t?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression;return'<li>\r\n    <span tabindex="0" data-year-value="'+u((s=null!=(s=n.title||(null!=t?t.title:t))?s:l,"function"===(void 0===s?"undefined":i(s))?s.call(o,{name:"title",hash:{},data:r}):s))+'">'+u((s=null!=(s=n.title||(null!=t?t.title:t))?s:l,"function"===(void 0===s?"undefined":i(s))?s.call(o,{name:"title",hash:{},data:r}):s))+'</span>\r\n    <button class="filter-year-list__remove"><span class="hsbc-close" aria-hidden="true"></span><span class="sr-only">'+u((s=null!=(s=n.ariaLabel||(null!=t?t.ariaLabel:t))?s:l,"function"===(void 0===s?"undefined":i(s))?s.call(o,{name:"ariaLabel",hash:{},data:r}):s))+"</span></button>\r\n</li>"},useData:!0}),Handlebars.registerPartial("Filters.filter-year-list-item-template",Handlebars.templates["filter-year-list-item-template"]),t["location-list-item-template"]=e({1:function(e,t,n,i,a){var r;return'data-name="'+e.escapeExpression((r=null!=(r=n.name||(null!=t?t.name:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:e.nullContext||{},{name:"name",hash:{},data:a}):r))+'"'},3:function(e,t,n,i,a){var r;return'data-url="'+e.escapeExpression((r=null!=(r=n.action||(null!=t?t.action:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:e.nullContext||{},{name:"action",hash:{},data:a}):r))+'"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,r){var s,o,l=null!=t?t:e.nullContext||{},u=n.helperMissing,c=e.escapeExpression;return'<li>\r\n    <a href="javascript:void(0)" data-id="'+c((o=null!=(o=n.id||(null!=t?t.id:t))?o:u,"function"===(void 0===o?"undefined":i(o))?o.call(l,{name:"id",hash:{},data:r}):o))+'" tabindex="-1" role="listitem" '+(null!=(s=n.if.call(l,null!=t?t.name:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?s:"")+" "+(null!=(s=n.if.call(l,null!=t?t.action:t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))?s:"")+">"+c((o=null!=(o=n.title||(null!=t?t.title:t))?o:u,"function"===(void 0===o?"undefined":i(o))?o.call(l,{name:"title",hash:{},data:r}):o))+"</a>\r\n</li>\r\n"},useData:!0}),Handlebars.registerPartial("Location-Selector.location-list-item-template",Handlebars.templates["location-list-item-template"]),t["selector-label-template"]=e({compiler:[7,">= 4.0.0"],main:function(e,t,n,a,r){var s,o=null!=t?t:e.nullContext||{},l=n.helperMissing,u=e.escapeExpression;return'<label id="'+u((s=null!=(s=n.id||(null!=t?t.id:t))?s:l,"function"===(void 0===s?"undefined":i(s))?s.call(o,{name:"id",hash:{},data:r}):s))+'" class="sr-only" tabindex="-1" aria-hidden="true">'+u((s=null!=(s=n.text||(null!=t?t.text:t))?s:l,"function"===(void 0===s?"undefined":i(s))?s.call(o,{name:"text",hash:{},data:r}):s))+"</label>"},useData:!0}),Handlebars.registerPartial("Location-Selector.selector-label-template",Handlebars.templates["selector-label-template"]),t["popup-notification-template"]=e({1:function(e,t,n,i,a){return" popup-notification--enabled"},3:function(e,t,n,i,a){var r;return" "+e.escapeExpression((r=null!=(r=n.popupClass||(null!=t?t.popupClass:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:e.nullContext||{},{name:"popupClass",hash:{},data:a}):r))},5:function(e,t,n,i,a){var r;return'    <div class="popup-notification__checkboxes">\r\n'+(null!=(r=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.checkboxes:t,{name:"each",hash:{},fn:e.program(6,a,0),inverse:e.noop,data:a}))?r:"")+"    </div>\r\n"},6:function(e,t,n,i,a){var r;return'        <div class="popup-notification__checkbox">\r\n'+(null!=(r=e.invokePartial(i["Theming.styled-checkbox-template"],t,{name:"Theming.styled-checkbox-template",data:a,indent:"            ",helpers:n,partials:i,decorators:e.decorators}))?r:"")+"        </div>\r\n"},8:function(e,t,n,i,a){var r,s,o=null!=t?t:e.nullContext||{};return'    <div class="popup-notification__buttons'+(null!=(r=n.unless.call(o,null!=t?t.ctaNegativeLabel:t,{name:"unless",hash:{},fn:e.program(9,a,0),inverse:e.noop,data:a}))?r:"")+'">\r\n'+(null!=(r=n.if.call(o,null!=t?t.ctaNegativeLabel:t,{name:"if",hash:{},fn:e.program(11,a,0),inverse:e.noop,data:a}))?r:"")+'        <button class="popup-notification__button popup-notification__button--positive">'+(null!=(s=null!=(s=n.ctaPositiveLabel||(null!=t?t.ctaPositiveLabel:t))?s:n.helperMissing,r="function"==typeof s?s.call(o,{name:"ctaPositiveLabel",hash:{},data:a}):s)?r:"")+"</button>\r\n    </div>\r\n"},9:function(e,t,n,i,a){return" popup-notification__buttons--single-button"},11:function(e,t,n,i,a){var r,s;return'        <button class="popup-notification__button popup-notification__button--negative">'+(null!=(s=null!=(s=n.ctaNegativeLabel||(null!=t?t.ctaNegativeLabel:t))?s:n.helperMissing,r="function"==typeof s?s.call(null!=t?t:e.nullContext||{},{name:"ctaNegativeLabel",hash:{},data:a}):s)?r:"")+"</button>\r\n"},13:function(e,t,n,i,a){var r;return'    <div tabindex="0" class="popup-notification__disclaimer">\r\n        '+e.escapeExpression((r=null!=(r=n.disclaimer||(null!=t?t.disclaimer:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:e.nullContext||{},{name:"disclaimer",hash:{},data:a}):r))+"\r\n    </div>\r\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,r){var s,o,l=null!=t?t:e.nullContext||{},u=n.helperMissing,c="function",h=e.escapeExpression;return'<div class="popup-notification'+(null!=(s=n.if.call(l,null!=t?t.enabled:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?s:"")+(null!=(s=n.if.call(l,null!=t?t.popupClass:t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))?s:"")+'">\r\n    <div class="popup-notification__header">\r\n        <h3 tabindex="0" class="popup-notification__title" id="'+h((o=null!=(o=n.id||(null!=t?t.id:t))?o:u,(void 0===o?"undefined":i(o))===c?o.call(l,{name:"id",hash:{},data:r}):o))+'-label">'+(null!=(o=null!=(o=n.title||(null!=t?t.title:t))?o:u,s=(void 0===o?"undefined":i(o))===c?o.call(l,{name:"title",hash:{},data:r}):o)?s:"")+'</h3>\r\n        <button class="popup-notification__close">\r\n            <span class="hsbc-close"></span>\r\n            <span class="sr-only">'+h((o=null!=(o=n.closeLabel||(null!=t?t.closeLabel:t))?o:u,(void 0===o?"undefined":i(o))===c?o.call(l,{name:"closeLabel",hash:{},data:r}):o))+'</span>\r\n        </button>\r\n    </div>\r\n    <div tabindex="0" class="popup-notification__description" id="'+h((o=null!=(o=n.id||(null!=t?t.id:t))?o:u,(void 0===o?"undefined":i(o))===c?o.call(l,{name:"id",hash:{},data:r}):o))+'-describe">\r\n        '+(null!=(o=null!=(o=n.description||(null!=t?t.description:t))?o:u,s=(void 0===o?"undefined":i(o))===c?o.call(l,{name:"description",hash:{},data:r}):o)?s:"")+"\r\n    </div>\r\n"+(null!=(s=n.if.call(l,null!=t?t.checkboxes:t,{name:"if",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r}))?s:"")+(null!=(s=n.if.call(l,null!=t?t.ctaPositiveLabel:t,{name:"if",hash:{},fn:e.program(8,r,0),inverse:e.noop,data:r}))?s:"")+(null!=(s=n.if.call(l,null!=t?t.disclaimer:t,{name:"if",hash:{},fn:e.program(13,r,0),inverse:e.noop,data:r}))?s:"")+"</div>\r\n"},usePartial:!0,useData:!0}),Handlebars.registerPartial("Notification.popup-notification-template",Handlebars.templates["popup-notification-template"]),t["pagination-template"]=e({1:function(e,t,n,i,a){return" pagination__page-link--disabled"},3:function(e,t,n,i,a){return' tabindex="-1"'},5:function(e,t,n,i,a){var r;return'<span class="sr-only">'+e.escapeExpression((r=null!=(r=n.previousLabel||(null!=t?t.previousLabel:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:e.nullContext||{},{name:"previousLabel",hash:{},data:a}):r))+"</span>"},7:function(e,t,n,a,r){var s,o,l=null!=t?t:e.nullContext||{},u=n.helperMissing,c=e.escapeExpression;return'                                <li><a href="javascript:void(0)" '+(null!=(s=n.if.call(l,null!=t?t.active:t,{name:"if",hash:{},fn:e.program(8,r,0),inverse:e.noop,data:r}))?s:"")+' aria-label="'+c((o=null!=(o=n.aria||(null!=t?t.aria:t))?o:u,"function"===(void 0===o?"undefined":i(o))?o.call(l,{name:"aria",hash:{},data:r}):o))+'">'+c((o=null!=(o=n.text||(null!=t?t.text:t))?o:u,"function"===(void 0===o?"undefined":i(o))?o.call(l,{name:"text",hash:{},data:r}):o))+"</a></li>\r\n"},8:function(e,t,n,i,a){return'class="pagination__dropdown--active"'},10:function(e,t,n,i,a){var r;return'<span class="sr-only">'+e.escapeExpression((r=null!=(r=n.nextLabel||(null!=t?t.nextLabel:t))?r:n.helperMissing,"function"==typeof r?r.call(null!=t?t:e.nullContext||{},{name:"nextLabel",hash:{},data:a}):r))+"</span>"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,r){var s,o,l=null!=t?t:e.nullContext||{},u=n.helperMissing,c="function",h=e.escapeExpression;return'<div class="pagination-module" data-component="PaginationOverlapping">\r\n    <div class="container-fluid">\r\n        <div class="row">\r\n            <div class="col-sm-12">\r\n                <ul class="pagination__list-of-items">\r\n                    <li>\r\n                        <a href="javascript:void(0)" class="pagination__previous hidden-xs'+(null!=(s=n.if.call(l,null!=t?t.previousDisabled:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?s:"")+'"'+(null!=(s=n.if.call(l,null!=t?t.previousDisabled:t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))?s:"")+'>\r\n                            <span class="hsbc-carousel-left" aria-hidden="true"></span>\r\n                            '+(null!=(s=n.unless.call(l,null!=t?t.previousDisabled:t,{name:"unless",hash:{},fn:e.program(5,r,0),inverse:e.noop,data:r}))?s:"")+'\r\n                        </a>\r\n                    </li>\r\n                    <li class="pagination__numbers-of-items hidden-xs" aria-label="'+h((o=null!=(o=n.numberOfItemsAria||(null!=t?t.numberOfItemsAria:t))?o:u,(void 0===o?"undefined":i(o))===c?o.call(l,{name:"numberOfItemsAria",hash:{},data:r}):o))+'">'+h((o=null!=(o=n.numberOfItems||(null!=t?t.numberOfItems:t))?o:u,(void 0===o?"undefined":i(o))===c?o.call(l,{name:"numberOfItems",hash:{},data:r}):o))+'</li>\r\n                    <li class="pagination__view" aria-hidden="true">'+h((o=null!=(o=n.viewLabel||(null!=t?t.viewLabel:t))?o:u,(void 0===o?"undefined":i(o))===c?o.call(l,{name:"viewLabel",hash:{},data:r}):o))+'</li>\r\n                    <li>\r\n                        <div class="pagination__menu dropdown">\r\n                            <button class="btn dropdown-toggle pagination__menu__views-per-page-button" type="button" id="pagination__menu__button" data-toggle="dropdown" aria-expanded="false" aria-label="'+h((o=null!=(o=n.perPageSelectedAria||(null!=t?t.perPageSelectedAria:t))?o:u,(void 0===o?"undefined":i(o))===c?o.call(l,{name:"perPageSelectedAria",hash:{},data:r}):o))+'">\r\n                                <span class="pagination__itemsPerPage">'+h((o=null!=(o=n.take||(null!=t?t.take:t))?o:u,(void 0===o?"undefined":i(o))===c?o.call(l,{name:"take",hash:{},data:r}):o))+'</span>\r\n                                <span class="dropdown__chevron hsbc-right-chevron"></span>\r\n                            </button>\r\n                            <ul class="pagination__numbers dropdown-menu" aria-labelledby="pagination__menu__button">\r\n'+(null!=(s=n.each.call(l,null!=t?t.itemsPerPage:t,{name:"each",hash:{},fn:e.program(7,r,0),inverse:e.noop,data:r}))?s:"")+'                            </ul>\r\n                        </div>\r\n                    </li>\r\n                    <li class="pagination__per-page" aria-hidden="true">'+h((o=null!=(o=n.perPageLabel||(null!=t?t.perPageLabel:t))?o:u,(void 0===o?"undefined":i(o))===c?o.call(l,{name:"perPageLabel",hash:{},data:r}):o))+'</li>\r\n                    <li>\r\n                        <a href="javascript:void(0)" class="pagination__next hidden-xs'+(null!=(s=n.if.call(l,null!=t?t.nextDisabled:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?s:"")+'"'+(null!=(s=n.if.call(l,null!=t?t.nextDisabled:t,{name:"if",hash:{},fn:e.program(3,r,0),inverse:e.noop,data:r}))?s:"")+'>\r\n                            <span class="hsbc-carousel-right"></span>\r\n                        '+(null!=(s=n.unless.call(l,null!=t?t.nextDisabled:t,{name:"unless",hash:{},fn:e.program(10,r,0),inverse:e.noop,data:r}))?s:"")+'\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n                <ul class="pagination__list-of-items mobile">\r\n                    <li>\r\n                        <a href="javascript:void(0)" class="pagination__previous'+(null!=(s=n.if.call(l,null!=t?t.previousDisabled:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?s:"")+'" aria-label="'+h((o=null!=(o=n.previousLabel||(null!=t?t.previousLabel:t))?o:u,(void 0===o?"undefined":i(o))===c?o.call(l,{name:"previousLabel",hash:{},data:r}):o))+'">\r\n                            <span class="hsbc-carousel-left"></span>\r\n                        </a>\r\n                    </li>\r\n                    <li class="pagination__numbers-of-items" aria-label="'+h((o=null!=(o=n.numberOfItemsAria||(null!=t?t.numberOfItemsAria:t))?o:u,(void 0===o?"undefined":i(o))===c?o.call(l,{name:"numberOfItemsAria",hash:{},data:r}):o))+'">'+h((o=null!=(o=n.numberOfItems||(null!=t?t.numberOfItems:t))?o:u,(void 0===o?"undefined":i(o))===c?o.call(l,{name:"numberOfItems",hash:{},data:r}):o))+'</li>\r\n                    <li>\r\n                        <a href="javascript:void(0)" class="pagination__next'+(null!=(s=n.if.call(l,null!=t?t.nextDisabled:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?s:"")+'" aria-label="'+h((o=null!=(o=n.nextLabel||(null!=t?t.nextLabel:t))?o:u,(void 0===o?"undefined":i(o))===c?o.call(l,{name:"nextLabel",hash:{},data:r}):o))+'">\r\n                            <span class="hsbc-carousel-right"></span>\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},useData:!0}),Handlebars.registerPartial("Pagination.pagination-template",Handlebars.templates["pagination-template"]),t["loader-template"]=e({compiler:[7,">= 4.0.0"],main:function(e,t,n,i,a){return'<div class="loader">\r\n    <div class="loader__circle">\r\n        <svg viewport="0 0 24 24">\r\n            <circle cx="12" cy="12" r="11" fill="none" stroke="white" stroke-width="2px" />\r\n        </svg>\r\n    </div>\r\n</div>'},useData:!0}),Handlebars.registerPartial("Theming.loader-template",Handlebars.templates["loader-template"]),t["styled-checkbox-template"]=e({1:function(e,t,n,i,a){return"styled-checkbox__validation-error--enabled"},compiler:[7,">= 4.0.0"],main:function(e,t,n,a,r){var s,o,l=null!=t?t:e.nullContext||{},u=n.helperMissing;return'<label class="styled-checkbox">\r\n    <span class="styled-checkbox__item">\r\n        <input class="styled-checkbox__input" type="checkbox" />\r\n        <span class="styled-checkbox__tick"></span>\r\n        <div class="styled-checkbox__label">'+(null!=(o=null!=(o=n.label||(null!=t?t.label:t))?o:u,s="function"===(void 0===o?"undefined":i(o))?o.call(l,{name:"label",hash:{},data:r}):o)?s:"")+'</div>\r\n    </span>\r\n    <span role="alert" class="styled-checkbox__validation-error '+(null!=(s=n.if.call(l,null!=t?t.errorEnabled:t,{name:"if",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r}))?s:"")+'">\r\n        <span class="styled-checkbox__validation-error__icon hsbc-warning"></span>\r\n        <span class="styled-checkbox__validation-error__description">'+e.escapeExpression((o=null!=(o=n.error||(null!=t?t.error:t))?o:u,"function"===(void 0===o?"undefined":i(o))?o.call(l,{name:"error",hash:{},data:r}):o))+"</span>\r\n    </span>\r\n</label>"},useData:!0}),Handlebars.registerPartial("Theming.styled-checkbox-template",Handlebars.templates["styled-checkbox-template"])}()},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={exports:{},id:i,loaded:!1};return e[i].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function i(){var e=g();return e.compile=function(t,n){return c.compile(t,n,e)},e.precompile=function(t,n){return c.precompile(t,n,e)},e.AST=l.default,e.Compiler=c.Compiler,e.JavaScriptCompiler=d.default,e.Parser=u.parser,e.parse=u.parse,e}var a=n(1).default;t.__esModule=!0;var r=n(2),s=a(r),o=n(35),l=a(o),u=n(36),c=n(41),h=n(42),d=a(h),f=n(39),p=a(f),v=n(34),m=a(v),g=s.default.create,y=i();y.create=i,m.default(y),y.Visitor=p.default,y.default=y,t.default=y,e.exports=t.default},function(e,t){"use strict";t.default=function(e){return e&&e.__esModule?e:{default:e}},t.__esModule=!0},function(e,t,n){"use strict";function i(){var e=new o.HandlebarsEnvironment;return f.extend(e,o),e.SafeString=u.default,e.Exception=h.default,e.Utils=f,e.escapeExpression=f.escapeExpression,e.VM=v,e.template=function(t){return v.template(t,e)},e}var a=n(3).default,r=n(1).default;t.__esModule=!0;var s=n(4),o=a(s),l=n(21),u=r(l),c=n(6),h=r(c),d=n(5),f=a(d),p=n(22),v=a(p),m=n(34),g=r(m),y=i();y.create=i,g.default(y),y.default=y,t.default=y,e.exports=t.default},function(e,t){"use strict";t.default=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},t.__esModule=!0},function(e,t,n){"use strict";function i(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},l.registerDefaultHelpers(this),u.registerDefaultDecorators(this)}var a=n(1).default;t.__esModule=!0,t.HandlebarsEnvironment=i;var r=n(5),s=n(6),o=a(s),l=n(10),u=n(18),c=n(20),h=a(c);t.VERSION="4.0.10";t.COMPILER_REVISION=7;var d={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};t.REVISION_CHANGES=d;i.prototype={constructor:i,logger:h.default,log:h.default.log,registerHelper:function(e,t){if("[object Object]"===r.toString.call(e)){if(t)throw new o.default("Arg not supported with multiple helpers");r.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if("[object Object]"===r.toString.call(e))r.extend(this.partials,e);else{if(void 0===t)throw new o.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if("[object Object]"===r.toString.call(e)){if(t)throw new o.default("Arg not supported with multiple decorators");r.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};var f=h.default.log;t.log=f,t.createFrame=r.createFrame,t.logger=h.default},function(e,t){"use strict";function n(e){return c[e]}function i(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function a(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}function r(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return d.test(e)?e.replace(h,n):e}function s(e){return!e&&0!==e||!(!v(e)||0!==e.length)}function o(e){var t=i({},e);return t._parent=e,t}function l(e,t){return e.path=t,e}function u(e,t){return(e?e+".":"")+t}t.__esModule=!0,t.extend=i,t.indexOf=a,t.escapeExpression=r,t.isEmpty=s,t.createFrame=o,t.blockParams=l,t.appendContextPath=u;var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},h=/[&<>"'`=]/g,d=/[&<>"'`=]/,f=Object.prototype.toString;t.toString=f;var p=function(e){return"function"==typeof e};p(/x/)&&(t.isFunction=p=function(e){return"function"==typeof e&&"[object Function]"===f.call(e)}),t.isFunction=p;var v=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===f.call(e)};t.isArray=v},function(e,t,n){"use strict";function i(e,t){var n=t&&t.loc,s=void 0,o=void 0;n&&(s=n.start.line,o=n.start.column,e+=" - "+s+":"+o);for(var l=Error.prototype.constructor.call(this,e),u=0;u<r.length;u++)this[r[u]]=l[r[u]];Error.captureStackTrace&&Error.captureStackTrace(this,i);try{n&&(this.lineNumber=s,a?Object.defineProperty(this,"column",{value:o,enumerable:!0}):this.column=o)}catch(e){}}var a=n(7).default;t.__esModule=!0;var r=["description","fileName","lineNumber","message","name","number","stack"];i.prototype=new Error,t.default=i,e.exports=t.default},function(e,t,n){e.exports={default:n(8),__esModule:!0}},function(e,t,n){var i=n(9);e.exports=function(e,t,n){return i.setDesc(e,t,n)}},function(e,t){var n=Object;e.exports={create:n.create,getProto:n.getPrototypeOf,isEnum:{}.propertyIsEnumerable,getDesc:n.getOwnPropertyDescriptor,setDesc:n.defineProperty,setDescs:n.defineProperties,getKeys:n.keys,getNames:n.getOwnPropertyNames,getSymbols:n.getOwnPropertySymbols,each:[].forEach}},function(e,t,n){"use strict";function i(e){s.default(e),l.default(e),c.default(e),d.default(e),p.default(e),m.default(e),y.default(e)}var a=n(1).default;t.__esModule=!0,t.registerDefaultHelpers=i;var r=n(11),s=a(r),o=n(12),l=a(o),u=n(13),c=a(u),h=n(14),d=a(h),f=n(15),p=a(f),v=n(16),m=a(v),g=n(17),y=a(g)},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5);t.default=function(e){e.registerHelper("blockHelperMissing",function(t,n){var a=n.inverse,r=n.fn;if(!0===t)return r(this);if(!1===t||null==t)return a(this);if(i.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):a(this);if(n.data&&n.ids){var s=i.createFrame(n.data);s.contextPath=i.appendContextPath(n.data.contextPath,n.name),n={data:s}}return r(t,n)})},e.exports=t.default},function(e,t,n){"use strict";var i=n(1).default;t.__esModule=!0;var a=n(5),r=n(6),s=i(r);t.default=function(e){e.registerHelper("each",function(e,t){function n(t,n,r){u&&(u.key=t,u.index=n,u.first=0===n,u.last=!!r,c&&(u.contextPath=c+t)),l+=i(e[t],{data:u,blockParams:a.blockParams([e[t],t],[c+t,null])})}if(!t)throw new s.default("Must pass iterator to #each");var i=t.fn,r=t.inverse,o=0,l="",u=void 0,c=void 0;if(t.data&&t.ids&&(c=a.appendContextPath(t.data.contextPath,t.ids[0])+"."),a.isFunction(e)&&(e=e.call(this)),t.data&&(u=a.createFrame(t.data)),e&&"object"==typeof e)if(a.isArray(e))for(var h=e.length;o<h;o++)o in e&&n(o,o,o===e.length-1);else{var d=void 0;for(var f in e)e.hasOwnProperty(f)&&(void 0!==d&&n(d,o-1),d=f,o++);void 0!==d&&n(d,o-1,!0)}return 0===o&&(l=r(this)),l})},e.exports=t.default},function(e,t,n){"use strict";var i=n(1).default;t.__esModule=!0;var a=n(6),r=i(a);t.default=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new r.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5);t.default=function(e){e.registerHelper("if",function(e,t){return i.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||i.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("log",function(){for(var t=[void 0],n=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)t.push(arguments[i]);var a=1;null!=n.hash.level?a=n.hash.level:n.data&&null!=n.data.level&&(a=n.data.level),t[0]=a,e.log.apply(e,t)})},e.exports=t.default},function(e,t){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5);t.default=function(e){e.registerHelper("with",function(e,t){i.isFunction(e)&&(e=e.call(this));var n=t.fn;if(i.isEmpty(e))return t.inverse(this);var a=t.data;return t.data&&t.ids&&(a=i.createFrame(t.data),a.contextPath=i.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:a,blockParams:i.blockParams([e],[a&&a.contextPath])})})},e.exports=t.default},function(e,t,n){"use strict";function i(e){s.default(e)}var a=n(1).default;t.__esModule=!0,t.registerDefaultDecorators=i;var r=n(19),s=a(r)},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5);t.default=function(e){e.registerDecorator("inline",function(e,t,n,a){var r=e;return t.partials||(t.partials={},r=function(a,r){var s=n.partials;n.partials=i.extend({},s,t.partials);var o=e(a,r);return n.partials=s,o}),t.partials[a.args[0]]=a.fn,r})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i=n(5),a={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=i.indexOf(a.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=a.lookupLevel(e),"undefined"!=typeof console&&a.lookupLevel(a.level)<=e){var t=a.methodMap[e];console[t]||(t="log");for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];console[t].apply(console,i)}}};t.default=a,e.exports=t.default},function(e,t){"use strict";function n(e){this.string=e}t.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},t.default=n,e.exports=t.default},function(e,t,n){"use strict";function i(e){var t=e&&e[0]||1,n=y.COMPILER_REVISION;if(t!==n){if(t<n){var i=y.REVISION_CHANGES[n],a=y.REVISION_CHANGES[t];throw new g.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+a+").")}throw new g.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function a(e,t){function n(n,i,a){a.hash&&(i=v.extend({},i,a.hash),a.ids&&(a.ids[0]=!0)),n=t.VM.resolvePartial.call(this,n,i,a);var r=t.VM.invokePartial.call(this,n,i,a);if(null==r&&t.compile&&(a.partials[a.name]=t.compile(n,e.compilerOptions,t),r=a.partials[a.name](i,a)),null!=r){if(a.indent){for(var s=r.split("\n"),o=0,l=s.length;o<l&&(s[o]||o+1!==l);o++)s[o]=a.indent+s[o];r=s.join("\n")}return r}throw new g.default("The partial "+a.name+" could not be compiled when running in runtime-only mode")}function i(t){function n(t){return""+e.main(a,t,a.helpers,a.partials,s,l,o)}var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=r.data;i._setup(r),!r.partial&&e.useData&&(s=u(t,s));var o=void 0,l=e.useBlockParams?[]:void 0;return e.useDepths&&(o=r.depths?t!=r.depths[0]?[t].concat(r.depths):r.depths:[t]),(n=c(e.main,n,a,r.depths||[],s,l))(t,r)}if(!t)throw new g.default("No environment passed to template");if(!e||!e.main)throw new g.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var a={strict:function(e,t){if(!(t in e))throw new g.default('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var n=e.length,i=0;i<n;i++)if(e[i]&&null!=e[i][t])return e[i][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:v.escapeExpression,invokePartial:n,fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,i,a){var s=this.programs[e],o=this.fn(e);return t||a||i||n?s=r(this,e,o,t,n,i,a):s||(s=this.programs[e]=r(this,e,o)),s},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=v.extend({},t,e)),n},nullContext:h({}),noop:t.VM.noop,compilerInfo:e.compiler};return i.isTop=!0,i._setup=function(n){n.partial?(a.helpers=n.helpers,a.partials=n.partials,a.decorators=n.decorators):(a.helpers=a.merge(n.helpers,t.helpers),e.usePartial&&(a.partials=a.merge(n.partials,t.partials)),(e.usePartial||e.useDecorators)&&(a.decorators=a.merge(n.decorators,t.decorators)))},i._child=function(t,n,i,s){if(e.useBlockParams&&!i)throw new g.default("must pass block params");if(e.useDepths&&!s)throw new g.default("must pass parent depths");return r(a,t,e[t],n,0,i,s)},i}function r(e,t,n,i,a,r,s){function o(t){var a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=s;return!s||t==s[0]||t===e.nullContext&&null===s[0]||(o=[t].concat(s)),n(e,t,e.helpers,e.partials,a.data||i,r&&[a.blockParams].concat(r),o)}return o=c(n,o,e,s,i,r),o.program=t,o.depth=s?s.length:0,o.blockParams=a||0,o}function s(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],e}function o(e,t,n){var i=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var a=void 0;if(n.fn&&n.fn!==l&&function(){n.data=y.createFrame(n.data);var e=n.fn;a=n.data["partial-block"]=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=y.createFrame(n.data),n.data["partial-block"]=i,e(t,n)},e.partials&&(n.partials=v.extend({},n.partials,e.partials))}(),void 0===e&&a&&(e=a),void 0===e)throw new g.default("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)}function l(){return""}function u(e,t){return t&&"root"in t||(t=t?y.createFrame(t):{},t.root=e),t}function c(e,t,n,i,a,r){if(e.decorator){var s={};t=e.decorator(t,s,n,i&&i[0],a,r,i),v.extend(t,s)}return t}var h=n(23).default,d=n(3).default,f=n(1).default;t.__esModule=!0,t.checkRevision=i,t.template=a,t.wrapProgram=r,t.resolvePartial=s,t.invokePartial=o,t.noop=l;var p=n(5),v=d(p),m=n(6),g=f(m),y=n(4)},function(e,t,n){e.exports={default:n(24),__esModule:!0}},function(e,t,n){n(25),e.exports=n(30).Object.seal},function(e,t,n){var i=n(26);n(27)("seal",function(e){return function(t){return e&&i(t)?e(t):t}})},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var i=n(28),a=n(30),r=n(33);e.exports=function(e,t){var n=(a.Object||{})[e]||Object[e],s={};s[e]=t(n),i(i.S+i.F*r(function(){n(1)}),"Object",s)}},function(e,t,n){var i=n(29),a=n(30),r=n(31),s=function(e,t,n){var o,l,u,c=e&s.F,h=e&s.G,d=e&s.S,f=e&s.P,p=e&s.B,v=e&s.W,m=h?a:a[t]||(a[t]={}),g=h?i:d?i[t]:(i[t]||{}).prototype;h&&(n=t);for(o in n)(l=!c&&g&&o in g)&&o in m||(u=l?g[o]:n[o],m[o]=h&&"function"!=typeof g[o]?n[o]:p&&l?r(u,i):v&&g[o]==u?function(e){var t=function(t){return this instanceof e?new e(t):e(t)};return t.prototype=e.prototype,t}(u):f&&"function"==typeof u?r(Function.call,u):u,f&&((m.prototype||(m.prototype={}))[o]=u))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,e.exports=s},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){var n=e.exports={version:"1.2.6"};"number"==typeof __e&&(__e=n)},function(e,t,n){var i=n(32);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,a){return e.call(t,n,i,a)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){(function(n){"use strict";t.__esModule=!0,t.default=function(e){var t=void 0!==n?n:window,i=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=i),e}},e.exports=t.default}).call(t,function(){return this}())},function(e,t){"use strict";t.__esModule=!0;var n={helpers:{helperExpression:function(e){return"SubExpression"===e.type||("MustacheStatement"===e.type||"BlockStatement"===e.type)&&!!(e.params&&e.params.length||e.hash)},scopedId:function(e){return/^\.|this\b/.test(e.original)},simpleId:function(e){return 1===e.parts.length&&!n.helpers.scopedId(e)&&!e.depth}}};t.default=n,e.exports=t.default},function(e,t,n){"use strict";function i(e,t){return"Program"===e.type?e:(o.default.yy=f,f.locInfo=function(e){return new f.SourceLocation(t&&t.srcName,e)},new u.default(t).accept(o.default.parse(e)))}var a=n(1).default,r=n(3).default;t.__esModule=!0,t.parse=i;var s=n(37),o=a(s),l=n(38),u=a(l),c=n(40),h=r(c),d=n(5);t.parser=o.default;var f={};d.extend(f,h)},function(e,t){"use strict";t.__esModule=!0;var n=function(){function e(){this.yy={}}var t={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition_plus0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,1],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(e,t,n,i,a,r,s){var o=r.length-1;switch(a){case 1:return r[o-1];case 2:this.$=i.prepareProgram(r[o]);break;case 3:case 4:case 5:case 6:case 7:case 8:this.$=r[o];break;case 9:this.$={type:"CommentStatement",value:i.stripComment(r[o]),strip:i.stripFlags(r[o],r[o]),loc:i.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:r[o],value:r[o],loc:i.locInfo(this._$)};break;case 11:this.$=i.prepareRawBlock(r[o-2],r[o-1],r[o],this._$);break;case 12:this.$={path:r[o-3],params:r[o-2],hash:r[o-1]};break;case 13:this.$=i.prepareBlock(r[o-3],r[o-2],r[o-1],r[o],!1,this._$);break;case 14:this.$=i.prepareBlock(r[o-3],r[o-2],r[o-1],r[o],!0,this._$);break;case 15:this.$={open:r[o-5],path:r[o-4],params:r[o-3],hash:r[o-2],blockParams:r[o-1],strip:i.stripFlags(r[o-5],r[o])};break;case 16:case 17:this.$={path:r[o-4],params:r[o-3],hash:r[o-2],blockParams:r[o-1],strip:i.stripFlags(r[o-5],r[o])};break;case 18:this.$={strip:i.stripFlags(r[o-1],r[o-1]),program:r[o]};break;case 19:var l=i.prepareBlock(r[o-2],r[o-1],r[o],r[o],!1,this._$),u=i.prepareProgram([l],r[o-1].loc);u.chained=!0,this.$={strip:r[o-2].strip,program:u,chain:!0};break;case 20:this.$=r[o];break;case 21:this.$={path:r[o-1],strip:i.stripFlags(r[o-2],r[o])};break;case 22:case 23:this.$=i.prepareMustache(r[o-3],r[o-2],r[o-1],r[o-4],i.stripFlags(r[o-4],r[o]),this._$);break;case 24:this.$={type:"PartialStatement",name:r[o-3],params:r[o-2],hash:r[o-1],indent:"",strip:i.stripFlags(r[o-4],r[o]),loc:i.locInfo(this._$)};break;case 25:this.$=i.preparePartialBlock(r[o-2],r[o-1],r[o],this._$);break;case 26:this.$={path:r[o-3],params:r[o-2],hash:r[o-1],strip:i.stripFlags(r[o-4],r[o])};break;case 27:case 28:this.$=r[o];break;case 29:this.$={type:"SubExpression",path:r[o-3],params:r[o-2],hash:r[o-1],loc:i.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:r[o],loc:i.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:i.id(r[o-2]),value:r[o],loc:i.locInfo(this._$)};break;case 32:this.$=i.id(r[o-1]);break;case 33:case 34:this.$=r[o];break;case 35:this.$={type:"StringLiteral",value:r[o],original:r[o],loc:i.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(r[o]),original:Number(r[o]),loc:i.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===r[o],original:"true"===r[o],loc:i.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:i.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:i.locInfo(this._$)};break;case 40:case 41:this.$=r[o];break;case 42:this.$=i.preparePath(!0,r[o],this._$);break;case 43:this.$=i.preparePath(!1,r[o],this._$);break;case 44:r[o-2].push({part:i.id(r[o]),original:r[o],separator:r[o-1]}),this.$=r[o-2];break;case 45:this.$=[{part:i.id(r[o]),original:r[o]}];break;case 46:this.$=[];break;case 47:r[o-1].push(r[o]);break;case 48:this.$=[r[o]];break;case 49:r[o-1].push(r[o]);break;case 50:this.$=[];break;case 51:r[o-1].push(r[o]);break;case 58:this.$=[];break;case 59:r[o-1].push(r[o]);break;case 64:this.$=[];break;case 65:r[o-1].push(r[o]);break;case 70:this.$=[];break;case 71:r[o-1].push(r[o]);break;case 78:this.$=[];break;case 79:r[o-1].push(r[o]);break;case 82:this.$=[];break;case 83:r[o-1].push(r[o]);break;case 86:this.$=[];break;case 87:r[o-1].push(r[o]);break;case 90:this.$=[];break;case 91:r[o-1].push(r[o]);break;case 94:this.$=[];break;case 95:r[o-1].push(r[o]);break;case 98:this.$=[r[o]];break;case 99:r[o-1].push(r[o]);break;case 100:this.$=[r[o]];break;case 101:r[o-1].push(r[o])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{13:40,15:[1,20],17:39},{20:42,56:41,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:45,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:48,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:42,56:49,64:43,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:50,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,51]},{72:[1,35],86:52},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:53,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:54,38:56,39:[1,58],43:57,44:[1,59],45:55,47:[2,54]},{28:60,43:61,44:[1,59],47:[2,56]},{13:63,15:[1,20],18:[1,62]},{15:[2,48],18:[2,48]},{33:[2,86],57:64,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:65,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:66,47:[1,67]},{30:68,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:69,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:70,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:71,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:75,33:[2,80],50:72,63:73,64:76,65:[1,44],69:74,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,80]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,51]},{20:75,53:81,54:[2,84],63:82,64:76,65:[1,44],69:83,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:84,47:[1,67]},{47:[2,55]},{4:85,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:86,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:87,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:88,47:[1,67]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:75,33:[2,88],58:89,63:90,64:76,65:[1,44],69:91,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:92,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:93,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,31:94,33:[2,60],63:95,64:76,65:[1,44],69:96,70:77,71:78,72:[1,79],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,66],36:97,63:98,64:76,65:[1,44],69:99,70:77,71:78,72:[1,79],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,22:100,23:[2,52],63:101,64:76,65:[1,44],69:102,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:75,33:[2,92],62:103,63:104,64:76,65:[1,44],69:105,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,106]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:107,72:[1,108],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,109],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,110]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:56,39:[1,58],43:57,44:[1,59],45:112,46:111,47:[2,76]},{33:[2,70],40:113,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,114]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:75,63:116,64:76,65:[1,44],67:115,68:[2,96],69:117,70:77,71:78,72:[1,79],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,118]},{32:119,33:[2,62],74:120,75:[1,121]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:122,74:123,75:[1,121]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,124]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,125]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,109]},{20:75,63:126,64:76,65:[1,44],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:75,33:[2,72],41:127,63:128,64:76,65:[1,44],69:129,70:77,71:78,72:[1,79],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,130]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,131]},{33:[2,63]},{72:[1,133],76:132},{33:[1,134]},{33:[2,69]},{15:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:135,74:136,75:[1,121]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,138],77:[1,137]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,139]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],55:[2,55],57:[2,20],61:[2,57],74:[2,81],83:[2,85],87:[2,18],91:[2,89],102:[2,53],105:[2,93],111:[2,19],112:[2,77],117:[2,97],120:[2,63],123:[2,69],124:[2,12],136:[2,75],137:[2,32]},parseError:function(e,t){throw new Error(e)},parse:function(e){var t=this,n=[0],i=[null],a=[],r=this.table,s="",o=0,l=0,u=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var c=this.lexer.yylloc;a.push(c);var h=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var d,f,p,v,m,g,y,b,w,k={};;){if(p=n[n.length-1],this.defaultActions[p]?v=this.defaultActions[p]:(null!==d&&void 0!==d||(d=function(){var e;return e=t.lexer.lex()||1,"number"!=typeof e&&(e=t.symbols_[e]||e),e}()),v=r[p]&&r[p][d]),void 0===v||!v.length||!v[0]){var _="";if(!u){w=[];for(g in r[p])this.terminals_[g]&&g>2&&w.push("'"+this.terminals_[g]+"'");_=this.lexer.showPosition?"Parse error on line "+(o+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[d]||d)+"'":"Parse error on line "+(o+1)+": Unexpected "+(1==d?"end of input":"'"+(this.terminals_[d]||d)+"'"),this.parseError(_,{text:this.lexer.match,token:this.terminals_[d]||d,line:this.lexer.yylineno,loc:c,expected:w})}}if(v[0]instanceof Array&&v.length>1)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+d);switch(v[0]){case 1:n.push(d),i.push(this.lexer.yytext),a.push(this.lexer.yylloc),n.push(v[1]),d=null,f?(d=f,f=null):(l=this.lexer.yyleng,s=this.lexer.yytext,o=this.lexer.yylineno,c=this.lexer.yylloc,u>0&&u--);break;case 2:if(y=this.productions_[v[1]][1],k.$=i[i.length-y],k._$={first_line:a[a.length-(y||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(y||1)].first_column,last_column:a[a.length-1].last_column},h&&(k._$.range=[a[a.length-(y||1)].range[0],a[a.length-1].range[1]]),void 0!==(m=this.performAction.call(k,s,l,o,this.yy,v[1],i,a)))return m;y&&(n=n.slice(0,-1*y*2),i=i.slice(0,-1*y),a=a.slice(0,-1*y)),n.push(this.productions_[v[1]][0]),i.push(k.$),a.push(k._$),b=r[n[n.length-2]][n[n.length-1]],n.push(b);break;case 3:return!0}}return!0}},n=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var a=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[a[0],a[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,i,a;this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),s=0;s<r.length&&(!(n=this._input.match(this.rules[r[s]]))||t&&!(n[0].length>t[0].length)||(t=n,i=s,this.options.flex));s++);return t?(a=t[0].match(/(?:\r\n?|\n).*/g),a&&(this.yylineno+=a.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:a?a[a.length-1].length-a[a.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,r[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,n,i){function a(e,n){return t.yytext=t.yytext.substr(e,t.yyleng-n)}switch(n){case 0:if("\\\\"===t.yytext.slice(-2)?(a(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(a(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(t.yytext=t.yytext.substr(5,t.yyleng-9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(t.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return t.yytext=a(1,2).replace(/\\"/g,'"'),80;case 32:return t.yytext=a(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return t.yytext=t.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],e.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},e}();return t.lexer=n,e.prototype=t,t.Parser=e,new e}();t.default=n,e.exports=t.default},function(e,t,n){"use strict";function i(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=e}function a(e,t,n){void 0===t&&(t=e.length);var i=e[t-1],a=e[t-2];return i?"ContentStatement"===i.type?(a||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original):void 0:n}function r(e,t,n){void 0===t&&(t=-1);var i=e[t+1],a=e[t+2];return i?"ContentStatement"===i.type?(a||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original):void 0:n}function s(e,t,n){var i=e[null==t?0:t+1];if(i&&"ContentStatement"===i.type&&(n||!i.rightStripped)){var a=i.value;i.value=i.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),i.rightStripped=i.value!==a}}function o(e,t,n){var i=e[null==t?e.length-1:t-1];if(i&&"ContentStatement"===i.type&&(n||!i.leftStripped)){var a=i.value;return i.value=i.value.replace(n?/\s+$/:/[ \t]+$/,""),i.leftStripped=i.value!==a,i.leftStripped}}var l=n(1).default;t.__esModule=!0;var u=n(39),c=l(u);i.prototype=new c.default,i.prototype.Program=function(e){var t=!this.options.ignoreStandalone,n=!this.isRootSeen;this.isRootSeen=!0;for(var i=e.body,l=0,u=i.length;l<u;l++){var c=i[l],h=this.accept(c);if(h){var d=a(i,l,n),f=r(i,l,n),p=h.openStandalone&&d,v=h.closeStandalone&&f,m=h.inlineStandalone&&d&&f;h.close&&s(i,l,!0),h.open&&o(i,l,!0),t&&m&&(s(i,l),o(i,l)&&"PartialStatement"===c.type&&(c.indent=/([ \t]+$)/.exec(i[l-1].original)[1])),t&&p&&(s((c.program||c.inverse).body),o(i,l)),t&&v&&(s(i,l),o((c.inverse||c.program).body))}}return e},i.prototype.BlockStatement=i.prototype.DecoratorBlock=i.prototype.PartialBlockStatement=function(e){this.accept(e.program),this.accept(e.inverse);var t=e.program||e.inverse,n=e.program&&e.inverse,i=n,l=n;if(n&&n.chained)for(i=n.body[0].program;l.chained;)l=l.body[l.body.length-1].program;var u={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:r(t.body),closeStandalone:a((i||t).body)};if(e.openStrip.close&&s(t.body,null,!0),n){var c=e.inverseStrip;c.open&&o(t.body,null,!0),c.close&&s(i.body,null,!0),e.closeStrip.open&&o(l.body,null,!0),!this.options.ignoreStandalone&&a(t.body)&&r(i.body)&&(o(t.body),s(i.body))}else e.closeStrip.open&&o(t.body,null,!0);return u},i.prototype.Decorator=i.prototype.MustacheStatement=function(e){return e.strip},i.prototype.PartialStatement=i.prototype.CommentStatement=function(e){var t=e.strip||{};return{inlineStandalone:!0,open:t.open,close:t.close}},t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(){this.parents=[]}function a(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash")}function r(e){a.call(this,e),this.acceptKey(e,"program"),this.acceptKey(e,"inverse")}function s(e){this.acceptRequired(e,"name"),this.acceptArray(e.params),this.acceptKey(e,"hash")}var o=n(1).default;t.__esModule=!0;var l=n(6),u=o(l);i.prototype={constructor:i,mutating:!1,acceptKey:function(e,t){var n=this.accept(e[t]);if(this.mutating){if(n&&!i.prototype[n.type])throw new u.default('Unexpected node type "'+n.type+'" found when accepting '+t+" on "+e.type);e[t]=n}},acceptRequired:function(e,t){if(this.acceptKey(e,t),!e[t])throw new u.default(e.type+" requires "+t)},acceptArray:function(e){for(var t=0,n=e.length;t<n;t++)this.acceptKey(e,t),e[t]||(e.splice(t,1),t--,n--)},accept:function(e){if(e){if(!this[e.type])throw new u.default("Unknown type: "+e.type,e);this.current&&this.parents.unshift(this.current),this.current=e;var t=this[e.type](e);return this.current=this.parents.shift(),!this.mutating||t?t:!1!==t?e:void 0}},Program:function(e){this.acceptArray(e.body)},MustacheStatement:a,Decorator:a,BlockStatement:r,DecoratorBlock:r,PartialStatement:s,PartialBlockStatement:function(e){s.call(this,e),this.acceptKey(e,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:a,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(e){this.acceptArray(e.pairs)},HashPair:function(e){this.acceptRequired(e,"value")}},t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e,t){if(t=t.path?t.path.original:t,e.path.original!==t){var n={loc:e.path.loc};throw new m.default(e.path.original+" doesn't match "+t,n)}}function a(e,t){this.source=e,this.start={line:t.first_line,column:t.first_column},this.end={line:t.last_line,column:t.last_column}}function r(e){return/^\[.*\]$/.test(e)?e.substr(1,e.length-2):e}function s(e,t){return{open:"~"===e.charAt(2),close:"~"===t.charAt(t.length-3)}}function o(e){return e.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function l(e,t,n){n=this.locInfo(n);for(var i=e?"@":"",a=[],r=0,s="",o=0,l=t.length;o<l;o++){var u=t[o].part,c=t[o].original!==u;if(i+=(t[o].separator||"")+u,c||".."!==u&&"."!==u&&"this"!==u)a.push(u);else{if(a.length>0)throw new m.default("Invalid path: "+i,{loc:n});".."===u&&(r++,s+="../")}}return{type:"PathExpression",data:e,depth:r,parts:a,original:i,loc:n}}function u(e,t,n,i,a,r){var s=i.charAt(3)||i.charAt(2),o="{"!==s&&"&"!==s;return{type:/\*/.test(i)?"Decorator":"MustacheStatement",path:e,params:t,hash:n,escaped:o,strip:a,loc:this.locInfo(r)}}function c(e,t,n,a){i(e,n),a=this.locInfo(a);var r={type:"Program",body:t,strip:{},loc:a};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:r,openStrip:{},inverseStrip:{},closeStrip:{},loc:a}}function h(e,t,n,a,r,s){a&&a.path&&i(e,a);var o=/\*/.test(e.open);t.blockParams=e.blockParams;var l=void 0,u=void 0;if(n){if(o)throw new m.default("Unexpected inverse block on decorator",n);n.chain&&(n.program.body[0].closeStrip=a.strip),u=n.strip,l=n.program}return r&&(r=l,l=t,t=r),{type:o?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:l,openStrip:e.strip,inverseStrip:u,closeStrip:a&&a.strip,loc:this.locInfo(s)}}function d(e,t){if(!t&&e.length){var n=e[0].loc,i=e[e.length-1].loc;n&&i&&(t={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:i.end.line,column:i.end.column}})}return{type:"Program",body:e,strip:{},loc:t}}function f(e,t,n,a){return i(e,n),{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:n&&n.strip,loc:this.locInfo(a)}}var p=n(1).default;t.__esModule=!0,t.SourceLocation=a,t.id=r,t.stripFlags=s,t.stripComment=o,t.preparePath=l,t.prepareMustache=u,t.prepareRawBlock=c,t.prepareBlock=h,t.prepareProgram=d,t.preparePartialBlock=f;var v=n(6),m=p(v)},function(e,t,n){"use strict";function i(){}function a(e,t,n){if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new c.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);t=t||{},"data"in t||(t.data=!0),t.compat&&(t.useDepths=!0);var i=n.parse(e,t),a=(new n.Compiler).compile(i,t);return(new n.JavaScriptCompiler).compile(a,t)}function r(e,t,n){function i(){var i=n.parse(e,t),a=(new n.Compiler).compile(i,t),r=(new n.JavaScriptCompiler).compile(a,t,void 0,!0);return n.template(r)}function a(e,t){return r||(r=i()),r.call(this,e,t)}if(void 0===t&&(t={}),null==e||"string"!=typeof e&&"Program"!==e.type)throw new c.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);t=h.extend({},t),"data"in t||(t.data=!0),t.compat&&(t.useDepths=!0);var r=void 0;return a._setup=function(e){return r||(r=i()),r._setup(e)},a._child=function(e,t,n,a){return r||(r=i()),r._child(e,t,n,a)},a}function s(e,t){if(e===t)return!0;if(h.isArray(e)&&h.isArray(t)&&e.length===t.length){for(var n=0;n<e.length;n++)if(!s(e[n],t[n]))return!1;return!0}}function o(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:!1,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}var l=n(1).default;t.__esModule=!0,t.Compiler=i,t.precompile=a,t.compile=r;var u=n(6),c=l(u),h=n(5),d=n(35),f=l(d),p=[].slice;i.prototype={compiler:i,equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;n<t;n++){var i=this.opcodes[n],a=e.opcodes[n];if(i.opcode!==a.opcode||!s(i.args,a.args))return!1}t=this.children.length;for(var n=0;n<t;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,t){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds,t.blockParams=t.blockParams||[];var n=t.knownHelpers;if(t.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},n)for(var i in n)i in n&&(this.options.knownHelpers[i]=n[i]);return this.accept(e)},compileProgram:function(e){var t=new this.compiler,n=t.compile(e,this.options),i=this.guid++;return this.usePartial=this.usePartial||n.usePartial,this.children[i]=n,this.useDepths=this.useDepths||n.useDepths,i},accept:function(e){if(!this[e.type])throw new c.default("Unknown type: "+e.type,e);this.sourceNode.unshift(e);var t=this[e.type](e);return this.sourceNode.shift(),t},Program:function(e){this.options.blockParams.unshift(e.blockParams);for(var t=e.body,n=t.length,i=0;i<n;i++)this.accept(t[i]);return this.options.blockParams.shift(),this.isSimple=1===n,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function(e){o(e);var t=e.program,n=e.inverse;t=t&&this.compileProgram(t),n=n&&this.compileProgram(n);var i=this.classifySexpr(e);"helper"===i?this.helperSexpr(e,t,n):"simple"===i?(this.simpleSexpr(e),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,t,n),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(e){var t=e.program&&this.compileProgram(e.program),n=this.setupFullMustacheParams(e,t,void 0),i=e.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,i.original)},PartialStatement:function(e){this.usePartial=!0;var t=e.program;t&&(t=this.compileProgram(e.program));var n=e.params;if(n.length>1)throw new c.default("Unsupported number of partial arguments: "+n.length,e);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var i=e.name.original,a="SubExpression"===e.name.type;a&&this.accept(e.name),this.setupFullMustacheParams(e,t,void 0,!0);var r=e.indent||"";this.options.preventIndent&&r&&(this.opcode("appendContent",r),r=""),this.opcode("invokePartial",a,i,r),this.opcode("append")},PartialBlockStatement:function(e){this.PartialStatement(e)},MustacheStatement:function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(e){this.DecoratorBlock(e)},ContentStatement:function(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function(){},SubExpression:function(e){o(e);var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function(e,t,n){var i=e.path,a=i.parts[0],r=null!=t||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),i.strict=!0,this.accept(i),this.opcode("invokeAmbiguous",a,r)},simpleSexpr:function(e){var t=e.path;t.strict=!0,this.accept(t),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,n){var i=this.setupFullMustacheParams(e,t,n),a=e.path,r=a.parts[0];if(this.options.knownHelpers[r])this.opcode("invokeKnownHelper",i.length,r);else{if(this.options.knownHelpersOnly)throw new c.default("You specified knownHelpersOnly, but used the unknown helper "+r,e);a.strict=!0,a.falsy=!0,this.accept(a),this.opcode("invokeHelper",i.length,a.original,f.default.helpers.simpleId(a))}},PathExpression:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0],n=f.default.helpers.scopedId(e),i=!e.depth&&!n&&this.blockParamIndex(t);i?this.opcode("lookupBlockParam",i,e.parts):t?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,n):this.opcode("pushContext")},StringLiteral:function(e){this.opcode("pushString",e.value)},NumberLiteral:function(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(e){var t=e.pairs,n=0,i=t.length;for(this.opcode("pushHash");n<i;n++)this.pushParam(t[n].value);for(;n--;)this.opcode("assignToHash",t[n].key);this.opcode("popHash")},opcode:function(e){this.opcodes.push({opcode:e,args:p.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(e){e&&(this.useDepths=!0)},classifySexpr:function(e){var t=f.default.helpers.simpleId(e.path),n=t&&!!this.blockParamIndex(e.path.parts[0]),i=!n&&f.default.helpers.helperExpression(e),a=!n&&(i||t);if(a&&!i){var r=e.path.parts[0],s=this.options;s.knownHelpers[r]?i=!0:s.knownHelpersOnly&&(a=!1)}return i?"helper":a?"ambiguous":"simple"},pushParams:function(e){for(var t=0,n=e.length;t<n;t++)this.pushParam(e[t])},pushParam:function(e){var t=null!=e.value?e.value:e.original||"";if(this.stringParams)t.replace&&(t=t.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",t,e.type),"SubExpression"===e.type&&this.accept(e);else{if(this.trackIds){var n=void 0;if(!e.parts||f.default.helpers.scopedId(e)||e.depth||(n=this.blockParamIndex(e.parts[0])),n){var i=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,i)}else t=e.original||t,t.replace&&(t=t.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,t)}this.accept(e)}},setupFullMustacheParams:function(e,t,n,i){var a=e.params;return this.pushParams(a),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.accept(e.hash):this.opcode("emptyHash",i),a},blockParamIndex:function(e){for(var t=0,n=this.options.blockParams.length;t<n;t++){var i=this.options.blockParams[t],a=i&&h.indexOf(i,e);if(i&&a>=0)return[t,a]}}}},function(e,t,n){"use strict";function i(e){this.value=e}function a(){}function r(e,t,n,i){var a=t.popStack(),r=0,s=n.length;for(e&&s--;r<s;r++)a=t.nameLookup(a,n[r],i);return e?[t.aliasable("container.strict"),"(",a,", ",t.quotedString(n[r]),")"]:a}var s=n(1).default;t.__esModule=!0;var o=n(4),l=n(6),u=s(l),c=n(5),h=n(43),d=s(h);a.prototype={nameLookup:function(e,t){return a.isValidJavaScriptVariableName(t)?[e,".",t]:[e,"[",JSON.stringify(t),"]"]},depthedLookup:function(e){return[this.aliasable("container.lookup"),'(depths, "',e,'")']},compilerInfo:function(){var e=o.COMPILER_REVISION;return[e,o.REVISION_CHANGES[e]]},appendToBuffer:function(e,t,n){return c.isArray(e)||(e=[e]),e=this.source.wrap(e,t),this.environment.isSimple?["return ",e,";"]:n?["buffer += ",e,";"]:(e.appendToBuffer=!0,e)},initializeBuffer:function(){return this.quotedString("")},compile:function(e,t,n,i){this.environment=e,this.options=t,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!i,this.name=this.environment.name,this.isChild=!!n,this.context=n||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(e,t),this.useDepths=this.useDepths||e.useDepths||e.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||e.useBlockParams;var a=e.opcodes,r=void 0,s=void 0,o=void 0,l=void 0;for(o=0,l=a.length;o<l;o++)r=a[o],this.source.currentLocation=r.loc,s=s||r.loc,this[r.opcode].apply(this,r.args);if(this.source.currentLocation=s,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new u.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend("var decorators = container.decorators;\n"),this.decorators.push("return fn;"),i?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var c=this.createFunctionContext(i);if(this.isChild)return c;var h={compiler:this.compilerInfo(),main:c};this.decorators&&(h.main_d=this.decorators,h.useDecorators=!0);var d=this.context,f=d.programs,p=d.decorators;for(o=0,l=f.length;o<l;o++)f[o]&&(h[o]=f[o],p[o]&&(h[o+"_d"]=p[o],h.useDecorators=!0));return this.environment.usePartial&&(h.usePartial=!0),this.options.data&&(h.useData=!0),this.useDepths&&(h.useDepths=!0),this.useBlockParams&&(h.useBlockParams=!0),this.options.compat&&(h.compat=!0),i?h.compilerOptions=this.options:(h.compiler=JSON.stringify(h.compiler),this.source.currentLocation={start:{line:1,column:0}},h=this.objectLiteral(h),t.srcName?(h=h.toStringWithSourceMap({file:t.destName}),h.map=h.map&&h.map.toString()):h=h.toString()),h},preamble:function(){this.lastContext=0,this.source=new d.default(this.options.srcName),this.decorators=new d.default(this.options.srcName)},createFunctionContext:function(e){var t="",n=this.stackVars.concat(this.registers.list);n.length>0&&(t+=", "+n.join(", "));var i=0;for(var a in this.aliases){var r=this.aliases[a];this.aliases.hasOwnProperty(a)&&r.children&&r.referenceCount>1&&(t+=", alias"+ ++i+"="+a,r.children[0]="alias"+i)}var s=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&s.push("blockParams"),this.useDepths&&s.push("depths");var o=this.mergeSource(t);return e?(s.push(o),Function.apply(this,s)):this.source.wrap(["function(",s.join(","),") {\n  ",o,"}"])},mergeSource:function(e){var t=this.environment.isSimple,n=!this.forceBuffer,i=void 0,a=void 0,r=void 0,s=void 0;return this.source.each(function(e){e.appendToBuffer?(r?e.prepend("  + "):r=e,s=e):(r&&(a?r.prepend("buffer += "):i=!0,s.add(";"),r=s=void 0),a=!0,t||(n=!1))}),n?r?(r.prepend("return "),s.add(";")):a||this.source.push('return "";'):(e+=", buffer = "+(i?"":this.initializeBuffer()),r?(r.prepend("return buffer + "),s.add(";")):this.source.push("return buffer;")),e&&this.source.prepend("var "+e.substring(2)+(i?"":";\n")),this.source.merge()},blockValue:function(e){var t=this.aliasable("helpers.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(e,0,n);var i=this.popStack();n.splice(1,0,i),this.push(this.source.functionCall(t,"call",n))},ambiguousBlockValue:function(){var e=this.aliasable("helpers.blockHelperMissing"),t=[this.contextName(0)];this.setupHelperArgs("",0,t,!0),this.flushInline();var n=this.topStack();t.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(e,"call",t),"}"])},appendContent:function(e){this.pendingContent?e=this.pendingContent+e:this.pendingLocation=this.source.currentLocation,this.pendingContent=e},append:function(){if(this.isInline())this.replaceStack(function(e){return[" != null ? ",e,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var e=this.popStack();this.pushSource(["if (",e," != null) { ",this.appendToBuffer(e,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(e){this.lastContext=e},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(e,t,n,i){var a=0;i||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(e[a++])),this.resolvePath("context",e,a,t,n)},lookupBlockParam:function(e,t){this.useBlockParams=!0,this.push(["blockParams[",e[0],"][",e[1],"]"]),this.resolvePath("context",t,1)},lookupData:function(e,t,n){e?this.pushStackLiteral("container.data(data, "+e+")"):this.pushStackLiteral("data"),this.resolvePath("data",t,0,!0,n)},resolvePath:function(e,t,n,i,a){var s=this;if(this.options.strict||this.options.assumeObjects)return void this.push(r(this.options.strict&&a,this,t,e));for(var o=t.length;n<o;n++)this.replaceStack(function(a){var r=s.nameLookup(a,t[n],e);return i?[" && ",r]:[" != null ? ",r," : ",a]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(e,t){this.pushContext(),this.pushString(t),"SubExpression"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(e){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(e?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(e.ids)),this.stringParams&&(this.push(this.objectLiteral(e.contexts)),this.push(this.objectLiteral(e.types))),this.push(this.objectLiteral(e.values))},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},registerDecorator:function(e,t){var n=this.nameLookup("decorators",t,"decorator"),i=this.setupHelperArgs(t,e);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",i])," || fn;"])},invokeHelper:function(e,t,n){var i=this.popStack(),a=this.setupHelper(e,t),r=n?[a.name," || "]:"",s=["("].concat(r,i);this.options.strict||s.push(" || ",this.aliasable("helpers.helperMissing")),s.push(")"),this.push(this.source.functionCall(s,"call",a.callParams))},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function(e,t){this.useRegister("helper");var n=this.popStack();this.emptyHash();var i=this.setupHelper(0,e,t),a=this.lastHelper=this.nameLookup("helpers",e,"helper"),r=["(","(helper = ",a," || ",n,")"];this.options.strict||(r[0]="(helper = ",r.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",r,i.paramsInit?["),(",i.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",i.callParams)," : helper))"])},invokePartial:function(e,t,n){var i=[],a=this.setupParams(t,1,i);e&&(t=this.popStack(),delete a.name),n&&(a.indent=JSON.stringify(n)),a.helpers="helpers",a.partials="partials",a.decorators="container.decorators",e?i.unshift(t):i.unshift(this.nameLookup("partials",t,"partial")),this.options.compat&&(a.depths="depths"),a=this.objectLiteral(a),i.push(a),this.push(this.source.functionCall("container.invokePartial","",i))},assignToHash:function(e){var t=this.popStack(),n=void 0,i=void 0,a=void 0;this.trackIds&&(a=this.popStack()),this.stringParams&&(i=this.popStack(),n=this.popStack());var r=this.hash;n&&(r.contexts[e]=n),i&&(r.types[e]=i),a&&(r.ids[e]=a),r.values[e]=t},pushId:function(e,t,n){"BlockParam"===e?this.pushStackLiteral("blockParams["+t[0]+"].path["+t[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===e?this.pushString(t):"SubExpression"===e?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:a,compileChildren:function(e,t){for(var n=e.children,i=void 0,a=void 0,r=0,s=n.length;r<s;r++){i=n[r],a=new this.compiler;var o=this.matchExistingProgram(i);if(null==o){this.context.programs.push("");var l=this.context.programs.length;i.index=l,i.name="program"+l,this.context.programs[l]=a.compile(i,t,this.context,!this.precompile),this.context.decorators[l]=a.decorators,this.context.environments[l]=i,this.useDepths=this.useDepths||a.useDepths,this.useBlockParams=this.useBlockParams||a.useBlockParams,i.useDepths=this.useDepths,i.useBlockParams=this.useBlockParams}else i.index=o.index,i.name="program"+o.index,this.useDepths=this.useDepths||o.useDepths,this.useBlockParams=this.useBlockParams||o.useBlockParams}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length;t<n;t++){var i=this.context.environments[t];if(i&&i.equals(e))return i}},programExpression:function(e){var t=this.environment.children[e],n=[t.index,"data",t.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"container.program("+n.join(", ")+")"},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},push:function(e){return e instanceof i||(e=this.source.wrap(e)),this.inlineStack.push(e),e},pushStackLiteral:function(e){this.push(new i(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),e&&this.source.push(e)},replaceStack:function(e){var t=["("],n=void 0,a=void 0,r=void 0;if(!this.isInline())throw new u.default("replaceStack on non-inline");var s=this.popStack(!0);if(s instanceof i)n=[s.value],t=["(",n],r=!0;else{a=!0;var o=this.incrStack();t=["((",this.push(o)," = ",s,")"],n=this.topStack()}var l=e.call(this,n);r||this.popStack(),a&&this.stackSlot--,this.push(t.concat(l,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;this.inlineStack=[];for(var t=0,n=e.length;t<n;t++){var a=e[t];if(a instanceof i)this.compileStack.push(a);else{var r=this.incrStack();this.pushSource([r," = ",a,";"]),this.compileStack.push(r)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),n=(t?this.inlineStack:this.compileStack).pop();if(!e&&n instanceof i)return n.value;if(!t){if(!this.stackSlot)throw new u.default("Invalid stack pop");this.stackSlot--}return n},topStack:function(){var e=this.isInline()?this.inlineStack:this.compileStack,t=e[e.length-1];return t instanceof i?t.value:t},contextName:function(e){return this.useDepths&&e?"depths["+e+"]":"depth"+e},quotedString:function(e){return this.source.quotedString(e)},objectLiteral:function(e){return this.source.objectLiteral(e)},aliasable:function(e){var t=this.aliases[e];return t?(t.referenceCount++,t):(t=this.aliases[e]=this.source.wrap(e),t.aliasable=!0,t.referenceCount=1,t)},setupHelper:function(e,t,n){var i=[];return{params:i,paramsInit:this.setupHelperArgs(t,e,i,n),name:this.nameLookup("helpers",t,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(i)}},setupParams:function(e,t,n){var i={},a=[],r=[],s=[],o=!n,l=void 0;o&&(n=[]),i.name=this.quotedString(e),i.hash=this.popStack(),this.trackIds&&(i.hashIds=this.popStack()),this.stringParams&&(i.hashTypes=this.popStack(),i.hashContexts=this.popStack());var u=this.popStack(),c=this.popStack();(c||u)&&(i.fn=c||"container.noop",i.inverse=u||"container.noop");for(var h=t;h--;)l=this.popStack(),n[h]=l,this.trackIds&&(s[h]=this.popStack()),this.stringParams&&(r[h]=this.popStack(),a[h]=this.popStack());return o&&(i.args=this.source.generateArray(n)),this.trackIds&&(i.ids=this.source.generateArray(s)),this.stringParams&&(i.types=this.source.generateArray(r),i.contexts=this.source.generateArray(a)),this.options.data&&(i.data="data"),this.useBlockParams&&(i.blockParams="blockParams"),i},setupHelperArgs:function(e,t,n,i){var a=this.setupParams(e,t,n);return a=this.objectLiteral(a),i?(this.useRegister("options"),n.push("options"),["options=",a]):n?(n.push(a),""):a}},function(){for(var e="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),t=a.RESERVED_WORDS={},n=0,i=e.length;n<i;n++)t[e[n]]=!0}(),a.isValidJavaScriptVariableName=function(e){return!a.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)},t.default=a,e.exports=t.default},function(e,t,n){"use strict";function i(e,t,n){if(r.isArray(e)){for(var i=[],a=0,s=e.length;a<s;a++)i.push(t.wrap(e[a],n));return i}return"boolean"==typeof e||"number"==typeof e?e+"":e}function a(e){this.srcFile=e,this.source=[]}t.__esModule=!0;var r=n(5),s=void 0;try{}catch(e){}s||(s=function(e,t,n,i){this.src="",i&&this.add(i)},s.prototype={add:function(e){r.isArray(e)&&(e=e.join("")),this.src+=e},prepend:function(e){r.isArray(e)&&(e=e.join("")),this.src=e+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),a.prototype={isEmpty:function(){return!this.source.length},prepend:function(e,t){this.source.unshift(this.wrap(e,t))},push:function(e,t){this.source.push(this.wrap(e,t))},merge:function(){var e=this.empty();return this.each(function(t){e.add(["  ",t,"\n"])}),e},each:function(e){for(var t=0,n=this.source.length;t<n;t++)e(this.source[t])},empty:function(){var e=this.currentLocation||{start:{}};return new s(e.start.line,e.start.column,this.srcFile)},wrap:function(e){var t=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return e instanceof s?e:(e=i(e,this,t),new s(t.start.line,t.start.column,this.srcFile,e))},functionCall:function(e,t,n){return n=this.generateList(n),this.wrap([e,t?"."+t+"(":"(",n,")"])},quotedString:function(e){return'"'+(e+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var a=i(e[n],this);"undefined"!==a&&t.push([this.quotedString(n),":",a])}var r=this.generateList(t);return r.prepend("{"),r.add("}"),r},generateList:function(e){for(var t=this.empty(),n=0,a=e.length;n<a;n++)n&&t.add(","),t.add(i(e[n],this));return t},generateArray:function(e){var t=this.generateList(e);return t.prepend("["),t.add("]"),t}},t.default=a,e.exports=t.default}])})},function(e,t,n){"use strict";var i=n(176),a=function(e){return e&&e.__esModule?e:{default:e}}(i);window.BankingRoute=a.default},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(4),o=function(e){return e&&e.__esModule?e:{default:e}}(s),l=n(61),u=n(41),c={TYPE:"type",LOCATION:"location"},h=function(){function e(t,n){i(this,e),this.locationData=t,this.filterPopular=!0,this.defaultBankingType=n}return r(e,[{key:"activate",value:function(e,t){var n=this;if(e){this.view=e;var i=e.dataset.storagePostfix||"default";this.storage=(0,u.makeStorage)("onlineBanking_"+i);var a=t&&t.contactUs||this.view.dataset.propsIsContactUs;this.isContactUs=void 0!==a&&!1!==a,this.locationSelectorView=this.view.querySelector(".location-selector"),this.rememberMe=this.view.querySelector(".remember-me input"),this.bankingInput=this.view.querySelector(".banking-options input"),this.locationInput=this.view.querySelector(".location-options input"),this.locationOptions=this.view.querySelector(".location-options ul"),this.action=void 0,this.goSection=this.view.querySelector(".banking-route__go"),this.goButtons=this.view.querySelectorAll(".banking-route__go-button"),this.goButtons&&this.goButtons.forEach(function(e){e.addEventListener("click",n.onGoButton.bind(n))}),this.locationOptions.addEventListener("click",function(e){n.onLocationSelect(e.target)});var r=this.storage.get(c.LOCATION),s=this.storage.get(c.TYPE);this.rememberMe&&r&&s&&(this.rememberMe.checked=!0,this.defaultBankingType=s,this.defaultLocation=r),this.locationSelector=new LocationSelector(this.locationData,this.filterPopular,function(e,t,i){return n.locationSelected(e,t,i)},"BankingRoute",this.defaultBankingType,this.defaultLocation),this.locationSelector.activate(this.locationSelectorView),this.activated=!0}}},{key:"onLocationSelect",value:function(e){"a"===e.nodeName.toLowerCase()&&((0,l.isInternal)(e.getAttribute("data-url"))?this.goButtons.forEach(function(e){e.querySelector(".hsbc-external-link").style.display="none"}):this.goButtons.forEach(function(e){e.querySelector(".hsbc-external-link").style.display="inline-block"}))}},{key:"onGoButton",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,n=this.rememberMe&&this.rememberMe.checked,i={event_category:"content",event_type:"click",page_business_line:null===this.locationSelector.bankingInput?"":this.locationSelector.bankingInput.value,customer_country:this.locationSelector.locationInput.value};i=this.isContactUs?a({},i,{event_action:"ContactCustomers",event_content:"ContactCustomerSelector"}):a({},i,{event_action:"OnlineBanking",event_content:"OnlineBankingSelector",form_field_1:n?"Remember me":"Will not remember"}),o.default.trackEvent(i),n?(this.storage.set(c.TYPE,this.bankingInput.dataset.id),this.storage.set(c.LOCATION,this.locationInput.dataset.id)):(this.storage.remove(c.TYPE),this.storage.remove(c.LOCATION)),(0,l.isInternal)(this.action)?t.location=this.action:t.open(this.action,"_blank")}},{key:"locationSelected",value:function(e,t,n){t||!n?(this.action=t,this.goSection.classList.remove("invisible")):(this.action=void 0,this.goSection.classList.add("invisible"))}}]),e}();t.default=h},function(e,t,n){"use strict";var i=n(178),a=function(e){return e&&e.__esModule?e:{default:e}}(i);window.CountryOffices=a.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(91),o=i(s),l=n(13),u=i(l),c=n(180),h=i(c),d=function(){function e(t,n){a(this,e),this.repository=n||new h.default,this.activated=!1,this.locationData=t||{},this.filterPopular=!1}return r(e,[{key:"activate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.countriesJson;this.view=e,this.urlUtil=new u.default,this.locationSelectorView=this.view.querySelector(".location-selector"),this.officeListContainer=this.view.querySelector(".office-list"),i&&(this.locationData.countries="string"==typeof i?JSON.parse(i):i),this.locationSelector=new o.default(this.locationData,this.filterPopular,function(e,n,i){return t.locationSelected(e,n,i)},"CountryOffices",null,this.urlUtil.getParameterByName("countryid")),this.locationSelector.activate(this.locationSelectorView),this.activated=!0}},{key:"locationSelected",value:function(e){if(e){this.updateOfficeList(e);var t={countryid:e};this.updateUrl(t)}}},{key:"updateUrl",value:function(e){if(e)for(var t in e)history.replaceState(null,"",this.urlUtil.setParameterByName(t,e[t]))}},{key:"updateOfficeList",value:function(e){if(e&&null!=this.view){this.view.querySelectorAll(".office-list__item").forEach(function(e){e.classList.remove("office-list__item--active")},this);var t=this.view.querySelector('.office-list__item[data-id="'+e+'"]');t&&t.classList.add("office-list__item--active")}}}]),e}();t.default=d},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function i(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return g.iterable&&(t[Symbol.iterator]=function(){return t}),t}function a(e){this.map={},e instanceof a?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function r(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function s(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function o(e){var t=new FileReader,n=s(t);return t.readAsArrayBuffer(e),n}function l(e){var t=new FileReader,n=s(t);return t.readAsText(e),n}function u(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}function c(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(g.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(g.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(g.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(g.arrayBuffer&&g.blob&&b(e))this._bodyArrayBuffer=c(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!g.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!w(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g.blob&&(this.blob=function(){var e=r(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?r(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(o)}),this.text=function(){var e=r(this);if(e)return e;if(this._bodyBlob)return l(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function d(e){var t=e.toUpperCase();return k.indexOf(t)>-1?t:e}function f(e,t){t=t||{};var n=t.body;if(e instanceof f){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new a(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new a(t.headers)),this.method=d(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function p(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),a=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(a))}}),t}function v(e){var t=new a;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),i=n.shift().trim();if(i){var a=n.join(":").trim();t.append(i,a)}}),t}function m(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new a(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var g={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(g.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(e){return e&&DataView.prototype.isPrototypeOf(e)},w=ArrayBuffer.isView||function(e){return e&&y.indexOf(Object.prototype.toString.call(e))>-1};a.prototype.append=function(e,i){e=t(e),i=n(i);var a=this.map[e];this.map[e]=a?a+","+i:i},a.prototype.delete=function(e){delete this.map[t(e)]},a.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},a.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},a.prototype.set=function(e,i){this.map[t(e)]=n(i)},a.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},a.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),i(e)},a.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),i(e)},a.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),i(e)},g.iterable&&(a.prototype[Symbol.iterator]=a.prototype.entries);var k=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this,{body:this._bodyInit})},h.call(f.prototype),h.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new a(this.headers),url:this.url})},m.error=function(){var e=new m(null,{status:0,statusText:""});return e.type="error",e};var _=[301,302,303,307,308];m.redirect=function(e,t){if(-1===_.indexOf(t))throw new RangeError("Invalid status code");return new m(null,{status:t,headers:{location:e}})},e.Headers=a,e.Request=f,e.Response=m,e.fetch=function(e,t){return new Promise(function(n,i){var a=new f(e,t),r=new XMLHttpRequest;r.onload=function(){var e={status:r.status,statusText:r.statusText,headers:v(r.getAllResponseHeaders()||"")};e.url="responseURL"in r?r.responseURL:e.headers.get("X-Request-URL");var t="response"in r?r.response:r.responseText;n(new m(t,e))},r.onerror=function(){i(new TypeError("Network request failed"))},r.ontimeout=function(){i(new TypeError("Network request failed"))},r.open(a.method,a.url,!0),"include"===a.credentials?r.withCredentials=!0:"omit"===a.credentials&&(r.withCredentials=!1),"responseType"in r&&g.blob&&(r.responseType="blob"),a.headers.forEach(function(e,t){r.setRequestHeader(t,e)}),r.send(void 0===a._bodyInit?null:a._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(23),o=i(s),l=n(20),u=i(l),c=function(){function e(t){a(this,e),this.dal=t||new u.default}return r(e,[{key:"getOfficeData",value:function(e,t,n){var i=e;this.dal.getData(o.default.COUNTRY_OFFICES_SERVICE+"/?countryId="+i,function(e){t(e)},function(e){n(e)})}}]),e}();t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var a=n(63),r=i(a),s=n(64),o=i(s);window.Filter=r.default,window.SimpleFilter=o.default},function(e,t,n){"use strict";var i=n(62);(0,function(e){return e&&e.__esModule?e:{default:e}}(i).default)()},function(e,t,n){"use strict";var i=n(91),a=function(e){return e&&e.__esModule?e:{default:e}}(i);window.LocationSelector=a.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var a=n(185),r=n(187),s=n(188),o=n(66),l=n(189),u=n(1),c=n(12),h=i(c),d=n(45),f=i(d),p=n(16),v=i(p),m=n(93),g=i(m);window.Announcer=h.default,window.CookieNotification=f.default,window.makeHiddenContentNotification=s.makeHiddenContentNotification,window.makeOnLoadNotification=o.makeOnLoadNotification,window.makePopupNotification=p.makePopupNotification,window.makeSurveyNotification=l.makeSurveyNotification,window.PopupNotification=v.default,window.SurveyStore=l.SurveyStore,window.NotificationStore=o.NotificationStore,window.NotificationRegister=g.default,document.addEventListener("click",(0,u.throttle)(20,a.externalLinkHandler)),document.addEventListener("click",(0,u.throttle)(20,r.linkNotificationHandler)),(0,c.announceServerAlert)()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.externalLinkHandler=t.isLinkExternal=t.isUrlExternal=t.defaultConfig=t.HSBC_EXTERNAL_LINK_CONFIG=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=n(16),r=n(0),s=n(61),o=t.HSBC_EXTERNAL_LINK_CONFIG="HSBC_EXTERNAL_LINK_CONFIG",l=t.defaultConfig={catchTargetBlank:!0,catchSameOrigin:!0,rules:[{type:"url",pattern:"^(https?://)?([\\w-]+\\.)*hsbc\\.com([/#?]|$)",negate:!0}],popup:{title:"You're leaving HSBC.com",description:"\n            <p>Please be aware that the external site policies, or those of another HSBC Group website, may differ from our website terms and conditions and privacy policy. The next site will open in a new browser window or tab.</p>\n        ",disclaimer:"HSBC is not responsible for any content on third party sites, nor does a link suggest endorsement of those sites and/or their content.",ctaNegativeLabel:"CANCEL",ctaPositiveLabel:"PROCEED"}},u=[/^javascript:void\(0?\);?$/i,/^javascript:void;?$/i,/^javascript:;?$/i,/^mailto:.*/i,/^data:image.*/i,/^data:text\/csv.*/i,/^data:application\/vnd.ms-excel*/i,/^blob:.*/i,/^tel:/i],c=function(){var e=window[o]||{};return i({},l,e)},h=t.isUrlExternal=function(e){var t=c().rules,n=t.filter(function(e){return!e.negate}),i=t.filter(function(e){return e.negate}),a=function(t){return new RegExp(t.pattern,"ig").test(e)};return n.some(a)||i.length>0&&!i.some(a)},d=t.isLinkExternal=function(e){if(u.some(function(t){return t.test(e.href)}))return!1;var t=c(),n=t.catchTargetBlank&&"_blank"===e.target,i=t.catchSameOrigin&&(0,s.isInternal)(e.href),a=h(e.href);return i?!i:n||a};t.externalLinkHandler=function(e){if((0,r.isAnchor)(e.target)){var t=(0,r.getAnchor)(e.target);if(d(t)){e.preventDefault();var n=c(),s=i({},n.popup,{actionUrl:t.href,actionInNewWindow:!0,caller:e.target}),o=(0,a.makePopupNotification)(s);o.mount(),o.open()}}}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.renderStyledCheckbox=t.STYLED_CHECKBOX_TEMPLATE=t.VALIDATION_ERROR_DESCRIPTION=t.VALIDATION_ERROR_ENABLED=t.VALIDATION_ERROR=t.STYLED_CHECKBOX_INPUT=t.STYLED_CHECKBOX_LABEL=t.STYLED_CHECKBOX_TICK_ERROR=t.STYLED_CHECKBOX_TICK=t.STYLED_CHECKBOX=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),s=t.STYLED_CHECKBOX="styled-checkbox",o=t.STYLED_CHECKBOX_TICK="styled-checkbox__tick",l=t.STYLED_CHECKBOX_TICK_ERROR="styled-checkbox__tick--error",u=(t.STYLED_CHECKBOX_LABEL=s+"__label",t.STYLED_CHECKBOX_INPUT=s+"__input"),c=t.VALIDATION_ERROR="styled-checkbox__validation-error",h=t.VALIDATION_ERROR_ENABLED=c+"--enabled",d=t.VALIDATION_ERROR_DESCRIPTION=c+"__description",f=t.STYLED_CHECKBOX_TEMPLATE=Handlebars.templates["styled-checkbox-template"],p=(t.renderStyledCheckbox=function(e){return"function"==typeof f?f(e):null},function(){function e(t){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.onChange=function(e){e.preventDefault(),"function"==typeof n.props.onClick&&n.props.onClick(n,e)},this.containerElement=t,this.tick=(0,r.getElement)(o,this.containerElement),this.input=(0,r.getElement)(u,this.containerElement),this.error=(0,r.getElement)(c,this.containerElement),this.errorDescription=(0,r.getElement)(d,this.containerElement),this.props=a,this.addEvents()}return a(e,[{key:"setValidationErrorMessage",value:function(e){this.errorDescription.innerHTML=e}},{key:"showValidationError",value:function(){this.tick.classList.add(l),this.error.classList.add(h)}},{key:"hideValidationError",value:function(){this.tick.classList.remove(l),this.error.classList.remove(h)}},{key:"addEvents",value:function(){this.input.addEventListener("change",this.onChange)}},{key:"removeEvents",value:function(){this.input.removeEventListener("change",this.onChange)}},{key:"isChecked",get:function(){return this.input.checked}}]),e}());t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.linkNotificationHandler=t.getPopupData=t.HSBC_LINK_NOTIFICATION_CONFIG=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=n(0),r=n(16),s=t.HSBC_LINK_NOTIFICATION_CONFIG="HSBC_LINK_NOTIFICATION_CONFIG",o=function(){return window[s]||[]},l=function(e){return function(t){var n=function(e){return e.split("?")[0]};return[n(e.href),n(e.attributes.href.value)].some(function(e){return e===t})}},u=t.getPopupData=function(e){var t=o(),n=t.filter(function(t){return t.rules.some(l(e))})[0];return n?n.popup:null};t.linkNotificationHandler=function(e){if((0,a.isAnchor)(e.target)){var t=(0,a.getAnchor)(e.target),n=u(t);if(n){e.preventDefault();var s=(0,r.makePopupNotification)(i({},n,{actionUrl:t.href,caller:e.target}));s.mount(),s.open()}}}},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.makeHiddenContentNotification=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=n(16),s=n(66),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";[].concat(i(document.querySelectorAll(e))).forEach(function(e){e&&(t?e.classList.remove(t):e.style.display="block")})},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,r.validateAllCheckboxes)(e)&&e.props.hiddenContentSelector&&(o(e.props.hiddenContentSelector,e.props.hiddenContentClass),e.close(),e.unmount(),(0,r.handleCallback)(t))},u=function(e){e.props.negativeActionUrl?window.location.href=e.props.negativeActionUrl:window.history.back()};t.makeHiddenContentNotification=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t?s.makeOnLoadNotification:r.makePopupNotification,i=n(a({},e,{ctaPositiveHandler:l,ctaNegativeHandler:u}));return(0,s.isAccepted)(i)&&i.props.hiddenContentSelector&&o(i.props.hiddenContentSelector,i.props.hiddenContentClass),i}},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.makeSurveyNotification=t.shouldShowNotification=t.SurveyStore=t.todayTimestamp=t.ACTIONS=t.LAST_ACTION=t.SURVEYED=t.DECLINED=t.SITEVIEWS=t.HSBC_SURVEY_FORCE_OVERRIDE=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=n(66),s=n(16),o=n(41),l=t.HSBC_SURVEY_FORCE_OVERRIDE="HSBC_SURVEY_FORCE_OVERRIDE",u=t.SITEVIEWS="counter_siteviews",c=t.DECLINED="counter_declined",h=t.SURVEYED="timestamp_surveyed",d=t.LAST_ACTION="id_last_action",f=t.ACTIONS={yes:"yes",no:"no",firstTime:"first time"},p=t.todayTimestamp=function(){return Date.now()/1e3/60/60/24||0},v=t.SurveyStore=(0,o.makeStorage)("HSBC_SURVEY",o.StorageMechanism.LOCAL),m=function(){return!0===window[l]},g=function(){var e;return e={},i(e,u,parseInt(v.get(u)||0,10)),i(e,c,parseInt(v.get(c)||0,10)),i(e,h,parseInt(v.get(h)||0,10)),i(e,d,v.get(d)||f.firstTime),e},y=t.shouldShowNotification=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.random;if(m())return!0;if(null==t||null==e||null==n)return!1;var i=n()<=e.probability,a=i&&t[u]>=e.minimalSiteViews;switch(t[d]){case f.no:return a&&e.attempts>=t[c]&&e.askAgainWhenDeclined+t[h]<=p();case f.yes:return a&&e.askAgain+t[h]<=p();case f.firstTime:default:return a}},b=function(e){(0,s.defaultCtaPositiveHandler)(e),v.set(h,p()),v.set(c,0),v.set(u,0),v.set(d,f.yes)},w=function(e){(0,s.defaultCtaNegativeHandler)(e),v.set(h,p()),v.increment(c),v.set(u,0),v.set(d,f.no)};t.makeSurveyNotification=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g();(arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return v.increment(u)})(),e&&e.popup&&y(e,t)&&setTimeout(function(){(0,r.makeOnLoadNotification)(a({},e.popup,{ctaPositiveHandler:b,ctaNegativeHandler:w,actionInNewWindow:!0}))},m()?0:e.delay||0)}},function(e,t,n){"use strict";var i=n(191),a=function(e){return e&&e.__esModule?e:{default:e}}(i);window.OnlineBanking=a.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(5),l=i(o),u=n(6),c=i(u),h=n(2),d=i(h),f=n(13),p=i(f),v=n(1),m=void 0,g=void 0,y=function(){function e(){r(this,e),this.urlUtil=new p.default}return s(e,[{key:"activate",value:function(e){var t=this;e&&(this.view=e,this.modalActive=!1,this.bankingLinks=document.querySelectorAll(".online-banking-link"),this.bankingClose=this.view.querySelector(".online-banking__button"),this.navigation=document.querySelector(".nav__wrapper"),this.submenu=document.querySelector(".submenu"),this.header=document.querySelector(".header"),this.headerWasCompressed,this.navButton=document.querySelector(".nav__button"),this.introContainer=document.querySelector(".online-banking-wrapper .container-fluid"),this.dropdownsContainer=document.querySelector(".banking-route .container-fluid"),this.homeButton=document.querySelector(".logo"),this.bankingOptionsChevron=this.view.querySelector(".banking-options button"),this.elementsToHide=[],c.default.popups&&c.default.popups.appendChild(this.view),this.bankingLinks.forEach(function(e){e.addEventListener("click",t.toggleBankingPanel.bind(t))}),this.bankingClose.addEventListener("click",this.toggleBankingPanel.bind(this)),m=new l.default("onlineBanking.onOpen"),g=new l.default("onlineBanking.onClose"),this.isActivated=!0)}},{key:"toggleBankingPanel",value:function(){var e=this;this.modalActive?(this.view.classList.remove("online-banking--active"),this.header.classList.remove("online-banking--active"),d.default.medium.matches&&this.header.classList.remove("fixed"),this.headerWasCompressed&&(this.header.classList.add("compressed"),this.headerWasCompressed=!1),this.navigation.classList.remove("nav-wrapper--hidden"),this.navigation.classList.add("nav__wrapper--lifted"),this.submenu.classList.remove("submenu--hidden"),this.navButton.style.visibility="visible",document.body.removeAttribute("data-online-banking-active"),c.default.popups&&(c.default.showAllBut(["popups"]),c.default.removeClickOutsideAndClose(),c.default.removeCloseOnEscapeKeydown(),c.default.allowFocus(),c.default.removeTabToFrom(this.homeButton,this.bankingClose)),void 0!==this.elementsToHide&&this.elementsToHide.forEach(function(e){return e.style.visibility=""}),this.urlUtil.removeHash(),d.default.medium.matches&&window.removeEventListener("resize",this.resizeEventHandler),document.dispatchEvent(g)):(this.view.classList.add("online-banking--active"),this.header.classList.add("online-banking--active"),this.navigation.classList.remove("nav__wrapper--lifted"),this.header.classList.add("fixed"),this.header.classList.contains("compressed")&&(this.header.classList.remove("compressed"),this.headerWasCompressed=!0),this.navigation.classList.add("nav-wrapper--hidden"),this.submenu.classList.add("submenu--hidden"),this.navButton.style.visibility="hidden",document.body.setAttribute("data-online-banking-active",""),c.default.popups&&(c.default.hideAllBut(["header","popups"]),c.default.clickOutsideAndClose(this,".online-banking",this.toggleBankingPanel.bind(this)),c.default.closeOnEscapeKeydown(this,this.toggleBankingPanel.bind(this)),c.default.restrictFocus(this.view),c.default.tabToFrom(this.homeButton,this.bankingClose)),setTimeout(function(){return e.bankingOptionsChevron.focus()},500),this.elementsToHide=[].concat(a(document.body.children)).filter(function(e){return"true"===e.getAttribute("aria-hidden")}),void 0!==this.elementsToHide&&this.elementsToHide.forEach(function(e){return e.style.visibility="hidden"}),d.default.medium.matches&&(this.resizeEventHandler=(0,v.throttle)(100,this.setConstantLeftMarginForContent),window.addEventListener("resize",function(){return e.resizeEventHandler()}),this.setConstantLeftMarginForContent()),document.dispatchEvent(m)),this.modalActive=!this.modalActive}},{key:"setConstantLeftMarginForContent",value:function(){if(void 0!==this.introContainer&&void 0!==this.dropdownsContainer){this.dropdownsContainer.style.marginLeft="auto",this.dropdownsContainer.style.width="100%";var e=this.dropdownsContainer.getBoundingClientRect().left+"px",t=this.dropdownsContainer.getBoundingClientRect().width+"px";this.introContainer.style.marginLeft=e,this.introContainer.style.width=t,this.dropdownsContainer.style.marginLeft=e,this.dropdownsContainer.style.width=t}}}]),e}();t.default=y},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var a=n(67),r=i(a),s=n(193),o=i(s);window.Pagination=r.default,window.PaginationOverlapping=o.default},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){i(this,e),this.view=null}return a(e,[{key:"activate",value:function(e){this.view=e,document.querySelector("main").classList.add("is-pagination")}}]),e}();t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(195);var a=n(9),r=n(196),s=n(197),o=n(198),l=i(o),u=n(46),c=i(u),h=n(199),d=i(h),f=n(10),p=i(f),v=n(200),m=i(v),g=n(95);window.freezeViewport=(0,c.default)(),window.Reveal=d.default,window.ServerSideDataListing=m.default,(0,a.applyDeviceClasses)(document.querySelector("body")),(0,r.nowrapLinksGlobally)(),p.default.addGlobalListeneres(),(0,s.trackLinks)(),(0,g.enableLazyLoadingOfImages)(),window.enableLazyLoadingOfImages=g.enableLazyLoadingOfImages,window.disableLazyLoadingOfImages=g.disableLazyLoadingOfImages,(window.navigator.userAgent.indexOf("Trident/")||window.navigator.userAgent.indexOf("MSIE "))&&(window.onload=l.default)},function(e,t,n){"use strict";var i=n(94);!function(e){e&&e.__esModule}(i)},function(e,t,n){"use strict";function i(e){document.querySelectorAll(e).forEach(function(e){var t=e.childNodes;if(!t||1===t.length)return void e.classList.add("no-icon");var n=t[0];if(n&&n.nodeType===Node.TEXT_NODE&&"string"==typeof n.nodeValue&&""!==n.nodeValue.trim()&&null===e.querySelector(".nowrap")){var i=n.nodeValue.trim().split(" "),a=i.pop(),r=Array.from(t).map(function(e){return e.outerHTML}),s=i.join(" ")+' <span class="nowrap">'+a+r.join("")+"</span>";e.innerHTML=s}})}function a(){i(".article-sublayout__content > p > a"),i(".sublayout--content > p > a"),i(".highlighted-element > p > a"),i(".accordion__panel-body > p > a, .accordion__panel-text a"),i(".in-page-link:not(.in-page-link--downloads) a, .in-page-link-list:not(.in-page-link-list--downloads) a"),i(".link-with-icon"),i(".th__sort")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i,t.nowrapLinksGlobally=a},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.trackLinks=t.customTrackingLinkHandler=t.extractEventContentWithParentMenuItems=t.findParentMenuAnchor=t.extractEventContent=void 0;var a=n(4),r=n(61),s=n(0),o=function(e,t,n){return{event_type:"click",event_category:"content",event_action:"function"==typeof t?t(e):t,event_content:"function"==typeof n?n(e):e.innerText}},l=t.extractEventContent=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.querySelector(".sr-only")?e.querySelector(".sr-only").innerText:null,i=n?e.innerText.replace(n,"").trim():e.innerText;0===i.length&&(i=e.innerText);var a=e.querySelector(".promo__kicker");if(a){var s=a.innerText;i=i.replace(s,s.toUpperCase())}return(0,r.isInternal)(e.href)&&(!t&&e.hasAttribute("aria-label")?i+=" | "+e.getAttribute("aria-label").trim():n&&n!==i&&(i+=" | "+e.innerText)),i.replace(/\s+/g," ")},u=t.findParentMenuAnchor=function(e){var t=e.closest('ul[class^="nav"]');if(!t)return null;var n=t.closest("li.nav__item");return n?n.querySelector("a"):null},c=t.extractEventContentWithParentMenuItems=function(e){for(var t=l(e),n=u(e);n;){t=n.innerText.replace(/^\s+|\s+$/g,"")+" | "+t,n=u(n)}return t},h=function(e){var t=void 0,n=e.closest(".nav-group");if(n){var i=n.previousElementSibling;i&&(t=i.innerText.trim()+" > Promo | ")}return t+l(e).replace(/\r?\n|\r/gm," ").trim()},d=function(e){return e.closest(".promo")?h(e):e.closest(".breadcrumb__link")?"Breadcrumb | "+l(e):e.closest(".sidenav__link")?"RHS | "+l(e):l(e)},f=function(e){var t=function(){var t=e.closest(".tabbed-content__page");if(!t)return null;var n=t.dataset.index;if(void 0===n)return null;var i=t.closest(".tabbed-content");if(!i)return null;var a=i.querySelector('.tabbed-content__item[data-index="'+n+'"]');return a?l(a,!0):null}();return t?t+" | "+e.innerText:e.innerText},p=function(e){return[".highlight__heading",".highlight__text",".highlight__link"].map(function(t){return e.querySelector(t)}).map(function(e){return e?e.innerText:""}).join(" | ")},v=[{selector:".header",except:".highlight, .nav > .nav__item > .nav__link",props:{eventAction:"GlobalMenu",eventContent:function(e){return e.classList.contains("promo")?h(e):c(e)}}},{selector:".highlight",props:{eventAction:"GlobalMenu",eventContent:p}},{selector:".footer",props:{eventAction:"GlobalFooter",eventContent:l}},{selector:".dotted-navigation",props:{eventAction:"DottedNav",eventContent:l}},{selector:".accordion__heading",props:{eventAction:f}},{selector:null,lateSelector:"[data-type=embed]",props:{eventAction:"EmbededVideo",eventContent:function(e){return d(e)}}},{selector:null,except:".header, .highlight, .footer, .dotted-navigation, .accordion__heading, [data-type=embed], .related-videos, .location-selector__menu, .download-basket-docs",props:{eventAction:function(e){return(0,r.isInternal)(e.href)?"onsite":"offsite"},eventContent:function(e){return d(e)}}}],m=null,g=null,y=t.customTrackingLinkHandler=function(e,t,n){return function(i){if(e){var r=i.target;if((!n||r.closest(n))&&(!t||!r.closest(t))){var l=(0,s.getAnchor)(r);null!==l&&l!==m&&(g&&clearTimeout(g),m=l,g=setTimeout(function(){return m=null},250),(0,a.trackEvent)(o(l,e.eventAction,e.eventContent)))}}}};t.trackLinks=function(){v.forEach(function(e){var t=e.selector,n=e.lateSelector,a=e.except,r=e.props;(null===t?[document]:[].concat(i(document.querySelectorAll(t)))).forEach(function(e){return e.addEventListener("click",y(r,a,n),{capture:!0})})})}},function(e,t,n){"use strict";function i(){var e=(0,a.getScrollTop)(),t=document.querySelector("body");t.style.display="none",t.offsetHeight,t.style.display="",window.scrollTo(0,e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=n(0)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(7),l=i(o),u=n(2),c=i(u),h=n(10),d=i(h),f=function(){function e(){r(this,e),this.isActivated=!1,this.current=0,this.increment=0,this.mobile=3,this.desktop=6,this.items=[],this.buttons=[],this.bound={}}return s(e,[{key:"updateCurrent",value:function(e,t){return e+t}},{key:"lowerLimit",value:function(e,t){return e<t?0:e}},{key:"updateButtons",value:function(e,t,n){return e.map(function(e){var i="reveal"===e.getAttribute("data-reveal-button"),a="true"===e.getAttribute("aria-hidden");return i?n>=t.length&&!a?e.setAttribute("aria-hidden","true"):e.setAttribute("aria-hidden","false"):0!==n||a?e.setAttribute("aria-hidden","false"):e.setAttribute("aria-hidden","true"),e})}},{key:"hide",value:function(e,t){return e.filter(function(e,n){return n>=t}).map(function(e){e.setAttribute("aria-hidden","true")})}},{key:"reveal",value:function(e,t){var n=!1,i=!1;return e.filter(function(e,n){return n<t}).map(function(e,t){n="false"!==e.getAttribute("aria-hidden"),e.setAttribute("aria-hidden","false"),!i&&n&&(i=!0,e.hasAttribute("tabindex")||e.setAttribute("tabindex",-1),d.default.focusWithoutScroll(e))})}},{key:"click",value:function(e){e.preventDefault();var t=e.target||e.srcElement;t&&"reveal"===t.getAttribute("data-reveal-button")?this.current=this.lowerLimit(this.updateCurrent(this.current,this.increment),0):this.current=this.lowerLimit(this.updateCurrent(this.current,-this.increment),0),this.hide(this.items,this.current),this.reveal(this.items,this.current),this.updateButtons(this.buttons,this.items,this.current)}},{key:"keydown",value:function(e){if((0,l.default)(e.keyCode,["spacebar","enter"])){e.preventDefault();var t=e.target||e.srcElement;t&&"reveal"===t.getAttribute("data-reveal-button")?this.current=this.lowerLimit(this.updateCurrent(this.current,this.increment),0):this.current=this.lowerLimit(this.updateCurrent(this.current,-this.increment),0),this.hide(this.items,this.current),this.reveal(this.items,this.current),this.updateButtons(this.buttons,this.items,this.current)}}},{key:"resize",value:function(e){return e&&!e.matches?this.increment=this.desktop:this.increment=this.mobile}},{key:"activate",value:function(e){var t=this;e&&(this.view=e,this.mobile=+e.getAttribute("data-reveal-mobile")||this.mobile,this.desktop=+e.getAttribute("data-reveal-desktop")||this.desktop,this.buttons=[].concat(a(e.querySelectorAll("[data-reveal-button]"))),this.items=[].concat(a(e.querySelectorAll("[data-reveal-item]"))).filter(function(e){return"true"===e.getAttribute("aria-hidden")}),this.items.length<1||(this.buttons.length>0&&(this.bound.click=this.click.bind(this),this.bound.keydown=this.keydown.bind(this),this.buttons.forEach(function(e){e.addEventListener("click",t.bound.click),e.addEventListener("keydown",t.bound.keydown)}),this.updateButtons(this.buttons,this.items,this.current)),this.bound.resize=this.resize.bind(this),c.default.small.addListener(this.bound.resize),this.bound.resize(c.default.small),this.isActivated=!0))}}]),e}();t.default=f},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(63),o=i(s),l=n(13),u=i(l),c=function(){function e(t){a(this,e),this.isActivated=!1,this.view=null,this.filter=null,this.urlUtil=new u.default}return r(e,[{key:"activate",value:function(e){if(e){this.view=e;var t=this.view.querySelector(".table__pagination");if(t){var n=t.dataset;if(!1===this.urlUtil.validateQueryParameters(n))return}var i=this.view.querySelector(".filter-module");i&&(this.filter=new o.default,this.filter.activate(i,{serverReload:!0})),this.isActivated=!0}}}]),e}();t.default=c},function(e,t,n){"use strict";var i=n(202),a=function(e){return e&&e.__esModule?e:{default:e}}(i);window.AccordionCollapseAllButton=a.default},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){i(this,e)}return a(e,[{key:"activate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{expandText:"",expandAria:"",collapseText:"",collapseAria:""};this.button=e,this.expandText=n.expandText,this.expandAria=n.expandAria,this.collapseText=n.collapseText,this.collapseAria=n.collapseAria,this.buttonText=this.button.querySelector(".text"),this.buttonAria=this.button.querySelector(".sr-only"),this.accordionPanels=document.querySelectorAll('.accordion-module [data-toggle="collapse"]'),this.button.addEventListener("click",function(){t.toggle()})}},{key:"toggle",value:function(){var e="true"===this.button.getAttribute("aria-expanded");this.accordionPanels.forEach(function(t){t.Collapse&&(e||"function"!=typeof t.Collapse.show||"true"===t.getAttribute("aria-expanded")?e&&"function"==typeof t.Collapse.hide&&t.Collapse.hide():t.Collapse.show())}),e?(this.buttonText.innerText=this.expandText,this.buttonAria.innerText=this.expandAria,this.button.setAttribute("aria-expanded","false")):(this.buttonText.innerText=this.collapseText,this.buttonAria.innerText=this.collapseAria,this.button.setAttribute("aria-expanded","true"))}}]),e}();t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var a=n(204),r=i(a),s=n(205),o=i(s);window.JobListing=r.default,window.ProgrammeDetails=o.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(2),o=i(s),l=n(1),u=(n(0),n(96)),c=i(u),h=n(62),d=n(42),f=n(44),p="data-external-link",v="data-external-text",m=function(){function e(){var t=this;a(this,e),this.onRegionChange=function(){var e=t.regionSelect.getValue(),n=t.regionSelect.getCurrentOption(),i=n.attributes[p],a=n.attributes[v];""===e||"global"===e.toLowerCase()?t.setGlobal():i&&a?t.setExternal(n.text,a.value,i.value):t.setNormal(),t.setJobServiceLink()},this.view=null,this.bound={}}return r(e,[{key:"activate",value:function(e){var t=this;if(this.view=e,this.info=this.view.querySelector(".job-listing__info"),this.externalInfoRegion=this.view.querySelector(".job-listing__info--external__region"),this.externalInfoLink=this.view.querySelector(".job-listing__info--external__link"),this.externalInfoLinkText=this.view.querySelector(".job-listing__info--external__link__text"),this.globalInfo=this.view.querySelector(".job-listing__info--global"),this.globalInfoPlaceholderBig=this.view.querySelector(".job-listing__info-placeholder--big"),this.globalInfoPlaceholderSmall=this.view.querySelector(".job-listing__info-placeholder--small"),this.fieldSelect=new c.default(this.view.querySelector(".job-listing__field")),this.regionSelectWasPreselected=this.view.querySelectorAll(".job-listing__region option[selected=selected]").length>0,this.regionSelect=new c.default(this.view.querySelector(".job-listing__region")),!this.fieldSelect||!this.regionSelect)return!1;this.jobServiceButton=this.view.querySelector(".job-listing__confirm"),this.jobService={url:this.view.getAttribute("data-job-service-url"),regionParameterKey:this.view.getAttribute("data-job-service-region-parameter-key"),fieldParameterKey:this.view.getAttribute("data-job-service-field-parameter-key"),offersLanguageParmeterKey:this.view.getAttribute("data-job-service-language-parameter-key")},this.attachRegion(),this.attachField(),this.attachResize(),this.regionSelectWasPreselected||(this.trySettingUserRegion(),document.addEventListener(h.GEO_IP_COOKIE_READY_EVENT,function(){t.trySettingUserRegion()}))}},{key:"attachRegion",value:function(){this.regionSelect.getSelect().addEventListener("change",this.onRegionChange),this.onRegionChange()}},{key:"attachField",value:function(){var e=this;this.fieldSelect.getSelect().addEventListener("change",function(){e.setJobServiceLink()}),this.setJobServiceLink()}},{key:"trySettingUserRegion",value:function(){var e=(0,d.getCookie)(h.GEO_IP_COOKIE);if(e){var t=this.regionSelect.getOptionByValue(e);this.regionSelect.activateOption(t)}}},{key:"setGlobal",value:function(){this.view.setAttribute("data-type","global")}},{key:"setExternal",value:function(e,t,n){this.externalInfoRegion.innerText=e,this.externalInfoLinkText.innerText=t,this.externalInfoLink.attributes.href.value=n,this.view.setAttribute("data-type","external")}},{key:"setNormal",value:function(){this.view.setAttribute("data-type","normal")}},{key:"attachResize",value:function(){this.bound.windowResize||(this.bound.windowResize=this.onWindowResize.bind(this));var e=(0,l.throttle)(20,this.bound.windowResize);window.addEventListener("resize",e),e()}},{key:"onWindowResize",value:function(){var e=o.default.small.matches;e?(this.view.classList.remove("mql-md"),this.view.classList.add("mql-sm")):(this.view.classList.remove("mql-sm"),this.view.classList.add("mql-md")),e||this.view.classList.contains("force-small")?(this.view.classList.remove("is-big"),this.view.classList.add("is-small"),this.globalInfoPlaceholderSmall.appendChild(this.globalInfo)):(this.view.classList.remove("is-small"),this.view.classList.add("is-big"),this.globalInfoPlaceholderBig.appendChild(this.globalInfo))}},{key:"setJobServiceLink",value:function(){if(!this.jobService||!this.jobService.url||!this.jobServiceButton)return!1;var e={},t=this.regionSelect.getCurrentOption();t&&(this.jobService.regionParameterKey&&t.attributes["data-taleo-id"]&&(e[this.jobService.regionParameterKey]=t.attributes["data-taleo-id"].value),this.jobService.offersLanguageParmeterKey&&t.attributes["data-job-offers-language"]&&(e[this.jobService.offersLanguageParmeterKey]=t.attributes["data-job-offers-language"].value));var n=this.fieldSelect.getCurrentOption();n&&this.jobService.fieldParameterKey&&n.attributes["data-taleo-id"]&&(e[this.jobService.fieldParameterKey]=n.attributes["data-taleo-id"].value);var i=this.jobService.url+"?"+(0,f.buildQuery)(e);this.jobServiceButton.setAttribute("href",i)}}]),e}();t.default=m},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(43),u=i(l),c=n(0),h=n(10),d=i(h),f=n(6),p=i(f),v=n(7),m=i(v),g="programme-details",y=g+"--interactive",b=g+"__selector",w=b+"__list",k=w+"--force-fit",_=b+"__dropdown",E=_+"__item-heading",S=b+"__list",C=b+"--opened",L=b+"--selected",A=g+"__selected-item",T=function(e,t){return"/api/programme/programme-details?programmeId="+e+"&location="+t},x={headingLabel:"Programme:",requirementsLabel:"Requirements:",languagesLabel:"Languages:",openLabel:"Applications open:",closeLabel:"Applications close:",actionsLabel:"Actions:",startDateLabel:"Start date:"},P=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{programmeId:"",location:"",dictionary:null};if(r(this,e),t.classList.contains(g)){this.view=t;var i=this.view.classList.contains(y);if(this.selectedItem=(0,c.getElement)(A,this.view),!i)return void this.wrapLinks();this.selector=(0,c.getElement)(b,this.view),this.selectorList=(0,c.getElement)(w,this.view),this.dropdown=(0,c.getElement)(_,this.view),this.dropdownItem=(0,c.getElement)(E,this.view),this.dropdownLink=this.dropdown.querySelector("a"),this.list=(0,c.getElement)(S,this.view),this.listLinks=this.list.querySelectorAll("a");var a=n.programmeId,s=n.location,o=n.dictionary||x;Object.keys(n).filter(function(e){return/^dictionary/.test(e)}).forEach(function(e){var t="dictionary".length,i=e.substring(t,t+1).toLowerCase()+e.substring(t+1);o[i]=n[e]}),this.props={programmeId:a||"",location:s||"",dictionary:o},this.state={isOpened:!1},this.attachEvents()}}return o(e,[{key:"attachEvents",value:function(){var e=this;this.dropdownLink.addEventListener("click",function(t){t.preventDefault(),e.selector.classList.contains(C)?e.close():e.open()}),this.listLinks.forEach(function(t){t.addEventListener("click",function(n){n.preventDefault(),e.select(t)})}),document.addEventListener("keyup",function(t){(0,m.default)(t.keyCode,"escape")&&e.state.isOpened&&e.close()}),document.addEventListener("click",function(t){!e.dropdown.contains(t.target)&&e.state.isOpened&&e.close()})}},{key:"open",value:function(){this.selector.classList.add(C),this.dropdownLink.setAttribute("aria-expanded","true"),p.default.tabToFrom(this.dropdownLink,this.listLinks[this.listLinks.length-1]),this.state.isOpened=!0,this.willSelectorListFit()||this.selectorList.classList.add(k)}},{key:"close",value:function(){this.selector.classList.remove(C),this.selectorList.classList.remove(k),this.dropdownLink.setAttribute("aria-expanded","false"),p.default.removeTabToFrom(this.dropdownLink,this.listLinks[this.listLinks.length-1]),this.state.isOpened=!1}},{key:"select",value:function(e){this.close(),this.selector.classList.add(L);var t=(0,c.getTextOf)("option-name",e);this.dropdownItem.firstElementChild.innerHTML=t,this.props.location=t.toUpperCase(),d.default.scrollTo(this.dropdown),this.getDetails()}},{key:"getDetails",value:function(){var e=this,t=this.props,n=t.programmeId,i=t.location,a=t.dictionary;"string"==typeof n&&0!==n.length&&"string"==typeof i&&0!==i.length&&(this.selectedItem.innerHTML='\n<div class="api-fetching">\n    Loading...\n</div>\n',(0,u.default)(T(this.props.programmeId,this.props.location)).then(function(e){return e.ok?e.json():Promise.reject("Programme details: Could not retrieve the programme details.")}).then(function(e){if(!Array.isArray(e))return Promise.reject("Programme details: Invalid API response.");var t=Handlebars.templates["programme-details-selected-item-template"],n=e.map(function(e){return s({},a,e)});return Promise.resolve(t(n))}).then(function(t){e.selectedItem.innerHTML=t,e.wrapLinks()}).catch(function(t){e.selectedItem.innerHTML='\n<div class="api-error">\n    No results found.\n</div>\n',console.warn(t)}))}},{key:"willSelectorListFit",value:function(){var e=document.querySelector("main"),t=e.getBoundingClientRect(),n=this.selectorList.getBoundingClientRect();return t.height+t.top-(n.height+n.top)>=0}},{key:"wrapLinks",value:function(){[].concat(a(this.selectedItem.querySelectorAll(".programme-details tr:not(.actions) td > a, .programme-details tr:not(.actions) td p > a"))).forEach(function(e){e.outerHTML='<div class="in-page-link">'+e.outerHTML+"</div>"})}}]),e}();t.default=P},function(e,t,n){"use strict";var i=n(207),a=function(e){return e&&e.__esModule?e:{default:e}}(i);window.DownloadBasket=a.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.getStore=t.STORAGE_KEY_DOCUMENTS=t.STORAGE_KEY_INTRO_DONE=t.STATE=void 0;var s,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(5),u=i(l),c=n(12),h=i(c),d=n(16),f=n(0),p=n(6),v=i(p),m=n(2),g=i(m),y=n(1),b=n(4),w=i(b),k=n(41),_=t.STATE={HIDDEN:"hidden",COLLAPSED:"collapsed",EXPANDED:"expanded"},E=t.STORAGE_KEY_INTRO_DONE="INTRO_DONE",S=t.STORAGE_KEY_DOCUMENTS="DOCUMENTS",C=(s={},r(s,k.StorageMechanism.LOCAL,(0,k.makeStorage)("HSBC_DOWNLOAD_BASKET",k.StorageMechanism.LOCAL)),r(s,k.StorageMechanism.SESSION,(0,k.makeStorage)("HSBC_DOWNLOAD_BASKET",k.StorageMechanism.SESSION)),s),L=t.getStore=function(e){return C[e?k.StorageMechanism.LOCAL:k.StorageMechanism.SESSION]},A=function(){function e(){var t=this;a(this,e),this.scrollBasketBody=function(e){if(!e.target.closest(".download-basket__body")&&(e.target===t.view||e.target.closest(".download-basket__footer"))){var n="DOMMouseScroll"===e.type?-40*e.detail:e.wheelDelta;t.downloadBasketBody.scrollTop=t.downloadBasketBody.scrollTop-n}},this.popups=v.default,this.state=_.HIDDEN,this.documents={count:0,size:0,pages:[]},this.openEvent=new u.default("downloadBasket.onOpen"),this.closeEvent=new u.default("downloadBasket.onClose")}return o(e,[{key:"activate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.view=e,this.configurable={limitSize:parseInt(n.limitSize,10),limitCount:parseInt(n.limitCount,10)};var i=n.documentsLabel?n.documentsLabel.split("|"):[];this.dictionary={documentsLabelPlural:i[0],documentsLabelSingular:i[i.length>1?1:0],downloadText:n.downloadText,removeText:n.removeText,addAnnouncement:n.addAnnouncement,removeAnnouncement:n.removeAnnouncement,removeAllAnnouncement:n.removeAllAnnouncement,introTitle:n.introTitle,introDescription:n.introDescription,introDontShow:n.introDontShow,introCtaPositiveLabel:n.introCtaPositiveLabel,limitExceededTitle:n.limitTitle,limitExceededDescription:n.limitDescription},this.notification=this.view.querySelector(".download-basket__notification"),this.expandButton=this.view.querySelector(".download-basket__header__expand-basket"),this.downloadBasketHeader=this.view.querySelector(".download-basket__header-wrapper"),this.downloadBasketHeaderTitle=this.view.querySelector(".download-basket__header__title"),this.countElement=this.view.querySelector(".download-basket__header__title__count"),this.countIconElement=this.view.querySelector(".download-basket__header__icon__count"),this.sizeElement=this.view.querySelector(".download-basket__header__title__size"),this.downloadHeaderButton=this.view.querySelector(".download-basket__header__buttons__download"),this.openButton=this.view.querySelector(".download-basket__header__buttons__open"),this.closeButton=this.view.querySelector(".download-basket__header__buttons__close"),this.downloadBasketBody=this.view.querySelector(".download-basket__body"),this.documentsContainer=this.view.querySelector(".download-basket-docs"),this.downloadBasketFooter=this.view.querySelector(".download-basket__footer"),this.removeButton=this.view.querySelector(".download-basket__footer__remove"),this.downloadButton=this.view.querySelector(".download-basket__footer__download-form__download"),this.downloadForm=this.view.querySelector(".download-basket__footer__download-form"),this.downloadFormDocuments=this.view.querySelector(".download-basket__footer__download-form__documents"),this.downloadButton.addEventListener("click",function(){return t.downloadAllDocuments()}),this.downloadHeaderButton.addEventListener("click",function(){return t.downloadAllDocuments()}),this.removeButton.addEventListener("click",function(){return t.removeAllDocuments(!0)}),this.openButton.addEventListener("click",function(){return t.openBasket()}),this.closeButton.addEventListener("click",function(){return t.closeBasket()}),this.announcer=new h.default(this.view,"assertive"),this.initializeAddToDownloadBasketCheckboxes(),this.restoreBasketStateFromSession(),this.initializeIntroducingTheFeatureNotification()}},{key:"initializeAddToDownloadBasketCheckboxes",value:function(){var e=this,t={title:document.title.split("|")[0].trim(),pathname:window.location.pathname,search:window.location.search},n=document.querySelectorAll(".add-to-download-basket > input:not(.is-active)");n.forEach(function(n){var i={page:t,document:{id:n.value,url:n.dataset.url,title:n.dataset.title,description:n.dataset.description,size:parseInt(n.dataset.size,10)}};n.addEventListener("change",function(){n.checked?e.addDocument(i):e.removeDocument(i)}),n.classList.add("is-active")}),document.addEventListener("tableManager.onLoadMore",function(){return e.initializeAddToDownloadBasketCheckboxes()}),this.isDownloadFunctionalityAvailable=this.isDownloadFunctionalityAvailable||n.length>0,this.firstAdToBasketInput=n.length>0?n[0]:null}},{key:"restoreBasketStateFromSession",value:function(){var t=this,n=L(!1).get(S);if(null!==n){try{n=JSON.parse(n)}catch(e){n={}}n.pages&&0!==n.pages.length&&(this.isDownloadFunctionalityAvailable||this.initMiniBasketState(),n.pages.forEach(function(n){n.documents.forEach(function(i){t.addDocument({page:n,document:i},!0),e.setAddToDownloadBasketCheckboxChecked(i.url,!0)})}))}}},{key:"initMiniBasketState",value:function(){var e=this,t=function t(){e.view.classList.remove("is-mini"),e.expandButton.removeEventListener("click",t),e.downloadBasketHeaderTitle.focus(),setTimeout(function(){e.expandButton.style.display="none"},100)};this.view.classList.add("is-mini"),this.expandButton.style.display="",this.expandButton.addEventListener("click",t)}},{key:"initializeIntroducingTheFeatureNotification",value:function(){null!==this.firstAdToBasketInput&&(L(!0).get(E)||L(!1).get(E)||(this.introScrollEventHandler=(0,y.throttle)(20,this.showIntroducingTheFeatureNotification.bind(this)),document.addEventListener("scroll",this.introScrollEventHandler)))}},{key:"showIntroducingTheFeatureNotification",value:function(){var e=this;if(!((0,f.getScrollTop)()+window.innerHeight/2<=(0,f.getOffsetTop)(this.firstAdToBasketInput))){document.removeEventListener("scroll",this.introScrollEventHandler);var t=function(t){window.removeEventListener("resize",e.resizeEventHandler),t.close(),t.unmount()},n=(0,d.makePopupNotification)({popupClass:"download-basket-intro",title:'<span class="popup-notification__title__icon hsbc-tick" aria-hidden="true"></span><span class="popup-notification__title__text">'+this.dictionary.introTitle+"</span>",description:this.dictionary.introDescription,checkboxes:[{label:this.dictionary.introDontShow}],ctaPositiveLabel:this.dictionary.introCtaPositiveLabel,omitCtaNegative:!0,ctaPositiveHandler:function(e){var n=e.checkboxes[0].input.checked;L(n).set(E,!0),t(e)},ctaNegativeHandler:t,caller:this.firstAdToBasketInput}),i=function(){var t=0;if(g.default.medium.matches){var i=e.firstAdToBasketInput.getBoundingClientRect();t=i.left+n.element.offsetWidth/2+40<window.innerWidth?i.left+e.firstAdToBasketInput.clientWidth/2:window.innerWidth-n.element.offsetWidth/2-40}n.element.style.left=t+"px"};n.mount(),n.open(),this.resizeEventHandler=(0,y.throttle)(20,i),window.addEventListener("resize",this.resizeEventHandler),i()}}},{key:"changeState",value:function(e){var t=this,n=this.state;this.state=e,n===_.EXPANDED&&e===_.COLLAPSED&&this.view.classList.add("is-collapsing"),n===_.HIDDEN?(this.view.style.display="",setTimeout(function(){t.view.classList.remove("is-"+n),t.view.classList.add("is-"+t.state)},200)):(this.view.classList.remove("is-"+n),this.view.classList.add("is-"+this.state)),e===_.HIDDEN?setTimeout(function(){t.view.style.display=t.state===_.HIDDEN?"none":""},250):n===_.EXPANDED&&e===_.COLLAPSED&&setTimeout(function(){return t.view.classList.remove("is-collapsing")},400)}},{key:"toggleDisplayInPopup",value:function(e){this.popups.popups&&this.isShownInPopup!==e&&(void 0!==this.isShownInPopup||e)&&(e?(this.turnStickyWatcherOn(!1),this.toggleScrollBasketBody(!0),this.viewParent=this.view.parentElement,this.viewNextSibling=this.view.nextElementSibling,this.popups.popups.appendChild(this.view),this.popups.hideAllBut(["popups","cookie-banner"]),this.popups.showDim(),this.popups.restrictFocus(".download-basket",this.downloadBasketHeaderTitle),this.popups.tabToFrom(this.downloadBasketHeaderTitle,this.removeButton),this.popups.closeOnEscapeKeydown(this,this.closeBasket.bind(this)),this.popups.clickOutsideAndClose(this,".download-basket",this.closeBasket.bind(this)),document.dispatchEvent(this.openEvent)):(this.turnStickyWatcherOn(!0),this.toggleScrollBasketBody(!1),this.viewParent.insertBefore(this.view,this.viewNextSibling),this.popups.showAllBut("popups"),this.popups.hideDim(),this.popups.allowFocus(),this.popups.removeTabToFrom(this.downloadBasketHeaderTitle,this.removeButton),this.popups.removeCloseOnEscapeKeydown(),this.popups.removeClickOutsideAndClose(),document.dispatchEvent(this.closeEvent)),this.isShownInPopup=e)}},{key:"openBasket",value:function(){var t=this;this.toggleDisplayInPopup(!0),setTimeout(function(){return t.changeState(_.EXPANDED)},10),this.fixBodyHeight(450),this.closeButton.style.display="",this.closeButton.focus(),setTimeout(function(){t.openButton.style.display="none"},100),e.trackEvent("Open basket")}},{key:"closeBasket",value:function(){var t=this;this.toggleDisplayInPopup(!1),setTimeout(function(){return t.changeState(_.COLLAPSED)},10),this.openButton.style.display="",this.openButton.focus(),setTimeout(function(){t.closeButton.style.display="none"},100),e.trackEvent("Close basket")}},{key:"determineIfSticky",value:function(){var e=(0,f.getScrollTop)()+window.innerHeight;e+(g.default.medium.matches&&this.view.classList.contains("is-mini")?0:this.view.clientHeight)>(0,f.getOffsetTop)(document.querySelector("footer.footer"))&&this.view.classList.add("is-sticky"),e<(0,f.getOffsetTop)(this.view)+this.view.clientHeight&&this.view.classList.remove("is-sticky")}},{key:"turnStickyWatcherOn",value:function(e){var t=this;void 0===this.stickyScrollEventHandler&&(this.stickyScrollEventHandler=(0,y.throttle)(20,this.determineIfSticky.bind(this))),e?(setTimeout(function(){return t.determineIfSticky()},400),document.addEventListener("scroll",this.stickyScrollEventHandler)):(this.view.classList.remove("is-sticky"),document.removeEventListener("scroll",this.stickyScrollEventHandler))}},{key:"toggleScrollBasketBody",value:function(e){e?(document.addEventListener("mousewheel",this.scrollBasketBody),document.addEventListener("DOMMouseScroll",this.scrollBasketBody)):(document.removeEventListener("mousewheel",this.scrollBasketBody),document.removeEventListener("DOMMouseScroll",this.scrollBasketBody))}},{key:"fixBodyHeight",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.downloadBasketBody.style.height="",setTimeout(function(){e.view.clientHeight<e.downloadBasketHeader.clientHeight+e.downloadBasketBody.clientHeight+e.downloadBasketFooter.clientHeight&&(e.downloadBasketBody.style.height=e.view.clientHeight-e.downloadBasketHeader.clientHeight-e.downloadBasketFooter.clientHeight+1+"px")},t)}},{key:"getDocumentLabel",value:function(e){return 1===e?this.dictionary.documentsLabelSingular:this.dictionary.documentsLabelPlural}},{key:"updateCounters",value:function(t,n){this.documents.count+=t,this.documents.size+=n,this.countElement.innerText=this.documents.count+" "+this.getDocumentLabel(this.documents.count),this.countIconElement.innerText=this.documents.count,this.sizeElement.innerText=e.formatBytes(this.documents.size,1),L(!1).set(S,JSON.stringify(this.documents))}},{key:"showLimitExceededNotification",value:function(t){void 0===this.limitExceededNotification?(this.limitExceededNotification=(0,d.makePopupNotification)({title:this.dictionary.limitExceededTitle,description:this.dictionary.limitExceededDescription.replace("{count}",this.configurable.limitCount).replace("{size}",e.formatBytes(this.configurable.limitSize,1)),omitCtaNegative:!0,ctaNegativeHandler:function(e){return e.close()},caller:t}),this.limitExceededNotification.mount()):this.limitExceededNotification.caller=t,this.limitExceededNotification.open()}},{key:"handleLimitExceeded",value:function(t){if(this.documents.count+1>this.configurable.limitCount||this.documents.size+t.size>this.configurable.limitSize){var n=e.getAddToDownloadBasketCheckbox(t.url);return this.showLimitExceededNotification(n),e.setAddToDownloadBasketCheckboxChecked(t.url,!1),!0}return!1}},{key:"renderPage",value:function(t){void 0===this.pageTemplate&&(this.pageTemplate=Handlebars.templates["download-basket-page-template"]);var n={text:t.title,link:""+t.pathname+t.search,documentsCount:"1 "+this.dictionary.documentsLabelSingular};this.documentsContainer.insertAdjacentHTML("beforeend",this.pageTemplate(n)),this.documentsContainer.querySelector(".download-basket-docs__page:last-child > a").addEventListener("click",function(t){return e.trackLinkEvent(t.target)})}},{key:"getPageElement",value:function(e){var t=this.documents.pages.indexOf(e);return this.documentsContainer.querySelector(".download-basket-docs__page:nth-child("+(t+1)+")")}},{key:"updatePageHeader",value:function(e){this.getPageElement(e).querySelector(".download-basket-docs__page__doc-count").innerText=e.documents.length+" "+this.getDocumentLabel(e.documents.length)}},{key:"renderDocument",value:function(t,n){var i=this;void 0===this.documentTemplate&&(this.documentTemplate=Handlebars.templates["download-basket-document-template"]);var a={url:t.url,title:t.title,description:t.description,downloadText:this.dictionary.downloadText,removeText:this.dictionary.removeText},r=this.getPageElement(n).querySelector("ul");r.insertAdjacentHTML("beforeend",this.documentTemplate(a));var s=r.querySelector(".download-basket-docs__doc:last-child");s.querySelector(".download-basket-docs__doc__remove").addEventListener("click",function(a){a.preventDefault(),a.stopImmediatePropagation(),i.removeDocument({page:{pathname:n.pathname},document:{url:t.url}}),e.setAddToDownloadBasketCheckboxChecked(t.url,!1)}),s.querySelector("a").addEventListener("click",function(t){return e.trackLinkEvent(t.target)})}},{key:"addDocument",value:function(e,t){var n=this;if(!this.handleLimitExceeded(e.document)){var i=this.documents.pages.find(function(t){return t.pathname===e.page.pathname});void 0===i&&(i=e.page,i.documents=[],this.documents.pages.push(i),this.renderPage(i)),i.documents.push(e.document),this.renderDocument(e.document,i),1!==i.documents.length&&this.updatePageHeader(i),this.updateCounters(1,e.document.size),this.state===_.HIDDEN&&(t||(this.notification.classList.add("is-visible"),setTimeout(function(){return n.notification.classList.remove("is-visible")},2100)),this.openButton.style.display="",this.closeButton.style.display="none",this.changeState(_.COLLAPSED),this.turnStickyWatcherOn(!0)),t||this.announcer.announce(this.dictionary.addAnnouncement.replace("{total}",this.documents.count).replace("{documentname}",this.getDocumentLabel(this.documents.count)))}}},{key:"removeDocument",value:function(t){if(1===this.documents.count)return void this.removeAllDocuments(!1);var n=this.documents.pages.find(function(e){return e.pathname===t.page.pathname});if(void 0!==n){var i=this.getPageElement(n),a=n.documents.find(function(e){return e.url===t.document.url});if(1===n.documents.length)i.remove(),this.documents.pages.splice(this.documents.pages.indexOf(n),1);else{e.getDocumentElement(a,i).remove(),n.documents.splice(n.documents.indexOf(a),1),this.updatePageHeader(n)}this.fixBodyHeight(),this.updateCounters(-1,-1*a.size),this.announcer.announce(this.dictionary.removeAnnouncement.replace("{total}",this.documents.count).replace("{documentname}",this.getDocumentLabel(this.documents.count)))}}},{key:"removeAllDocuments",value:function(t){this.documentsContainer.innerHTML="",this.documents.count=0,this.documents.size=0,this.documents.pages=[],this.updateCounters(0,0),this.toggleDisplayInPopup(!1),this.changeState(_.HIDDEN),this.turnStickyWatcherOn(!1),e.getCheckedAddToDownloadBasketCheckboxes().forEach(function(e){e.checked=!1}),this.announcer.announce(this.dictionary.removeAllAnnouncement),t&&e.trackEvent("RemoveAll")}},{key:"downloadAllDocuments",value:function(){var t=[],n=[];this.documents.pages.forEach(function(e){e.documents.forEach(function(e){t.push(e.url),n.push(e.id)})}),this.downloadFormDocuments.value=n.join("|"),this.downloadForm.submit(),e.trackEvent(t)}}],[{key:"getCheckedAddToDownloadBasketCheckboxes",value:function(){return document.querySelectorAll(".add-to-download-basket > input:checked")}},{key:"getAddToDownloadBasketCheckbox",value:function(e){return document.querySelector('.add-to-download-basket > input[data-url="'+e+'"]')}},{key:"setAddToDownloadBasketCheckboxChecked",value:function(t,n){var i=e.getAddToDownloadBasketCheckbox(t);null!==i&&(i.checked=n)}},{key:"formatBytes",value:function(e,t){if(0===e)return"0B";var n=t<=0?0:t||2,i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],a=Math.floor(Math.log(e)/Math.log(1024));return""+parseFloat((e/Math.pow(1024,a)).toFixed(n))+i[a]}},{key:"trackEvent",value:function(e){var t={event_action:"DownloadBasket",event_category:"content",event_type:"click",event_content:e};w.default.trackEvent(t)}},{key:"trackLinkEvent",value:function(e){var t={event_action:"onsite",event_category:"content",event_type:"click",event_content:"DownloadBasket|"+e.innerText};w.default.trackEvent(t)}},{key:"getDocumentElement",value:function(e,t){return t.querySelector('.download-basket-docs__doc[data-id="'+e.url+'"]')}}]),e}();t.default=A},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var a=n(209),r=i(a),s=n(214),o=i(s),l=n(215),u=i(l),c=n(216),h=i(c),d=n(217),f=i(d),p=n(218),v=i(p),m=n(219),g=i(m);window.AllNewsAndInsight=r.default,window.HeroBanner=o.default,window.ImageTitle=u.default,window.MosaicImage=h.default,window.PromoBox=f.default,window.ResponsiveHeading=v.default,window.SimpleFactbox=g.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(210),o=i(s),l=n(64),u=i(l),c=n(13),h=i(c),d=n(10),f=i(d),p=n(47),v=n(95),m={MONTH:"month",TOPIC:"topic"},g=function(){function e(t){a(this,e),this.repository=t,this.urlUtil=new h.default}return r(e,[{key:"activate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.serviceUrl;this.view=e,i&&!this.repository&&(this.repository=new o.default(i)),this.dataContainer=this.view.querySelector(".all-news-and-insight__data"),this.isMobile=window.innerWidth<=767,this.filterView=this.view.querySelector(".filter-module"),this.filter=new u.default,this.filter.activate(this.filterView,{serverReload:!0}),this.loadMoreButton=this.view.querySelector(".all-news-and-insight__load-more"),this.loadMoreButton.addEventListener("click",function(){return t.loadMore()}),this.loadMoreButtonAria=this.view.querySelector(".all-news-and-insight__load-more-aria"),this.isLoadingData=!1,this.lang=document.getElementsByTagName("html")[0].getAttribute("lang")||"en-US",this.topic=this.urlUtil.getParameterByName("topic");var a=this.filterView.querySelector(".search-filter--active");null!==this.topic&&null!==a&&this.topic===a.getAttribute("data-value")?this.initializeTopicView():this.initializeMonthView(),this.isActivated=!0}},{key:"loadMore",value:function(){this.isLoadingData||(this.isLoadingData=!0,this.displayArticlesBy===m.MONTH?this.loadMonthArticles():this.loadTopicArticles())}},{key:"disableLoadMore",value:function(){this.loadMoreButton.remove(),this.dataContainer.classList.add("is-loaded")}},{key:"changeFocusToNewlyAddedContent",value:function(e){e.setAttribute("tabindex",-1),e.classList.add("outline-none"),setTimeout(function(){f.default.focusWithoutScroll(e)},20)}},{key:"initializeMonthView",value:function(){this.displayArticlesBy=m.MONTH,this.displayedMonthIndex=0,this.displayedArticlesCount=0,this.hiddenArticlesCount=0,this.hideMonthArticles(),(this.isMobile&&0===this.hiddenArticlesCount&&!this.determineNextMonthToLoad()||!this.isMobile&&!this.determineNextMonthToLoad())&&this.disableLoadMore()}},{key:"determineNextMonthToLoad",value:function(){return this.dataContainer.querySelector(".all-news-and-insight__section:last-child").getAttribute("data-next-month")}},{key:"getMonthSections",value:function(){return this.dataContainer.querySelectorAll(".all-news-and-insight__section")}},{key:"getMonthArticles",value:function(e,t){return this.dataContainer.querySelector(".all-news-and-insight__section:nth-child("+(e+1)+")").querySelectorAll(".all-news-and-insight__section__list > li"+(!0===t?".is-visible":"")+(!1===t?".is-hidden":"")+(void 0===t?":not(.is-visible):not(.is-hidden)":""))}},{key:"hideMonthArticles",value:function(){for(var e=this,t=this.getMonthSections().length,n=this.displayedMonthIndex,i=this.displayedMonthIndex;i<t;i++)!function(i){var a=e.getMonthSections()[i],r=e.getMonthArticles(i);e.isMobile?(r.forEach(function(t){e.displayedArticlesCount<6?(t.classList.add("is-visible"),e.displayedArticlesCount++,e.displayedMonthIndex=i,6===e.displayedArticlesCount&&t.classList.add("is-last-visible")):(t.classList.add("is-hidden"),e.hiddenArticlesCount++)}),i>e.displayedMonthIndex?a.classList.add("is-hidden"):e.updateDisplayedItemsCount(a,e.getMonthArticles(i,!0).length,r.length,e.displayedArticlesCount),0!==e.hiddenArticlesCount||e.determineNextMonthToLoad()||e.disableLoadMore()):(e.displayedMonthIndex=i,e.updateDisplayedItemsCount(a,r.length,r.length,t-n,!0,t===i+1))}(i)}},{key:"showMonthArticles",value:function(){var e=this.getMonthSections().length;for(this.displayedMonthIndex;this.displayedMonthIndex<e;this.displayedMonthIndex++){var t=this.getMonthSections()[this.displayedMonthIndex],n=this.getMonthArticles(this.displayedMonthIndex,!1);t.classList.remove("is-hidden");var i=void 0,a=void 0;for(i=0;i<n.length;i++)if(a=n[i],this.displayedArticlesCount<6&&(a.classList.remove("is-hidden"),this.hiddenArticlesCount--,a.classList.add("is-visible"),this.displayedArticlesCount++,1===this.displayedArticlesCount&&this.changeFocusToNewlyAddedContent(a.querySelector(".promobox__media")),6===this.displayedArticlesCount)){a.classList.add("is-last-visible");break}var r=this.getMonthArticles(this.displayedMonthIndex,!0).length;if(this.updateDisplayedItemsCount(t,r,r+this.getMonthArticles(this.displayedMonthIndex,!1).length,this.displayedArticlesCount),6===this.displayedArticlesCount)break}this.onDataReadyToDisplay()}},{key:"appendNextMonths",value:function(e){this.dataContainer.insertAdjacentHTML("beforeend",e),this.displayedMonthIndex++,this.isMobile||(this.changeFocusToNewlyAddedContent(this.getMonthSections()[this.displayedMonthIndex].querySelector(".section-header__heading")),this.determineNextMonthToLoad()||this.disableLoadMore()),this.hideMonthArticles(),(0,p.dispatchVideoAssetsChanged)(),this.onDataReadyToDisplay()}},{key:"loadMonthArticles",value:function(){var e=this;if(this.displayedArticlesCount=0,this.isMobile){var t=this.dataContainer.querySelector(".is-last-visible");if(t&&t.classList.remove("is-last-visible"),this.showMonthArticles(),0===this.hiddenArticlesCount&&(this.displayedMonthIndex--,!this.determineNextMonthToLoad()))return void this.disableLoadMore()}if(this.displayedArticlesCount<6||!this.isMobile){var n={month:this.determineNextMonthToLoad()};this.repository.loadMoreContent(n).then(function(t){e.appendNextMonths(t)})}}},{key:"initializeTopicView",value:function(){this.topicSection=this.view.querySelector(".all-news-and-insight__section"),this.topicSectionList=this.view.querySelector(".all-news-and-insight__section__list"),this.displayArticlesBy=m.TOPIC,this.desiredRevealCount=this.isMobile?6:9,this.topicId=this.topicSection.getAttribute("data-topic-id"),this.totalTopicArticlesCount=parseInt(this.topicSection.getAttribute("data-total-count"),10),this.displayedArticlesCount=0,this.hiddenArticlesCount=0,this.pageNumber=1,this.hideTopicArticles()}},{key:"getTopicArticles",value:function(e){return this.topicSection.querySelectorAll(".all-news-and-insight__section__list > li"+(!0===e?".is-visible":"")+(!1===e?".is-hidden":"")+(void 0===e?":not(.is-visible):not(.is-hidden)":""))}},{key:"hideTopicArticles",value:function(){var e=this,t=this.displayedArticlesCount;this.getTopicArticles().forEach(function(t,n){n<e.desiredRevealCount?(t.classList.add("is-visible"),e.displayedArticlesCount++):(t.classList.add("is-hidden"),e.hiddenArticlesCount++)}),this.displayedArticlesCount===this.totalTopicArticlesCount&&this.disableLoadMore(),this.totalTopicArticlesCount>0&&this.updateDisplayedItemsCount(this.topicSection,this.displayedArticlesCount,this.totalTopicArticlesCount,this.displayedArticlesCount-t)}},{key:"showTopicArticles",value:function(){var e=this,t=this.displayedArticlesCount;this.getTopicArticles(!1).forEach(function(t,n){n<e.desiredRevealCount&&(t.classList.add("is-visible"),e.displayedArticlesCount++,t.classList.remove("is-hidden"),e.hiddenArticlesCount--),0===n&&e.changeFocusToNewlyAddedContent(t.querySelector(".promobox__media"))}),this.displayedArticlesCount===this.totalTopicArticlesCount&&this.disableLoadMore(),this.updateDisplayedItemsCount(this.topicSection,this.displayedArticlesCount,this.totalTopicArticlesCount,this.displayedArticlesCount-t),this.onDataReadyToDisplay()}},{key:"appendTopicArticles",value:function(e){this.topicSectionList.insertAdjacentHTML("beforeend",e);var t=this.getTopicArticles()[0];this.changeFocusToNewlyAddedContent(t.querySelector(".promobox__media")),this.hideTopicArticles(),(0,p.dispatchVideoAssetsChanged)(),this.onDataReadyToDisplay()}},{key:"loadTopicArticles",value:function(){var e=this;if(this.hiddenArticlesCount>0)this.showTopicArticles();else{var t={topicid:this.topicId,page:this.pageNumber};this.repository.loadMoreContent(t).then(function(t){e.appendTopicArticles(t),e.pageNumber++})}}},{key:"updateDisplayedItemsCount",value:function(e,t,n,i,a,r){var s=this,o=e.querySelector(".section-header__sidenote__results"),l=e.querySelector(".section-header__sidenote__results-aria"),u=o.getAttribute("data-resultname").split("|"),c=u[1===n&&u.length>1?1:0];if(a?(o.textContent=t+" "+c,l.textContent=o.textContent):(o.textContent=o.getAttribute("data-label").replace("{from}",1).replace("{to}",t.toLocaleString(this.lang)).replace("{total}",n.toLocaleString(this.lang)).replace("{resultname}",c),l.textContent=o.getAttribute("data-label-aria").replace("{from}",1).replace("{to}",t).replace("{total}",n).replace("{resultname}",c)),this.isActivated&&(!a||r)){var h=void 0;if(a){var d=this.loadMoreButtonAria.getAttribute("data-month-resultname").split("|");h=d[1===i&&d.length>1?1:0]}else h=u[1===i&&u.length>1?1:0];this.loadMoreButtonAria.textContent="",setTimeout(function(){s.loadMoreButtonAria.textContent=s.loadMoreButtonAria.getAttribute("data-label-aria").replace("{count}",i).replace("{resultname}",h)},10)}}},{key:"onDataReadyToDisplay",value:function(){this.isLoadingData=!1,(0,v.dispatchLazyLoadImages)()}}]),e}();t.default=g},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(23),o=i(s),l=n(20),u=i(l),c=n(44),h=function(){function e(t,n){a(this,e),this.serviceUrl=t||o.default.NEWS_AND_INSIGHT_SERVICE,this.dal=n||new u.default}return r(e,[{key:"loadMoreContent",value:function(e){var t=Object.keys(e).map(function(t){return t+"="+e[t]}).join("&");return this.dal.fetchGetData(this.serviceUrl+"?"+t,void 0,c.RESPONSE_TEXT)}}]),e}();t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.apply(void 0,[this].concat(n))}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.VIDEO_FAILED=t.VIDEO_LOADED=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(43),u=i(l),c=n(6),h=i(c),d=n(0),f=n(65),p=n(1),v=n(2),m=i(v),g=n(213),y=i(g),b=n(12),w=i(b),k=n(4),_={REPLAY:"Replay",CLOSE:"Close",VIEW_VIDEO_LINK:"Play video",VIEW_VIDEO_LABEL:"Play video: {title}",TITLE:"More videos",NEXT:"Next videos",PREV:"Previous videos",A11Y_FETCHING:"A list of related videos is being fetched.",A11Y_FETCHED:"A list of related videos appears below.",PLAY:"Play video",DURATION:"Duration"},E=(0,y.default)("HSBC_RELATED_VIDEOS_DICTIONARY",_),S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return'<img src="'+(e||"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7")+'" alt="'+t+'">'},C=function(e){var t=e.href,n=e.text,i=e.label;return'\n    <a data-static="'+e.isStatic+'" href="'+t+'" class="view-video" aria-label="'+i+'">\n        <span class="hsbc-right-chevron" aria-hidden="true"></span>'+n+"\n    </a>\n"},L=function(e){return"<span>"+E("DURATION")+": "+e+"</span>"},A=function(e,t){var n=e.poster,i=void 0===n?"":n,a=e.title,r=void 0===a?"":a,s=e.duration,o=void 0===s?"":s,l=e.link,u=void 0===l?{}:l;return'\n    <div data-item="'+(t+1)+'" class="related-video-tile">\n        <div class="related-video-tile__poster">\n            '+S(i,r)+'\n        </div>\n        <h2 class="related-video-tile__title">'+r+'</h2>\n        <div class="related-video-tile__info">'+L(o)+'</div>\n        <div class="related-video-tile__actions">\n            '+C(u)+"\n        </div>\n    </div>\n"},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length>0?e.map(A).join(""):""},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=function(e){return'\n        <li class="'+(e===t?"active":"")+'">\n            <span class="sr-only">'+(e+1)+"</span>\n        </li>"};return"<ul>"+Array(e).fill("").map(function(e,t){return n(t)}).join("")+"</ul>"},P=function(e){var t=e.title,n=void 0===t?"":t,i=e.related,a=void 0===i?[]:i,r=e.total,s=void 0===r?0:r,o=e.limit,l=void 0===o?3:o;return'\n    <div class="related-videos">\n        <div class="related-videos__header">\n            <div class="related-videos__header__replay">\n                <button>\n                    <span class="sr-only">'+E("REPLAY")+': <span class="title">'+n+'</span></span>\n                    <span class="hsbc-replay" aria-hidden="true"></span>\n                </button>\n            </div>\n            <div class="related-videos__header__title">'+E("REPLAY")+'<span class="colon">: </span><span class="title">'+n+'</span></div>\n            <div class="related-videos__header__close">\n                <button>\n                    <span class="sr-only">'+E("CLOSE")+'</span>\n                    <span class="hsbc-close-circle" aria-hidden="true"></span>\n                </button>\n            </div>\n        </div>\n        <div class="related-videos__carousel">\n            <a disabled="disabled" class="related-videos__carousel__control related-videos__carousel__control--previous">\n                <span class="sr-only">'+E("PREV")+'</span>\n                <span class="hsbc-carousel-left" aria-hidden="true"></span>\n            </a>\n            <div class="related-videos__carousel__body">\n                <h2 class="related-videos__carousel__body__title">'+E("TITLE")+'</h2>\n                <div class="related-videos__carousel__body__tiles">\n                    <div class="related-videos__carousel__body__tiles__container">\n                        '+T(a)+"\n                    </div>\n                    "+Handlebars.templates["loader-template"]()+'\n                </div>\n                <div class="related-videos__carousel__body__indicator">'+x(Math.ceil(s/l))+'</div>\n            </div>\n            <a class="related-videos__carousel__control related-videos__carousel__control--next">\n                <span class="sr-only">'+E("NEXT")+'</span>\n                <span class="hsbc-carousel-right" aria-hidden="true"></span>\n            </a>\n        </div>\n    </div>\n'},O=function(e){return'\n    <div class="related-videos__failure">\n        <span>'+e+"</span>\n    </div>\n"},I=function(e){return{type:"REPLAY_CURRENT_VIDEO",params:{playerId:e}}},M=function(e){return{type:"CLOSE_RELATED_VIDEOS",params:{playerId:e}}},B=function(e){return{type:"FETCHING_RELATED_VIDEOS",params:{playerId:e}}},D=function(e){return{type:"FETCHED_RELATED_VIDEOS",params:{playerId:e}}},N=function(e){return{type:"FETCHED_ZERO_RELATED_VIDEOS",params:{playerId:e}}},H=function(e,t){return{type:"LOAD_VIDEO",params:{video:e,playerId:t}}},R=(t.VIDEO_LOADED=function(e,t){return{type:"VIDEO_LOADED",params:{video:e,playerId:t}}},t.VIDEO_FAILED=function(e,t){return{type:"VIDEO_FAILED",params:{video:e,playerId:t}}},function(e){return"/api/media/videos/related/"+e});window.addEventListener("resize",(0,p.throttle)(200,function(){[].concat(r(document.getElementsByClassName("related-videos--open"))).forEach(function(e){return e.component&&e.component.onResize()})}));var q=function(){return m.default.large.matches?3:2},F=function(e,t){return Math.ceil(e/t)},j=function(e){e.parentNode.style.maxHeight="none",requestAnimationFrame(function(){var t=parseFloat(getComputedStyle(e).height);t!==parseFloat(getComputedStyle(e.parentNode).height)&&(e.parentNode.style.maxHeight=t+"px")})},V=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).find(function(t){return t.id===e})},U=function(e){return{event_type:"click",event_category:"content",event_action:"VideoPlayer",event_content:e,event_subcategory:"RelatedVideo"}},z=function(){function e(t,n){var i=this,s=n.videoId,o=n.playerId,l=n.sitecoreItemId;a(this,e),this.videoId=s,this.playerId=o,this.fetched=null,this.sitecoreItemId=l,this.view=t,this.loader=this.view.querySelector(".loader"),this.replayButton=this.view.querySelector(".related-videos__header__replay button"),this.title=[].concat(r(this.view.querySelectorAll("span.title"))),this.closeButton=this.view.querySelector(".related-videos__header__close button"),this.previousButton=this.view.querySelector(".related-videos__carousel__control--previous"),this.nextButton=this.view.querySelector(".related-videos__carousel__control--next"),this.tiles=this.view.querySelector(".related-videos__carousel__body__tiles__container"),this.indicator=this.view.querySelector(".related-videos__carousel__body__indicator"),this.isOpened=!1,this.isFetching=!1,this.limit=q(),this.page=1,this.total=0,this.maxPages=0,this.firstFocusableElement=this.replayButton,this.tabLoop=[],this.buildTabLoop=function(e){i.tabLoop=[i.firstFocusableElement,e]},this.activateTabLoop=function(){return 2===i.tabLoop.length&&h.default.tabToFrom.apply(h.default,r(i.tabLoop))},this.deactivateTabLoop=function(){return 2===i.tabLoop.length&&h.default.removeTabToFrom.apply(h.default,r(i.tabLoop))},this.resetTabIndex=function(){[i.view].concat(r(i.view.querySelectorAll("*"))).filter(function(e){return"-1"===e.getAttribute("tabindex")}).forEach(function(e){e.removeAttribute("data-original-tabindex"),e.removeAttribute("tabindex")})},this.announcer=new w.default,this.popupsAllowFocus=function(){return null},this.announce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return i.announcer.announce(E(e))},this.attachEvents(),this.fetch(),this.view.component=this}return o(e,[{key:"attachEvents",value:function(){var e=this;this.replayButton.addEventListener("click",function(t){t.preventDefault(),(0,k.trackEvent)(U(E("REPLAY")+" | "+e.replayButton.textContent.trim())),(0,f.dispatch)(I(e.playerId)),e.close(!0)}),this.closeButton.addEventListener("click",function(t){t.preventDefault(),e.close()}),this.previousButton.addEventListener("click",function(t){t.preventDefault(),(0,k.trackEvent)(U(e.videoId+" | Previous")),e.prev()}),this.nextButton.addEventListener("click",function(t){t.preventDefault(),(0,k.trackEvent)(U(e.videoId+" | Next")),e.next()}),document.addEventListener("FETCHING_RELATED_VIDEOS",function(t){t.preventDefault(),e.playerId===t.detail.playerId&&e.showLoader()}),document.addEventListener("FETCHED_RELATED_VIDEOS",function(t){t.preventDefault(),e.playerId===t.detail.playerId&&e.hideLoader()}),document.addEventListener("FETCHED_ZERO_RELATED_VIDEOS",function(t){t.preventDefault(),e.playerId===t.detail.playerId&&e.close(!0)}),document.addEventListener("VIDEO_LOADED",function(t){t.preventDefault(),e.playerId===t.detail.playerId&&t.detail.video&&(e.close(!0),console.info("Related videos: A new video has been loaded ("+t.detail.video.id+"). Refetching related videos"),setTimeout(function(){e.setTitle(t.detail.video.title),e.videoId=t.detail.video.id,e.fetched=null,e.tiles.innerHTML="",e.sitecoreItemId=t.detail.video.itemId,e.fetch()},200))}),document.addEventListener("VIDEO_FAILED",function(t){if(t.preventDefault(),e.playerId===t.detail.playerId&&t.detail.video){var n=e.tiles.querySelector('a[href^="#'+t.detail.video.id+'"]');if(!n)return;var i=n.closest(".related-video-tile");if(!i)return;i.style.opacity=.5;var a=(0,d.toElement)(O("We're sorry but we couldn't load a video, please try again later."));e.view.insertAdjacentElement("afterbegin",a),setTimeout(function(){return a.classList.add("related-videos__failure--visible")},200),setTimeout(function(){return a.classList.remove("related-video__failure--visible")},2e3),setTimeout(function(){return a.remove()},2200)}});var t=new Hammer.Manager(this.view,{recognizers:[[Hammer.Swipe,{direction:Hammer.DIRECTION_HORIZONTAL}]]});t.on("swipeleft",function(){return e.next()}),t.on("swiperight",function(){return e.prev()})}},{key:"open",value:function(){var e=this;this.isOpened||(this.isOpened=!0,this.view.classList.add("related-videos--open"),setTimeout(function(){e.view.classList.add("related-videos--visible")},200),setTimeout(function(){document.querySelectorAll(".close-theatre").forEach(function(e){e.style.display="none"})},400),this.resetTabIndex(),setTimeout(function(){h.default.hideAllBut(["popups"]),e.popupsAllowFocus=h.default.restrictFocus(e.view),console.log(e.replayButton),e.replayButton.focus(),e.fetched&&e.activateTabLoop()},200),this.setPostersMaxHeight(),this.announce("A11Y_FETCHING"),this.fetched&&this.announce("A11Y_FETCHED"))}},{key:"close",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isOpened&&(this.isOpened=!1,this.view.classList.remove("related-videos--visible"),setTimeout(function(){e.view.classList.remove("related-videos--open")},200),setTimeout(function(){document.querySelectorAll(".close-theatre").forEach(function(e){e.style.display=""})},400),h.default.showAllBut(["popups"]),this.popupsAllowFocus(),this.deactivateTabLoop(),t||(0,f.dispatch)(M(this.playerId)))}},{key:"showLoader",value:function(){this.view.classList.add("related-videos--with-loader")}},{key:"hideLoader",value:function(){this.view.classList.remove("related-videos--with-loader")}},{key:"checkControls",value:function(){this.page<=1?this.previousButton.setAttribute("disabled","disabled"):this.previousButton.removeAttribute("disabled"),this.page>=this.maxPages?this.nextButton.setAttribute("disabled","disabled"):this.nextButton.removeAttribute("disabled")}},{key:"prev",value:function(){this.isFetching||null==this.fetched||this.page>1&&this.slideTo(this.page-1)}},{key:"next",value:function(){this.isFetching||null==this.fetched||this.page<this.maxPages&&this.slideTo(this.page+1)}},{key:"slideTo",value:function(e){e!==this.page&&(this.page=e,this.renderPage())}},{key:"fetch",value:function(){var e=this;if(!this.isFetching&&null==this.fetched){this.isFetching=!0;var t=R(this.sitecoreItemId);console.info("Related videos: Fetching related videos => "+t+"."),(0,f.dispatch)(B(this.playerId)),(0,u.default)(t).then(function(e){return e.ok?e.json():Promise.reject("Related videos: Could not retrieve videos.")}).then(function(e){return Array.isArray(e)?Promise.resolve(e):Promise.reject("Related videos: Invalid API response.")}).then(function(e){var t=function(e){return{href:e.link.length>1?e.link:"#"+e.id,text:E("PLAY"),label:E("PLAY")+": "+e.title,isStatic:e.link.length>1}},n=e.map(function(e){return s({},e,{link:t(e)})});return Promise.resolve(n)}).then(function(t){e.fetched=t,e.isFetching=!1,e.page=1,e.total=e.fetched.length,e.maxPages=F(e.total,e.limit),e.renderTiles(),e.renderPage(),console.info("Related videos: Fetched related videos ("+e.total+") of "+e.sitecoreItemId+"."),e.total>0?(0,f.dispatch)(D(e.playerId)):(0,f.dispatch)(N(e.playerId)),e.isOpened&&e.announce("A11Y_FETCHED")}).catch(function(t){console.warn(t),e.close(!0)})}}},{key:"renderTiles",value:function(){var e=T(this.fetched);this.tiles.innerHTML="",this.tiles.insertAdjacentHTML("afterbegin",e),this.attachTilesEvents(),this.attachTilesFocusEvents();var t=[].concat(r(this.tiles.querySelectorAll("a.view-video"))).pop();this.deactivateTabLoop(),this.buildTabLoop(t),this.isOpened&&this.activateTabLoop()}},{key:"attachTilesEvents",value:function(){var e=this;[].concat(r(this.tiles.querySelectorAll(".related-video-tile__poster img"))).forEach(function(e){e.addEventListener("load",function(){return j(e)})});var t=function(t,n){if("true"!==n.dataset.static&&(t.preventDefault(),!(n.hash.length<=1))){var i=n.hash.substr(1),a=V(i,e.fetched);a&&((0,f.dispatch)(H(a,e.playerId)),(0,k.trackEvent)(U(n.textContent.trim()+" | "+n.getAttribute("aria-label"))))}};[].concat(r(this.tiles.querySelectorAll(".related-video-tile"))).forEach(function(e){e.addEventListener("click",function(n){var i=e.querySelector(".related-video-tile__actions a");t(n,i)})}),[].concat(r(this.tiles.querySelectorAll(".related-video-tile__actions a"))).forEach(function(e){return e.addEventListener("click",function(n){return t(n,e)})})}},{key:"attachTilesFocusEvents",value:function(){var e=this,t=function(e){if(!e)return null;var t=e.closest(".related-video-tile");return t&&t.dataset&&t.dataset.item};[].concat(r(this.tiles.querySelectorAll(".related-video-tile__actions a"))).forEach(function(n){n.addEventListener("focus",function(n){var i=parseInt(t(n.target),10),a=Math.ceil(i/e.limit);e.tiles.scrollLeft=0,e.tiles.parentElement.scrollLeft=0,isNaN(a)||e.slideTo(a)})})}},{key:"renderPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.page,t=e>1?"translate(-"+parseInt(100*(e-1),10)+"%, 0)":"translate(0, 0)";this.tiles.style.transform=t,this.renderIndicator(e),this.checkControls()}},{key:"renderIndicator",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.page;if(this.indicator.innerHTML="",this.maxPages>0){var t=x(this.maxPages,e-1);this.indicator.insertAdjacentHTML("afterbegin",t)}}},{key:"mount",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body).insertAdjacentElement("beforeend",this.view),this.position()}},{key:"position",value:function(){var e=[].concat(r(document.querySelectorAll(".video-theatre__container"))),t=e.find(function(e){return"none"!==getComputedStyle(e.parentNode).display});if(m.default.large.matches&&t){var n=t.getBoundingClientRect(),i={top:n.top+"px",left:n.left+"px",width:n.width+"px",height:n.height+"px"};this.view.style.top=i.top,this.view.style.left=i.left,this.view.style.width=i.width,this.view.style.height=i.height,this.view.classList.add("related-videos--with-close-button")}else this.view.style.top="0",this.view.style.left="0",this.view.style.width="100%",this.view.style.height="100%",this.view.classList.remove("related-videos--with-close-button")}},{key:"setPostersMaxHeight",value:function(){[].concat(r(this.tiles.querySelectorAll(".related-video-tile__poster img"))).forEach(j)}},{key:"onResize",value:function(){this.position(),this.fetched&&(this.limit=q(),this.maxPages=F(this.total,this.limit),this.page=1,this.renderPage(),this.setPostersMaxHeight())}},{key:"setTitle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.length>0&&this.title.forEach(function(t){t.textContent=e})}}],[{key:"render",value:function(e){var t=e.title,n={title:t,related:[],total:0,limit:3};return(0,d.toElement)(P(n))}}]),e}();t.default=z},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t,n){var i=window[e]&&window[e][n]||t[n];return"string"!=typeof i?n:i},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i(e,t,n),s=Object.keys(a);return s.length>0&&s.forEach(function(e){r=r.replace("{"+e+"}",a[e])}),r.replace(/{[^}]*}/gi,"")}};t.default=a},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(2),o=i(s),l=n(1),u=n(10),c=i(u),h=function(){function e(){a(this,e),this.view=null,this.throttledResize=null,this.bound={}}return r(e,[{key:"activate",value:function(e){if(!e.querySelector)return null;if(this.view=e,this.heroBannerMedia=this.view.querySelector(".hero-banner-fluid"),this.mediaInfo=this.view.querySelector(".media-info"),this.scrollCta=this.view.querySelector(".hero-banner__scroll-cta"),this.heroBannerMedia){this.activateForImageMediaInfo(),this.activateForVideoPlayer(),null!==this.mediaInfo&&this.view.classList.add("has-media-info");var t=this.view.closest(".sublayout");if(null!==t){var n=t.nextElementSibling;null!==n&&n.classList.contains("sublayout--fluid")&&this.view.classList.add("is-before-sl0")}}null!==this.scrollCta&&this.scrollCta.addEventListener("click",this.scrollPage)}},{key:"activateForImageMediaInfo",value:function(){if(this.imageWithLinks=this.view.querySelector(".image-with-links"),this.originalMediaInfoContainer=null!==this.imageWithLinks?this.imageWithLinks:this.heroBannerMedia,!this.originalMediaInfoContainer||!this.mediaInfo)return null;this.positionMediaInfo(),this.throttledResize=(0,l.throttle)(50,this.positionMediaInfo.bind(this)),window.addEventListener("resize",this.throttledResize)}},{key:"activateForVideoPlayer",value:function(){this.originalVideoContainer=this.view.querySelector(".video-player"),this.originalVideoContainer&&(this.activateForVideoPlayButton(),this.view.classList.add("has-play-button"),this.mediaInfo&&this.activateForVideoMediaInfo())}},{key:"activateForVideoPlayButton",value:function(){this.videoPlayButton=this.view.querySelector(".hsbc-video-play");var e=document.createElement("div");if(e.classList.add("video-play-button-mobile-container"),this.heroBannerMedia.appendChild(e),this.destinationButtonPosition=e,!this.videoPlayButton||!this.destinationButtonPosition)return null;window.addEventListener("load",this.positionVideoPlayerButton.bind(this)),this.throttledResize=(0,l.throttle)(50,this.positionVideoPlayerButton.bind(this)),window.addEventListener("resize",this.throttledResize)}},{key:"activateForVideoMediaInfo",value:function(){this.originalMediaInfoContainer=this.view.querySelector(".inline-video"),this.positionMediaInfo(),this.throttledResize=(0,l.throttle)(50,this.positionMediaInfo.bind(this)),window.addEventListener("resize",this.throttledResize)}},{key:"positionMediaInfo",value:function(){o.default.small.matches?this.view.appendChild(this.mediaInfo):this.originalMediaInfoContainer.appendChild(this.mediaInfo)}},{key:"positionVideoPlayerButton",value:function(){o.default.small.matches?this.destinationButtonPosition.appendChild(this.videoPlayButton):this.originalVideoContainer.appendChild(this.videoPlayButton)}},{key:"scrollPage",value:function(){c.default.scrollOneViewport()}}]),e}();t.default=h},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(2),s=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(1),l=function(){function e(){i(this,e),this.view=null,this.throttledResize=null,this.bound={}}return a(e,[{key:"activate",value:function(e){if(this.view=e,this.background=this.view.querySelector(".image-title__background"),this.title=this.view.querySelector(".image-title"),this.image=this.view.querySelector(".image-with-links__image"),!this.title||!this.background||!this.image)return null;this.set(),this.throttledResize=(0,o.throttle)(20,this.set.bind(this)),window.addEventListener("resize",this.throttledResize)}},{key:"set",value:function(){var e=this.title.scrollHeight;if(s.default.small.matches&&(this.background.style.height=e+"px"),s.default.medium.matches){var t=.6*this.image.scrollHeight;this.background.style.height=e+t+"px"}}}]),e}();t.default=l},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(2),o=function(e){return e&&e.__esModule?e:{default:e}}(s),l=n(1),u=function(){function e(t){a(this,e),this.view=null,this.mql=t||o.default}return r(e,[{key:"activate",value:function(e){var t=this;if(this.view=e,this.wrapper=this.view.querySelector(".mosaic__wrapper"),this.nav=this.view.querySelector(".mosaic__nav"),this.mql&&this.wrapper&&this.nav){this.currentImage=0,this.imageCount=this.nav.children.length,this.calculateSizes(),this.nav.firstElementChild.classList.add("active"),this.nav.addEventListener("click",this.navClick.bind(this)),this.debouncedCalculateSizes=(0,l.debounce)(100,this.calculateSizes.bind(this)),window.addEventListener("resize",this.debouncedCalculateSizes);var n=new Hammer.Manager(this.view,{recognizers:[[Hammer.Swipe,{direction:Hammer.DIRECTION_HORIZONTAL}]]});n.on("swipeleft",function(){return t.slideTo(t.currentImage+1)}),n.on("swiperight",function(){return t.slideTo(t.currentImage-1)})}}},{key:"calculateSizes",value:function(){this.contentWidth=window.innerWidth-66,this.imageMargin=.09*this.contentWidth}},{key:"navClick",value:function(e){this.mql.small.matches&&"A"===e.target.tagName.toUpperCase()&&this.slideTo([].concat(i(this.nav.children)).indexOf(e.target.parentNode))}},{key:"slideTo",value:function(e){if(this.mql.small.matches&&!(e<0||e>=this.imageCount)){var t=this.imageMargin/2;0===e?t=0:e===this.imageCount-1&&(t=this.imageMargin),this.currentImage=e;var n=-e*this.contentWidth+t;this.wrapper.style.left=n+"px",this.nav.querySelector(".active").classList.remove("active"),this.nav.children[e].classList.add("active")}}}]),e}();t.default=u},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(2),s=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(1),l=function(){function e(){i(this,e),this.view=null,this.throttledResize=null,this.bound={}}return a(e,[{key:"activate",value:function(e){if(this.view=e,this.isLandscape=this.view.parentNode.classList.contains("col-sm-12"),this.imageWithLinks=this.view.querySelector(".image-with-links"),this.promoboxMedia=this.view.querySelector(".promobox__media"),this.originalContainer=null!==this.imageWithLinks?this.imageWithLinks:this.promoboxMedia,this.mediaInfo=this.view.querySelector(".media-info"),!this.isLandscape||!this.originalContainer||!this.mediaInfo)return null;this.positionMediaInfo(),this.throttledResize=(0,o.throttle)(50,this.positionMediaInfo.bind(this)),window.addEventListener("resize",this.throttledResize)}},{key:"positionMediaInfo",value:function(){s.default.cssLarge.matches&&this.isLandscape?this.view.appendChild(this.mediaInfo):this.originalContainer.appendChild(this.mediaInfo)}}]),e}();t.default=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.REDUCED_TITLE=void 0;var a=n(2),r=function(e){return e&&e.__esModule?e:{default:e}}(a),s=n(1),o=n(0),l=t.REDUCED_TITLE="pageTitleAndText__heading--reduced",u=function e(t){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=a.force;if(i(this,e),this.reduceSize=function(){n.heading.classList.remove(l),(0,o.calculateNumberOfLines)(n.heading)>3&&(!r.default.medium.matches||n.force)&&n.heading.classList.add(l)},this.heading=t,this.force=void 0!==u&&!1!==u,!this.heading||"H1"!==this.heading.tagName.toUpperCase())return null;this.reduceSize(),window.addEventListener("resize",(0,s.throttle)(100,this.reduceSize))};t.default=u},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(0),o=n(98),l=function(e){return e&&e.__esModule?e:{default:e}}(o),u=n(1),c=function(){function e(){a(this,e),this.view=null,this.maxFontSize=150}return r(e,[{key:"activate",value:function(e){if(this.view=e,this.number=this.view.querySelector(".simple-fact__numeric"),this.columnContainer=this.view.closest(".sublayout--content"),!this.number)return null;this.resizeNumber(),this.throttledResizeNumber=(0,u.throttle)(50,this.resizeNumber.bind(this)),window.addEventListener("resize",this.throttledResizeNumber)}},{key:"resizeNumber",value:function(){this.number.style.height="",this.number.style.fontSize="inherit",(0,l.default)(this.number,{maxFontSize:this.maxFontSize}),null!==this.columnContainer&&(null===this.columnContainer.nextElementSibling||null!==this.columnContainer.nextElementSibling&&null===this.columnContainer.nextElementSibling.querySelector(".simple-fact"))?this.adjustAlignedFactboxes():this.number.style.height=this.number.firstElementChild.clientHeight+"px",(0,s.indentTextStartingWithNumberOne)(this.number,!0,!1),(0,s.indentTextNotStartingWithNumberOne)(this.number)}},{key:"adjustAlignedFactboxes",value:function(){var e=this.view.closest(".row").querySelectorAll(".simple-fact__numeric > span");if(e.length>0){var t=Array.from(e).map(function(e){return e.clientHeight}),n=Array.from(e).map(function(e){return parseInt(e.style.fontSize.replace("px",""),10)}),a=Math.min.apply(Math,i(t)),r=Math.min.apply(Math,i(n));e.forEach(function(e){e.style.fontSize=r+"px",e.parentElement.style.height=a+"px",(0,s.indentTextStartingWithNumberOne)(e.parentElement,!0,!1),(0,s.indentTextNotStartingWithNumberOne)(e.parentElement)})}}}]),e}();t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var a=n(221),r=i(a),s=n(222),o=i(s),l=n(223),u=i(l);window.DirectorsIndex=r.default,window.SeniorManagement=o.default,window.LeaderProfile=u.default},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(){var e=this;if(!this.button)return null;this.button.addEventListener("click",function(t){e.toggle(t)}),this.button.addEventListener("keydown",function(t){13===t.keyCode&&e.toggle(t)})}function r(){var e=this;window.addEventListener("resize",function(){e.resize.call(e)})}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){i(this,e),this.view=null,this.button=null,this.buttonText=null,this.quickLinks=null,this.showQuickLinks=!1,this.bound={},this.scrollHeight=0}return s(e,[{key:"activate",value:function(e){this.view=e,this.button=e.querySelector(".quick-links__button"),this.button.ariaLabel=this.button.getAttribute("aria-label"),this.buttonText=this.button.querySelector(".quick-links__button__text"),this.buttonText.defaultText=this.buttonText.textContent,this.quickLinks=e.querySelector(".quick-links"),a.call(this),r.call(this),this.bound.openTransitionEnd=this.openTransitionEnd.bind(this),this.bound.closeTransitionEnd=this.closeTransitionEnd.bind(this),this.scrollHeight=this.quickLinks.scrollHeight,this.quickLinks.style.display="none"}},{key:"toggle",value:function(e){e&&e.preventDefault(),this.showQuickLinks=!this.showQuickLinks,this.showQuickLinks?this.open():this.close()}},{key:"open",value:function(){var e=this;this.quickLinks.style.display="block",setTimeout(function(){e.quickLinks.style.maxHeight=e.scrollHeight+"px"},2),setTimeout(function(){e.bound.openTransitionEnd()},200)}},{key:"openTransitionEnd",value:function(){this.quickLinks.setAttribute("aria-hidden","false"),this.button.setAttribute("aria-expanded","true")}},{key:"close",value:function(){var e=this;this.quickLinks.style.maxHeight="",setTimeout(function(){e.bound.closeTransitionEnd()},200)}},{key:"closeTransitionEnd",value:function(){this.quickLinks.setAttribute("aria-hidden","true"),this.button.setAttribute("aria-expanded","false"),this.quickLinks.style.display="none"}},{key:"resize",value:function(){this.showQuickLinks&&(this.scrollHeight=this.quickLinks.scrollHeight,this.quickLinks.style.maxHeight=this.quickLinks.scrollHeight+"px")}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(){var e=this;if(!this.button)return null;this.button.addEventListener("click",function(t){e.toggle(t)}),this.button.addEventListener("keydown",function(t){13===t.keyCode&&e.toggle(t)})}function r(){var e=this;window.addEventListener("resize",function(){e.resize.call(e)})}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){i(this,e),this.view=null,this.button=null,this.buttonText=null,this.quickLinks=null,this.showQuickLinks=!1,this.bound={},this.scrollHeight=0}return s(e,[{key:"activate",value:function(e){this.view=e,this.button=e.querySelector(".quick-links__button"),this.button.ariaLabel=this.button.getAttribute("aria-label"),this.buttonText=this.button.querySelector(".quick-links__button__text"),this.buttonText.defaultText=this.buttonText.textContent,this.quickLinks=e.querySelector(".quick-links"),a.call(this),r.call(this),this.bound.openTransitionEnd=this.openTransitionEnd.bind(this),this.bound.closeTransitionEnd=this.closeTransitionEnd.bind(this),this.scrollHeight=this.quickLinks.scrollHeight,this.quickLinks.style.display="none"}},{key:"toggle",value:function(e){e&&e.preventDefault(),this.showQuickLinks=!this.showQuickLinks,this.showQuickLinks?this.open():this.close()}},{key:"open",value:function(){var e=this;this.quickLinks.style.display="block",setTimeout(function(){e.quickLinks.style.maxHeight=e.scrollHeight+"px"},2),setTimeout(function(){e.bound.openTransitionEnd()},200)}},{key:"openTransitionEnd",value:function(){this.quickLinks.setAttribute("aria-hidden","false"),this.button.setAttribute("aria-expanded","true")}},{key:"close",value:function(){var e=this;this.quickLinks.style.maxHeight="",setTimeout(function(){e.bound.closeTransitionEnd()},200)}},{key:"closeTransitionEnd",value:function(){this.quickLinks.setAttribute("aria-hidden","true"),this.button.setAttribute("aria-expanded","false"),this.quickLinks.style.display="none"}},{key:"resize",value:function(){this.showQuickLinks&&(this.scrollHeight=this.quickLinks.scrollHeight,this.quickLinks.style.maxHeight=this.quickLinks.scrollHeight+"px")}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(){var e=this;if(!this.button)return null;this.button.addEventListener("click",function(t){e.toggle(t)}),this.button.addEventListener("keydown",function(t){13===t.keyCode&&e.toggle(t)})}function r(){var e=this;window.addEventListener("resize",function(){e.resize.call(e)})}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){i(this,e),this.view=null,this.button=null,this.buttonText=null,this.additionalPhotos=null,this.showAdditionalPhotos=!1,this.bound={},this.scrollHeight=0}return s(e,[{key:"activate",value:function(e){this.view=e,this.button=e.querySelector(".leader-profile__more-photos-button"),this.button&&(this.button.ariaLabel=this.button.getAttribute("aria-label"),this.buttonText=this.button.querySelector(".leader-profile__more-photos-button__text"),this.buttonText.defaultText=this.buttonText.textContent,this.additionalPhotos=e.querySelector(".leader-profile__additional-photos"),this.button.openMessage=this.button.getAttribute("data-open-button"),this.button.closeMessage=this.button.getAttribute("data-close-button"),a.call(this),r.call(this),this.bound.openTransitionEnd=this.openTransitionEnd.bind(this),this.bound.closeTransitionEnd=this.closeTransitionEnd.bind(this),this.scrollHeight=this.additionalPhotos.scrollHeight,this.additionalPhotos.style.display="none")}},{key:"toggle",value:function(e){e&&e.preventDefault(),this.showAdditionalPhotos=!this.showAdditionalPhotos,this.showAdditionalPhotos?this.open():this.close()}},{key:"open",value:function(){this.additionalPhotos.removeEventListener("transitionend",this.bound.closeTransitionEnd),this.additionalPhotos.addEventListener("transitionend",this.bound.openTransitionEnd),this.additionalPhotos.style.display="block",this.buttonText.textContent=this.button.closeMessage,this.additionalPhotos.style.maxHeight=this.additionalPhotos.scrollHeight+"px"}},{key:"openTransitionEnd",value:function(){this.additionalPhotos.setAttribute("aria-hidden","false"),this.button.setAttribute("aria-expanded","true")}},{key:"close",value:function(){this.additionalPhotos.removeEventListener("transitionend",this.bound.openTransitionEnd),this.additionalPhotos.addEventListener("transitionend",this.bound.closeTransitionEnd),this.additionalPhotos.style.maxHeight="",this.buttonText.textContent=this.button.openMessage}},{key:"closeTransitionEnd",value:function(){this.additionalPhotos.setAttribute("aria-hidden","true"),this.button.setAttribute("aria-expanded","false"),this.additionalPhotos.style.display="none"}},{key:"resize",value:function(){this.showAdditionalPhotos&&(this.additionalPhotos.style.maxHeight=this.additionalPhotos.scrollHeight+"px")}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var a=n(225),r=i(a),s=n(226),o=i(s),l=n(68),u=i(l);window.DividendCalculator=r.default,window.ShareAnalytics=o.default,window.SharePrice=u.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(7),l=i(o),u=n(96),c=i(u),h=n(12),d=i(h),f=n(4),p=i(f),v={dividend:"Dividend",adsDividend:"ADS Dividend"},m=function(){function e(){a(this,e),this.view=null}return s(e,[{key:"activate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.currencies;return this.view=e,this.view?(this.form=this.view.querySelector(".dividend-calculator__form"),this.currency=this.view.querySelector(".dividend-calculator__currency"),this.currencySelect=new c.default(this.currency.querySelector(".styled-select")),this.currencies=i,this.form&&this.currency&&this.currencySelect&&this.currencies?(this.textInput=this.view.querySelector(".dividend-calculator__text-input-wrapper input"),this.textInputError=this.view.querySelector(".dividend-calculator-text-input-error"),this.textInputClear=this.form.querySelector(".dividend-calculator__text-input .form-control__clear"),this.typeRadioButtons=this.form.querySelectorAll(".dividend-calculator__type-selector input[type=radio]"),this.selectedRadioButton=this.form.querySelector(".dividend-calculator__type-selector input[type=radio]:checked"),0!==this.typeRadioButtons.length&&this.selectedRadioButton?(this.selectedType=this.selectedRadioButton.value,this.submitButton=this.view.querySelector(".dividend-calculator__submit button"),this.currencySelectReal=this.currency.querySelector(".styled-select__real"),null!==this.currencySelectReal&&this.currencySelectReal.setAttribute("id","dividend-calculator-currency-select"),this.selectedCurrencyCode=this.currencySelect.getValue().toLowerCase(),this.selectedCurrency=this.currencies[this.selectedCurrencyCode],this.currencyLabel=this.currency.querySelector("label"),this.currencyDisclaimer=this.view.querySelector(".dividend-calculator__currency-disclaimer"),this.currencyExchangeRate=this.view.querySelector(".dividend-calculator__exchange-rate"),this.hasSingleCurrency=1===Object.keys(this.currencies).length,this.submitFromCurrencyChange=!1,this.resettingCurrency=!1,this.calculated=!1,this.cashDividendLabel=this.view.querySelector(".dividend-calculator__cash-dividend .dividend-calculator__results-label"),this.cashDividend=this.view.querySelector(".dividend-calculator__cash-dividend .dividend-calculator__results-value"),this.residualEntitlement=this.view.querySelector(".dividend-calculator__residual-entitlement .dividend-calculator__results-value"),this.totalDividend=this.view.querySelector(".dividend-calculator__total-dividend .dividend-calculator__results-value"),this.residualEntitlementRow=this.view.querySelector(".dividend-calculator__residual-entitlement"),this.baseEvent={event_type:"click",event_category:"tool",event_action:this.extractHeadingText()},this.textInput&&this.textInputError&&this.textInputClear&&this.submitButton&&this.currencySelectReal&&this.currencyDisclaimer&&this.cashDividendLabel&&this.cashDividend&&this.residualEntitlement&&this.totalDividend?(this.toggleDividendAndAdsDividendPrices(),this.hasSingleCurrency&&this.hideCurrencySelector(),this.textInput.addEventListener("keydown",this.filterTextInput.bind(this)),this.textInput.addEventListener("keyup",this.toggleClearTextInput.bind(this)),this.textInput.addEventListener("blur",this.toggleClearTextInput.bind(this)),this.textInputClear.addEventListener("click",this.clearTextInput.bind(this)),this.typeRadioButtons.forEach(function(e){e.addEventListener("change",t.changeType.bind(t,e))}),this.submitButton.addEventListener("click",function(e){e.preventDefault(),t.submit(!0)}),this.currencySelectReal.addEventListener("keydown",this.changeCurrencyOnSelectLeave.bind(this)),this.currencySelectReal.addEventListener("change",this.changeCurrency.bind(this)),void(this.announcer=new d.default(this.view,"assertive"))):null):null):null):null}},{key:"extractHeadingText",value:function(){var e=this.view.querySelector(".dividend-calculator__per-share");if(e)return e.innerText.trim();var t=this.view.closest(".sublayout--content");if(!t)return null;var n=t.querySelector(".pageTitleAndText__heading");return n?n.innerText:null}},{key:"filterTextInput",value:function(e){e.keyCode>=48&&e.keyCode<=57&&!e.shiftKey&&!e.altKey||e.keyCode>=96&&e.keyCode<=105&&!e.shiftKey&&!e.altKey||e.ctrlKey||(0,l.default)(e.keyCode,["backspace","delete","left-arrow","right-arrow","up-arrow","down-arrow","enter","home","end","page-up","page-down","tab","escape","shift","control","alt"])||(e.preventDefault(),this.announcer.announce(this.form.dataset.ariaAssetOnInvalidCharacter))}},{key:"toggleClearTextInput",value:function(e){this.textInputClear.style.display=e.target.value.length>0?"block":"none"}},{key:"clearTextInput",value:function(e){e.preventDefault(),this.textInput.value=""}},{key:"changeCurrencyOnSelectLeave",value:function(e){(0,l.default)(e.keyCode,["enter","tab"])&&!e.shiftKey&&""!==this.textInput.value&&this.currencySelect.getValue()===this.selectedCurrencyCode&&(e.preventDefault(),this.changeCurrency())}},{key:"changeCurrency",value:function(){this.validateCurrency()&&(this.submitFromCurrencyChange=!0,this.selectedCurrencyCode=this.currencySelect.getValue().toLowerCase(),this.selectedCurrency=this.currencies[this.selectedCurrencyCode],this.resettingCurrency||this.submit(!1))}},{key:"showCurrencySelector",value:function(){this.hasSingleCurrency||(this.currency.style.display="block",this.resetCurrencySelector())}},{key:"hideCurrencySelector",value:function(){this.currency.style.display="none",this.resetCurrencySelector()}},{key:"resetCurrencySelector",value:function(){this.resettingCurrency=!0,this.currencySelect.setValue("usd"),this.resettingCurrency=!1}},{key:"changeType",value:function(e){this.selectedType=e.getAttribute("value"),this.toggleDividendAndAdsDividendPrices()}},{key:"toggleDividendAndAdsDividendPrices",value:function(){this.view.classList.remove("dividend"),this.view.classList.remove("ads-dividend"),"dividend"===this.selectedType?(this.view.classList.add("dividend"),this.showCurrencySelector()):(this.view.classList.add("ads-dividend"),this.hideCurrencySelector()),this.calculated&&this.submit(!1)}},{key:"submit",value:function(e){if(!this.validate())return null;this.calculateDividend(e),this.submitButton.innerText=this.submitButton.dataset.recalculateLabel,this.calculated=!0,this.view.classList.add("calculated"),this.submitFromCurrencyChange&&("usd"!==this.selectedCurrencyCode?(this.currencyDisclaimer.style.display="block",this.currencyDisclaimer.focus()):(this.currencyDisclaimer.style.display="none",this.cashDividendLabel.focus()),this.submitFromCurrencyChange=!1),this.announcer.announce(this.form.dataset.ariaAssetOnRecalculate)}},{key:"calculateDividend",value:function(e){var t=parseInt(this.textInput.value,10),n=this.calculateCashDividend(t);this.cashDividend.innerHTML=this.currencyFormat(n);var i=this.calculateResidualEntitlement();this.residualEntitlement.innerHTML=this.currencyFormat(i),void 0!==i&&null!==i?this.view.classList.add("has-residual-entitlement"):this.view.classList.remove("has-residual-entitlement");var a=void 0;a="dividend"===this.selectedType?n+i:n,Math.round(a).toString().length>=8?this.totalDividend.classList.add("long"):this.totalDividend.classList.remove("long"),this.totalDividend.innerHTML=this.currencyFormat(a),this.currencyExchangeRate.innerHTML=this.exchangeRateFormat(),e&&p.default.trackEvent(r({},this.baseEvent,{form_field_1:t,form_field_2:v[this.selectedType],form_field_3:this.selectedCurrencyCode,search_results:this.currencyFormat(a,!1)}))}},{key:"validate",value:function(){return this.ensureType(),this.validateTextInput()&&this.validateCurrency()}},{key:"validateTextInput",value:function(){this.textInput.value=this.textInput.value.trim().replace(/\s/g,"");var e=this.textInput.value,t=e.replace(/[^0-9]/gi,"");return""!==e&&e===t&&parseInt(t,10)>0?(this.form.classList.remove("has-error"),this.textInput.classList.remove("form-control-error"),this.textInput.setAttribute("aria-invalid","false"),this.textInputError.style.display="none",!0):(this.form.classList.add("has-error"),this.textInput.classList.add("form-control-error"),this.textInput.setAttribute("aria-invalid","true"),this.textInputError.style.display="block",this.textInput.focus(),p.default.trackEvent(r({},this.baseEvent,{event_action:"error|"+this.textInputError.innerText.replace(/[\r\n]/g,"").trim()})),!1)}},{key:"ensureType",value:function(){this.view.querySelector(".dividend-calculator__type-selector input[type=radio]:checked")||(this.typeRadioButtons[0].checked="checked")}},{key:"validateCurrency",value:function(){return this.currencySelect.getValue().toLowerCase()in this.currencies}},{key:"currencyFormat",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return[this.selectedCurrency.prefix,t?'<span class="value">':"",parseFloat(e).toFixed(2),t?"</span>":"",this.selectedCurrency.suffix].join("")}},{key:"exchangeRateFormat",value:function(){return this.selectedCurrency.prefix+'<span class="value">'+this.selectedCurrency.exchangeRate+"</span>"+this.selectedCurrency.suffix}},{key:"calculateCashDividend",value:function(e){var t=this.selectedCurrency[this.selectedType],n=e*t;return parseFloat(n.toPrecision(10).toString().match(/^-?\d+(?:\.\d{0,2})?/)[0])}},{key:"calculateResidualEntitlement",value:function(){return null==this.selectedCurrency.residualEntitlement?null:parseFloat(this.selectedCurrency.residualEntitlement.toString().match(/^-?\d+(?:\.\d{0,2})?/)[0])}}]),e}();t.default=m},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){i(this,e),this.view=null}return a(e,[{key:"activate",value:function(e){this.view=e,this.shareAnaliticsFrame=this.view.querySelector("#shareAnalyticsToolIFrame"),null!==this.shareAnaliticsFrame&&(iFrameResize({log:!1,inPageLinks:!0},this.shareAnaliticsFrame),this.shareAnaliticsFrame.addEventListener("load",this.hidePageLoadingIcon.bind(this)))}},{key:"hidePageLoadingIcon",value:function(){this.shareAnaliticsFrame.parentElement.style.background="#fff"}}]),e}();t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var a=n(47),r=n(228),s=i(r),o=n(232),l=i(o),u=n(233),c=i(u),h=n(97),d=i(h);window.MediaGalleryCategoryListing=l.default,window.MediaGalleryManager=c.default,window.VideoPlayer=d.default,(0,h.activateYouTubePlayerAPIReadyCallback)(),document.addEventListener(a.VIDEO_ASSETS_CHANGED,a.activateAllVideoPlayers),(new s.default).activate()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=(n(1),n(6)),l=(i(o),n(4)),u=i(l),c=n(99),h=i(c),d=n(230),f=i(d),p=function(){function e(t){a(this,e),this.feature=t,this.loaderTemplate=Handlebars.templates["loader-template"],this.loadingViewer=!1,this.relatedCategoryClickedEventData={event_action:"ImageViewer",event_category:"content",event_subcategory:"RelatedImage",event_type:"click"}}return s(e,[{key:"activate",value:function(t,n){var i=this,a=void 0,s=void 0,o=void 0,l=function(a,r){if(!i.loadingViewer&&(i.loadingViewer=!0,!document.querySelector(".popups > .viewer-module"))){e.ensureProperFocus(r);var l=void 0;a.dataset.hasRelated&&"true"===a.dataset.hasRelated.toLowerCase()?(s=n||new f.default(r),l=s.loadCarousel(a.dataset.imageId)):(o=t||new h.default(r),l=o.loadViewer(a,parseFloat(a.dataset.scale))),l.then(function(){i.loadingViewer=!1})}};document.addEventListener("click",function(e){"img"===e.target.nodeName.toLowerCase()&&e.target.hasAttribute("data-image-id")&&(a=e.target,l(e.target,a))}),document.addEventListener("keyup",function(e){"Enter"===e.key&&e.target.firstElementChild&&e.target.firstElementChild.hasAttribute("data-image-id")&&(a=e.target,l(e.target.firstElementChild,a))}),document.addEventListener("click",function(e){"button"===e.target.nodeName.toLowerCase()&&e.target.classList.contains("image-with-links__full-screen-button")&&e.target.parentNode.previousElementSibling&&e.target.parentNode.previousElementSibling.hasAttribute("data-image-id")&&(a=e.target,l(e.target.parentNode.previousElementSibling,a))}),document.addEventListener("click",function(e){var t=e.target.closest("div[data-category-first-image]");if(t){var n=t.querySelector("a");u.default.trackEvent(r({},i.relatedCategoryClickedEventData,{event_content:n.innerText+" | "+n.innerText}));var o=t.getAttribute("data-category-first-image"),l=document.createElement("div");l.setAttribute("id","viewer-carousel-loading"),l.innerHTML=i.loaderTemplate(),document.body.appendChild(l),s.onViewerClose(),s=new f.default(a),s.loadCarousel(o)}})}}],[{key:"ensureProperFocus",value:function(e){var t=document.activeElement;t&&t.blur&&t.blur(),e&&e.blur&&e.blur(),document.body.focus()}}]),e}();t.default=p},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(23),o=i(s),l=n(20),u=i(l),c=function(){function e(t){a(this,e),this.dal=t||new u.default}return r(e,[{key:"getImageData",value:function(e){var t=this,n=e;return new Promise(function(e,i){t.dal.getData(o.default.IMAGE_VIEWER_SERVICE+"/"+n,e,i)})}}]),e}();t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(6),l=i(o),u=n(4),c=i(u),h=n(99),d=i(h),f=n(231),p=i(f),v=function(){function e(t){a(this,e),this.related=new p.default,this.scaled=!1,this.opened=!1,this.opening=!1,this.closing=!1,this.zoomScale=null,this.currentSlide=0,this.slidesCount=0,this.lastFocusedElement=t,this.viewerCarouselTemplate=Handlebars.templates["image-viewer-with-related-template"],this.imageViewersResizeEventCallbacks=[],this.eventData={event_action:"ImageViewer",event_category:"content",event_type:"click"}}return s(e,[{key:"onViewerClose",value:function(){var e=this;this.opened&&!this.closing&&(this.closing=!0,this.imageViewersResizeEventCallbacks.forEach(function(e){window.removeEventListener("resize",e)}),this.view.remove(),document.body.classList.remove("noscroll"),l.default.popups&&(l.default.showAllBut("popups"),l.default.allowFocus(),l.default.removeTabToFrom(this.prevArrow,this.viewerClose),l.default.removeCloseOnEscapeKeydown()),this.lastFocusedElement&&setTimeout(function(){e.lastFocusedElement.focus()},100),this.opened=!1,this.closing=!1)}},{key:"loadCarousel",value:function(e){var t=this;return this.opened||this.opening?Promise.resolve():(this.opening=!0,this.related.getRelated(e).then(function(n){n.images.forEach(function(e){e.imageData&&e.imageData.highResolutionImage&&(e.imageData.image=e.imageData.highResolutionImage)});var i=document.createElement("div");i.innerHTML=t.viewerCarouselTemplate(n),t.view=i.firstChild,t.slidesCount=n.images.length,l.default.popups?l.default.popups.appendChild(i.firstChild):document.body.appendChild(i.firstChild),t.initCarousel();var a=t.view.querySelectorAll(".viewer-module");a.forEach(function(i,r){i.dataset.imageId===e||!e&&0===r?(i.classList.add("current"),t.currentSlide=r,t.loadImage(i),t.loadImage(i.nextElementSibling),t.loadImage(i.previousElementSibling),t.enableFocus(i),0===r&&t.disablePrevArrow(),r!==a.length-1||t.moreCategories||t.disableNextArrow()):(i.setAttribute("aria-hidden","true"),t.disableFocus(i));var s=+i.dataset.scale||1.5;(new d.default).loadViewerFunctionality(n.images[r],i,s)}),t.updateCarouselPosition(),l.default.popups&&(l.default.hideAllBut("popups"),l.default.restrictFocus(".viewer-carousel",t.view.querySelector(".current img")),l.default.tabToFrom(t.prevArrow,t.viewerClose),l.default.closeOnEscapeKeydown(t,t.onViewerClose.bind(t))),c.default.trackEvent(r({},t.eventData,{event_content:n.images[t.currentSlide].imageData.title})),t.opened=!0,t.opening=!1;var s=document.getElementById("viewer-carousel-loading");s&&s.remove()}).catch(function(){t.opening=!1}))}},{key:"initCarousel",value:function(){var e=this;this.prevArrow=this.view.querySelector(".viewer-carousel__prev"),this.nextArrow=this.view.querySelector(".viewer-carousel__next"),this.viewerClose=this.view.querySelector(".viewer-carousel__close"),this.carouselPosition=document.getElementById("viewer-carousel-position"),this.carouselTotal=document.getElementById("viewer-carousel-total"),this.moreCategories=this.view.querySelector(".more-categories"),this.moreCategories&&(this.backFromMoreCategories=this.moreCategories.querySelector(".more-categories__back"),this.backFromMoreCategories.addEventListener("click",function(){return e.hideMoreCategories()})),this.carouselTotal.innerText=this.slidesCount,this.view.addEventListener("keydown",function(t){return e.keyboardNav(t)},!1),this.prevArrow.addEventListener("click",this.prev.bind(this)),this.nextArrow.addEventListener("click",this.next.bind(this)),this.prevArrow.addEventListener("focus",this.prevArrowFocus.bind(this)),this.nextArrow.addEventListener("focus",this.nextArrowFocus.bind(this)),this.viewerClose.addEventListener("click",function(){e.onViewerClose()});var t=new Hammer.Manager(this.view,{recognizers:[[Hammer.Swipe,{direction:Hammer.DIRECTION_HORIZONTAL}]]});t.on("swipeleft",function(){return e.swipe(e.next)}),t.on("swiperight",function(){return e.swipe(e.prev)}),document.body.classList.add("noscroll")}},{key:"swipe",value:function(e){var t=this.view.querySelector(".current img");(-1===t.style.transform.indexOf("scale")||t.style.transform.indexOf(!0))&&e.apply(this)}},{key:"prev",value:function(){if(!this.prevArrowDisabled){var e=this.view.querySelector(".current");if(e){var t=e.previousElementSibling;t.classList.contains("viewer-module")&&(e.classList.remove("current"),e.setAttribute("aria-hidden","true"),t.classList.add("current"),t.removeAttribute("aria-hidden"),this.disableFocus(e),this.enableFocus(t),this.currentSlide-=1,this.updateCarouselPosition(),this.loadImage(t.previousElementSibling),this.nextArrowDisabled&&this.enableNextArrow(),t.previousElementSibling.classList.contains("viewer-module")||this.disablePrevArrow(),this.track(e,t))}}}},{key:"next",value:function(){if(!this.nextArrowDisabled){var e=this.view.querySelector(".current");if(e){var t=e.nextElementSibling;if(!t.classList.contains("viewer-module"))return void this.showMoreCategories();e.classList.remove("current"),e.setAttribute("aria-hidden","true"),t.classList.add("current"),t.removeAttribute("aria-hidden"),this.disableFocus(e),this.enableFocus(t),this.currentSlide+=1,this.updateCarouselPosition(),this.loadImage(t.nextElementSibling),this.prevArrowDisabled&&this.enablePrevArrow(),this.currentSlide+1!==this.slidesCount||this.moreCategories||this.disableNextArrow(),this.track(e,t)}}}},{key:"track",value:function(e,t){var n=e.querySelector("img").getAttribute("src"),i=n.substring(n.lastIndexOf("/")+1);c.default.trackEvent(r({},this.eventData,{event_content:t.querySelector(".details .title").innerText,event_subcategory:utag_data.page_url+"|"+i}))}},{key:"loadImage",value:function(e){if(e&&e.classList.contains("viewer-module")){var t=e.querySelector("img");t&&!t.hasAttribute("src")&&t.setAttribute("src",t.dataset.imageSrc)}}},{key:"disablePrevArrow",value:function(){this.prevArrowDisabled=!0,this.prevArrow.setAttribute("disabled","disabled"),this.prevArrow.setAttribute("tabindex","-1"),l.default.tabToFrom(this.view.querySelector(".current img"),this.viewerClose)}},{key:"enablePrevArrow",value:function(){this.prevArrowDisabled=!1,this.prevArrow.removeAttribute("disabled"),this.prevArrow.setAttribute("tabindex","0"),l.default.tabToFrom(this.prevArrow,this.viewerClose)}},{key:"disableNextArrow",value:function(){this.nextArrowDisabled=!0,this.nextArrow.setAttribute("disabled","disabled"),this.nextArrow.setAttribute("tabindex","-1")}},{key:"enableNextArrow",value:function(){this.nextArrowDisabled=!1,this.nextArrow.removeAttribute("disabled"),this.nextArrow.setAttribute("tabindex","0")}},{key:"prevArrowFocus",value:function(){this.moreCategories&&"block"===this.moreCategories.style.display&&this.backFromMoreCategories.focus()}},{key:"nextArrowFocus",value:function(){this.moreCategories&&"block"===this.moreCategories.style.display&&this.viewerClose.focus()}},{key:"showMoreCategories",value:function(){if(this.moreCategories){this.moreCategories.style.display="block",this.backFromMoreCategories.focus();var e=this.view.querySelector(".current");e.setAttribute("aria-hidden","true"),this.disableFocus(e)}}},{key:"hideMoreCategories",value:function(){if(this.moreCategories){this.moreCategories.style.display="none";var e=this.view.querySelector(".current");e.removeAttribute("aria-hidden"),this.enableFocus(e)}}},{key:"updateCarouselPosition",value:function(){this.carouselPosition.innerText=this.currentSlide+1}},{key:"disableFocus",value:function(e){if(e.classList.contains("viewer-module")){e.querySelectorAll('a, button, [tabindex="0"]').forEach(function(e){e.classList.contains("content")||(e.hasAttribute("tabindex")&&(e.dataset.previousTabindex=e.getAttribute("tabindex")),e.setAttribute("tabindex","-1"))})}}},{key:"enableFocus",value:function(e){if(e.classList.contains("viewer-module")){e.querySelectorAll('[tabindex="-1"]').forEach(function(e){e.classList.contains("content")||(e.hasAttribute("data-previous-tabindex")?(e.setAttribute("tabindex",e.dataset.previousTabindex),e.removeAttribute("data-previous-tabindex")):e.removeAttribute("tabindex"))})}}},{key:"keyboardNav",value:function(e){switch(e.key){case"ArrowLeft":case"Left":this.moreCategories&&"block"===this.moreCategories.style.display?this.hideMoreCategories():this.prev();break;case"ArrowRight":case"Right":this.next()}}}]),e}();t.default=v},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(23),o=i(s),l=n(20),u=i(l),c=function(){function e(t){a(this,e),this.dal=t||new u.default}return r(e,[{key:"getRelated",value:function(e){var t=this,n=e;return new Promise(function(e,i){t.dal.getData(o.default.IMAGE_VIEWER_RELATED_SERVICE+"/"+n,e,i)})}}]),e}();t.default=c},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(5),o=i(s),l=n(10),u=i(l),c=n(100),h=i(c),d=n(47),f=function(){function e(t){a(this,e),this.repository=t||new h.default,this.nextPage=1}return r(e,[{key:"activate",value:function(e){var t=this;this.view=e,this.container=this.view.querySelector('[data-loadmore="container"]'),this.loadMoreButton=this.view.querySelector('[data-loadmore="button"]'),this.categoryKey=this.loadMoreButton?this.loadMoreButton.dataset.key:null,this.allItemsCount=parseInt(this.view.dataset.itemscount,10)||0,this.refreshItemsCount(),this.dataSource=this.view.closest("[data-datasource]").dataset.datasource,this.loadMoreButton&&this.loadMoreButton.addEventListener("click",function(){return t.loadMore()}),this.checkLoadMoreButton()}},{key:"refreshItemsCount",value:function(){this.loadedItemsCount=this.container.querySelectorAll(".media-gallery-category-listing__item").length,this.remainingItemsCount=this.allItemsCount-this.loadedItemsCount}},{key:"checkLoadMoreButton",value:function(){this.remainingItemsCount<=0&&this.loadMoreButton&&this.loadMoreButton.remove()}},{key:"appendItem",value:function(e){this.container.insertAdjacentHTML("beforeend",'<div class="media-gallery-category-listing__item col-md-4 col-sm-4 col-xs-12">'+this.assetTemplate(e)+"</div>")}},{key:"loadMore",value:function(){var e=this;this.loadMoreButton.disabled=!0,void 0===this.assetTemplate&&(this.assetTemplate=Handlebars.templates["media-gallery-asset-template"]);var t={dataSource:this.dataSource,categoryKey:this.categoryKey,nextPage:this.nextPage,mobile:window.innerWidth<=767};this.repository.loadMoreItems(t,function(t){t.categories[0].items.forEach(function(t){e.appendItem(t)});var n=e.container.querySelector(".media-gallery-category-listing__item:nth-child("+(e.loadedItemsCount+1)+") .media-gallery-asset > div");n&&(n.setAttribute("tabindex",-1),setTimeout(function(){u.default.focusWithoutScroll(n)},50)),e.nextPage++,e.refreshItemsCount(),e.checkLoadMoreButton();var i=new o.default("mediaGallery.onLoadMore");document.dispatchEvent(i),(0,d.dispatchVideoAssetsChanged)(),e.loadMoreButton.disabled=!1},function(t){e.loadMoreButton.disabled=!1})}}]),e}();t.default=f},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(100),c=i(u),h=n(67),d=i(h),f=n(40),p=(i(f),n(10)),v=i(p),m=n(47),g=n(92),y=function(){function e(t){s(this,e),this.repository=t||new c.default}return l(e,[{key:"activate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.datasource,a=n.noResultsText;this.view=e,this.dataSource=i||this.view.getAttribute("data-datasource"),this.noResultsText=a||this.view.getAttribute("data-no-results-text"),this.dataContainer=this.view.querySelector(".media-gallery-manager__data"),this.filterView=this.view.querySelector(".filter-module"),this.filter=new Filter(function(e){return t.applyFilter(e)},function(){return t.clearFilter()}),this.filter.activate(this.filterView),this.filter.disableTracking(),this.itemsCount=[].concat(r(document.querySelectorAll(".media-gallery-category-listing[data-itemscount]"))).map(function(e){return parseInt(e.dataset.itemscount,10)||0}).reduce(function(e,t){return e+t},0),this.updateVisibleItemsCount(),this.paginationContainer=this.view.querySelector(".media-gallery-manager__pagination"),this.bindOnLoadMoreEvent()}},{key:"bindOnLoadMoreEvent",value:function(){var e=this;document.addEventListener("mediaGallery.onLoadMore",function(){return e.updateVisibleItemsCount()})}},{key:"initPagination",value:function(){var e=this;if(!this.pagination){void 0===this.paginationTemplate&&(this.paginationTemplate=Handlebars.templates["pagination-template"]);var t=this.paginationContainer.dataset;this.paginationContainer.insertAdjacentHTML("beforeend",this.paginationTemplate(t)),this.pagination=new d.default(function(t){e.changePage(t)},function(t){e.changeDisplayedItemsCount(t)}),this.pagination.activate(this.paginationContainer.querySelector(".pagination-module"),t)}}},{key:"appendFilteredListing",value:function(e){this.dataContainer.insertAdjacentHTML("beforeend",this.filteredTemplate(e))}},{key:"displayFilteredResults",value:function(e,t,n,i){var a=this;void 0===this.filteredTemplate&&(this.filteredTemplate=Handlebars.templates["media-gallery-filtered-listing-template"]),this.paginationPageNumber=t,this.paginationItemsPerPage=n;var r={dataSource:this.dataSource,filter:e,pageNumber:t,take:n};this.repository.getFilteredResults(r,function(n){1===t&&a.track(e,n),a.setFilteredResults(n,i)},function(e){})}},{key:"setFilteredResults",value:function(e,t){if(0===e.items.length)this.dataContainer.innerHTML='<h2 class="media-gallery-manager__noResults container" role="alert" aria-atomic="true">'+this.noResultsText+"</h2>",this.paginationContainer.style.display="none",this.filter.updateDisplayedNumbersOfItems();else{this.clearResults();var n={items:[]};e.items.forEach(function(e,t,i){n.items.push(e),3!==n.items.length&&t!==i.length-1||(this.appendFilteredListing(n),n.items=[])},this),this.pagination.update(e.itemsCount,this.paginationPageNumber,this.paginationItemsPerPage),this.paginationContainer.style.display="",this.filter.updateDisplayedNumbersOfItems(this.pagination.getDisplayedNumbersOfItems()),t&&v.default.scrollTo(this.filterView,this.view.querySelector(".media-gallery-manager__data-before")),(0,m.dispatchVideoAssetsChanged)()}}},{key:"clearResults",value:function(){[].concat(r(this.dataContainer.querySelectorAll(".video-player"))).filter(function(e){return e.component&&e.component.destroy}).forEach(function(e){return e.component.destroy()}),this.dataContainer.innerHTML=""}},{key:"applyFilter",value:function(e){this.filterState=e,void 0===this.pagination&&this.initPagination(),this.displayFilteredResults(this.filterState,1,this.pagination.itemsPerPage)}},{key:"changePage",value:function(e){this.displayFilteredResults(this.filterState,e,this.pagination.itemsPerPage,!0)}},{key:"changeDisplayedItemsCount",value:function(e){this.displayFilteredResults(this.filterState,1,e,!0)}},{key:"appendCategoryListing",value:function(e){var t=this.categoryTemplate(e);this.dataContainer.insertAdjacentHTML("beforeend",t),(new MediaGalleryCategoryListing).activate(this.dataContainer.querySelectorAll(".media-gallery-category-listing:last-of-type")[0])}},{key:"clearFilter",value:function(){void 0===this.categoryTemplate&&(this.categoryTemplate=Handlebars.templates["media-gallery-category-listing-template"]);var e={dataSource:this.dataSource,mobile:!1};this.repository.getInitialView(e,this.setInitialView.bind(this),function(e){})}},{key:"setInitialView",value:function(e){this.dataContainer.innerHTML="",this.paginationContainer.style.display="none";var t=0,n=0;e.categories.forEach(function(e){this.appendCategoryListing(e),t+=e.itemsCount,n+=e.items.length},this),this.filter.updateDisplayedNumbersOfItems({from:1,to:n,total:t}),(0,m.dispatchVideoAssetsChanged)()}},{key:"updateVisibleItemsCount",value:function(){var e=document.querySelectorAll(".media-gallery-category-listing__item").length;this.filter.updateDisplayedNumbersOfItems({from:1,to:e,total:this.itemsCount})}},{key:"track",value:function(e,t){var n=this.filter.getFilterOptionsTexts(),i=this.filter.getFilterNames(),r=this.filter.filters.reduce(function(t,r){var s=r.filterKey,l=i[s],u=n[s],c=e.filter.find(function(e){return e.key===s}),h=c.values.map(function(e){return u[e]});return o({},t,a({},l,h))},{});(0,g.filterTrackingForMediaGallery)(r,t)}}]),e}();t.default=y},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var a=n(235),r=i(a),s=n(236),o=i(s),l=n(250),u=i(l),c=n(251),h=i(c),d=n(252),f=i(d);window.DottedNavigation=r.default,window.Header=o.default,window.HtmlSitemapLinks=u.default,window.SkipLinks=h.default,window.Tabs=f.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(2),l=i(o),u=n(10),c=i(u),h=n(6),d=i(h),f=n(0),p=n(1),v=n(9),m=function(){function e(){r(this,e),this.view=null}return s(e,[{key:"activate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.autohideStickyHeader;if(this.view=e,this.list=this.view.querySelector("ul"),this.dots=this.view.querySelectorAll("a"),this.autohideStickyHeader=void 0!==n&&!1!==n,this.header=document.querySelector(".header"),this.sections=document.querySelectorAll(".sublayout[id]"),this.dottedNavSection=this.view.closest(".sublayout"),this.overlay=this.view.querySelector(".dotted-navigation__overlay"),this.firstSectionAfterNav=null!==this.dottedNavSection?this.dottedNavSection.nextElementSibling:null,this.mobileMenuToggle=this.view.querySelector(".dotted-navigation__toggle"),this.mobileMenuBoundingRect=this.view.getBoundingClientRect(),this.mobileMenuInitialScrollTop=this.mobileMenuBoundingRect.top+(0,f.getScrollTop)(),this.mobileMenuExpanded=!1,this.mobileMenuSticky=!1,this.mainNavJustClosed=!1,this.lastScrollY=0,this.scrollByClick=!1,!(this.list&&this.header&&0!==this.sections.length&&this.firstSectionAfterNav&&this.mobileMenuToggle))return null;this.buildDottedNavigation(),this.highlightMenuItem(),this.highlightMenuItemBound=this.highlightMenuItem.bind(this),window.addEventListener("scroll",this.highlightMenuItemBound),this.positionMobileMenu(),this.positionMobileMenuBound=this.positionMobileMenu.bind(this),window.addEventListener("scroll",this.positionMobileMenuBound),this.debouncedScrollEnd=(0,p.debounce)(50,!1,this.scrollEnd.bind(this)),window.addEventListener("scroll",this.debouncedScrollEnd),this.throttledHighlightMenuItem=(0,p.throttle)(50,this.highlightMenuItem.bind(this)),window.addEventListener("resize",this.throttledHighlightMenuItem),this.debouncedResizeEnd=(0,p.debounce)(50,this.resizeEnd.bind(this)),window.addEventListener("resize",this.debouncedResizeEnd),this.mobileMenuToggle.addEventListener("click",this.toggleMobileMenu.bind(this)),this.setTopPositionOnMobileAfterMainNavClosedBound=this.setTopPositionOnMobileAfterMainNavClosed.bind(this,l.default),document.addEventListener("navigationMobile.onClose",this.setTopPositionOnMobileAfterMainNavClosedBound)}},{key:"buildDottedNavigation",value:function(){var e=this;this.list.innerHTML="",this.sections.forEach(function(t){var n=t.getAttribute("id"),i=e.getSectionTitle(t),a=document.createElement("li"),r=document.createElement("a");r.setAttribute("href","#"+n),r.setAttribute("data-text",i),r.innerText=i,a.appendChild(r),e.list.appendChild(a)}),this.mobileMenuToggle.innerText=this.getSectionTitle(this.firstSectionAfterNav),this.dottedNavSection.style.height=this.mobileMenuToggle.clientHeight+"px",this.dots=this.view.querySelectorAll("a"),this.dots.forEach(function(t){t.addEventListener("click",function(n){n.preventDefault(),e.scrollByClick=!0,e.scrollToSection(t),l.default.small.matches&&e.hideMobileMenu()}),t.addEventListener("blur",function(){(0,v.isMobile)()||e.expandOrCollapseOnKeyboardFocus()}),t.addEventListener("focus",function(){return e.expandOrCollapseOnKeyboardFocus()})}),this.autohideStickyHeader&&l.default.medium.matches&&this.header.classList.add("animated"),document.addEventListener("touchend",function(){}),this.overlay.addEventListener("click",function(){e.setExpanded(!0)});var t=function(t){e.view.contains(t.target)||e.setExpanded(!1)};document.addEventListener("click",t),document.addEventListener("touchend",t)}},{key:"expandOrCollapseOnKeyboardFocus",value:function(){var e=this.view.querySelectorAll("a:focus");this.setExpanded(e.length>0)}},{key:"setExpanded",value:function(e){this.view.classList[e?"add":"remove"]("open")}},{key:"scrollToSection",value:function(e){var t=this,n=document.getElementById(e.getAttribute("href").substring(1));if(null!==n){var i=n.getBoundingClientRect(),a=window.getComputedStyle(n),r=this.lastScrollY-(0,f.getScrollTop)()>i.top,s=n.querySelector("h1, h2, h3, h4, p, a, button");null!==s&&"A"!==s.nodeName&&"BUTTON"!==s.nodeName&&s.setAttribute("tabindex","-1");var o=parseInt(a.marginTop.replace("px",""),10);if(0!=a.paddingTop.replace("px","")||this.autohideStickyHeader||(o+=l.default.small.matches?55:90),l.default.medium.matches&&(o-=this.header.clientHeight),l.default.small.matches&&i.top<0&&n!==this.firstSectionAfterNav&&(o+=this.mobileMenuToggle.clientHeight),l.default.small.matches&&r&&n===this.firstSectionAfterNav&&(o+=this.header.clientHeight),c.default.scrollTo(n,s,o),window.SCROLLING){this.view.classList.add("dotted-navigation--blocked");var u=setInterval(function(){window.SCROLLING||(clearInterval(u),t.view.classList.remove("dotted-navigation--blocked"))},100)}}}},{key:"highlightMenuItem",value:function(){var e=this,t=(0,f.getScrollTop)();this.sections.forEach(function(n,i){var a=n.getBoundingClientRect(),r=parseInt(a.top+t-window.innerHeight/6,10);if(0===i&&t<r)e.dots.forEach(function(e){return e.classList.remove("selected")});else if(t>=r){e.dots.forEach(function(e){return e.classList.remove("selected")});var s=n.getAttribute("id");if(null===s)return;var o=e.view.querySelector('a[href="#'+s+'"]');if(null===o)return;o.classList.add("selected"),e.mobileMenuToggle.innerText=o.textContent}})}},{key:"positionMobileMenu",value:function(){if(!this.mobileMenuExpanded){var e=this.view.getBoundingClientRect(),t=(0,f.getScrollTop)(),n=this.lastScrollY-t<0,i=!n;e.top<=0&&!this.mobileMenuSticky&&n&&(this.view.classList.add("sticky"),this.mobileMenuSticky=!0),this.mobileMenuInitialScrollTop>=t&&this.mobileMenuSticky&&i&&(this.view.classList.remove("sticky"),this.mobileMenuSticky=!1,this.resetTopPositionOnMobile(l.default)),this.mobileMenuSticky&&i?this.setTopPositionOnMobile(l.default):(this.mainNavJustClosed||this.resetTopPositionOnMobile(l.default),this.mainNavJustClosed=!1)}}},{key:"scrollEnd",value:function(){this.autohideStickyHeader&&this.showHeaderOnDesktop(),this.lastScrollY=(0,f.getScrollTop)(),this.scrollByClick=!1}},{key:"resizeEnd",value:function(){this.dottedNavSection.style.height=this.mobileMenuToggle.clientHeight+"px",l.default.medium.matches?(this.view.style.top="50%",this.header.classList.add("animated")):this.header.classList.remove("animated")}},{key:"toggleMobileMenu",value:function(){this.mobileMenuExpanded?this.hideMobileMenu():this.showMobileMenu()}},{key:"showMobileMenu",value:function(){var e=this;this.view.classList.add("expanded"),this.mobileMenuToggle.setAttribute("aria-expanded","true"),this.mobileMenuExpanded=!0,l.default.small.matches&&(d.default.hideAllBut(["main"]),[].concat(a(this.dottedNavSection.parentNode.children)).filter(function(t){return t!==e.dottedNavSection}).forEach(function(e){return e.setAttribute("aria-hidden","true")}),d.default.restrictFocus(this.view,this.mobileMenuToggle),d.default.tabToFrom(this.mobileMenuToggle,this.dots[this.dots.length-1]))}},{key:"hideMobileMenu",value:function(){var e=this;this.mobileMenuExpanded&&(d.default.showAllBut(["popups"]),[].concat(a(this.dottedNavSection.parentNode.children)).filter(function(t){return t!==e.dottedNavSection}).forEach(function(e){return e.setAttribute("aria-hidden","false")}),d.default.allowFocus(),d.default.removeTabToFrom(this.mobileMenuToggle,this.dots[this.dots.length-1])),this.view.classList.remove("expanded"),this.mobileMenuExpanded=!1,this.mobileMenuToggle.setAttribute("aria-expanded","false")}},{key:"showHeaderOnDesktop",value:function(){var e=this.lastScrollY-(0,f.getScrollTop)()<-1;l.default.medium.matches&&(e?this.setHeaderTopOnDesktop(l.default):this.scrollByClick||this.resetHeaderTopOnDesktop(l.default))}},{key:"setTopPositionOnMobileAfterMainNavClosed",value:function(e){e.small.matches&&(this.mainNavJustClosed=!0,this.setTopPositionOnMobile(e))}},{key:"setTopPositionOnMobile",value:function(e){e.small.matches&&(this.view.style.top=this.header.clientHeight+"px")}},{key:"resetTopPositionOnMobile",value:function(e){e.small.matches&&(this.view.style.top="0px")}},{key:"setHeaderTopOnDesktop",value:function(e){e.medium.matches&&(this.header.style.top=-this.header.clientHeight+"px")}},{key:"resetHeaderTopOnDesktop",value:function(e){e.medium.matches&&(this.header.style.top="0px")}},{key:"getSectionTitle",value:function(e){var t=e.getAttribute("data-dotted-nav-title");if(t)return t;var n=e.querySelector(".sublayout--heading");return null!==n?n.innerText:""}}]),e}();t.default=m},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(101),o=(i(s),n(2)),l=i(o),u=n(237),c=i(u),h=n(238),d=i(h),f=n(246),p=i(f),v=n(247),m=i(v),g=n(248),y=i(g),b=n(249),w=i(b),k=function(){function e(){a(this,e),this.isActivated=!1,this.headerEl=null,this.wrapper=null,this.nav=null,this.navigationMobile=null,this.navigationDesktop=null,this.stickyMobile=null,this.stickyDesktop=null,this.stickyShell=null,this.search=null,this.bound={}}return r(e,[{key:"mediaQuerySwitch",value:function(e){if(e.matches)return this.navigationMobile.deactivate(),this.stickyMobile.deactivate(),this.navigationDesktop.activate(this.wrapper),void this.stickyDesktop.activate(this.headerEl);e.matches||(this.navigationDesktop.deactivate(),this.stickyDesktop.deactivate(),this.navigationMobile.activate(this.wrapper),this.stickyMobile.activate(this.headerEl))}},{key:"activate",value:function(e){this.isActivated||(this.headerEl=e,this.headerEl&&(this.wrapper=e.querySelector(".nav__wrapper"),this.wrapper&&(this.nav=e.querySelector(".nav"),this.nav&&(this.navigationMobile=new c.default,this.navigationDesktop=new d.default,this.stickyMobile=new p.default,this.stickyDesktop=new m.default(this.headerEl),this.stickyShell=new y.default,this.search=new w.default,this.search.activate(),this.stickyShell.activate(this.headerEl),this.bound.mediaQuerySwitch=this.mediaQuerySwitch.bind(this),l.default.medium.addListener(this.bound.mediaQuerySwitch),this.mediaQuerySwitch(l.default.medium),this.isActivated=!0))))}},{key:"deactivate",value:function(){this.isActivated&&(this.navigationMobile.deactivate(),this.navigationDesktop.deactivate(),this.stickyMobile.deactivate(),this.stickyDesktop.deactivate(),this.stickyShell.deactivate(),this.search.deactivate(),l.default.medium.removeListener(this.bound.mediaQuerySwitch),this.headerEl=null,this.wrapper=null,this.nav=null,this.bound={},this.isActivated=!1)}}]),e}(),_=new k;_.activate(document.querySelector(".header")),t.default=_},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(5),l=i(o),u=n(6),c=i(u),h=n(4),d=i(h),f=function(){function e(){r(this,e),this.duration=250,this.isActivated=!1,this.wrapper=null,this.nav=null,this.animating=!1,this.isOpen=!1,this.liftTimeout=null,this.openTimeout=null,this.openEvent=null,this.closeEvent=null,this.toggleButton=null,this.parent=[],this.bound={};var t=this;this.navLinkClick=function(e){function n(){t.animating=!1,t.wrapper.classList.remove("animating"),t.wrapper.classList.remove("next"),r.classList.remove("animate"),s.classList.remove("animate"),s.removeEventListener("transitionend",n),r.remove(),t.updateNav(a,t.nav),a.firstElementChild.firstElementChild.focus(),t.parent.push(i)}var i=this;if(!t.animating){var a=this.nextElementSibling;if(a&&(a.classList.contains("nav__submenu")||(a=a.querySelector(".nav__submenu")),a)){e.preventDefault();var r=a.cloneNode(!0),s=t.nav;r.setAttribute("data-nav","anim"),t.animating=!0,t.wrapper.classList.add("next"),t.wrapper.classList.add("animating"),t.wrapper.insertAdjacentElement("beforeEnd",r),s.addEventListener("transitionend",n),setTimeout(function(){r.classList.add("animate"),r.style.top=t.wrapper.scrollTop+"px",r.style.position="relative",s.classList.add("animate")},2)}}},this.navBackClick=function(e){function n(){t.animating=!1,t.wrapper.classList.remove("animating"),t.wrapper.classList.remove("prev"),a.classList.remove("animate"),r.classList.remove("animate"),a.removeEventListener("transitionend",n),r.remove(),t.parent[t.parent.length-1].focus(),t.parent.pop()}if(!t.animating){e.preventDefault(),e.stopPropagation();var i=t.closest(t.closest(this,"nav__submenu"),"nav__submenu")||t.closest(e.target,"nav");if(i){var a=t.nav,r=t.closest(this,"nav__submenu").cloneNode(!0);r.setAttribute("data-nav","anim"),t.wrapper.classList.add("prev"),t.wrapper.insertAdjacentElement("afterBegin",r),t.updateNav(i,t.nav),setTimeout(function(){t.animating=!0,t.wrapper.classList.add("animating"),setTimeout(function(){a.classList.add("animate"),r.classList.add("animate")},2)},2),a.addEventListener("transitionend",n)}}}}return s(e,[{key:"updateNav",value:function(e,t){var n=this.getAncestors(e,t,[]);return this.removeSubViewClasses(this.nav),this.updateSubViewClasses(n)}},{key:"removeSubViewClasses",value:function(e){[].concat(a(this.wrapper.querySelectorAll(".nav--subview, .nav--subview-open"))).forEach(function(t){(e.contains(t)||e===t)&&(t.classList.remove("nav--subview"),t.classList.remove("nav--subview-open"))})}},{key:"updateSubViewClasses",value:function(e){return e.map(function(t,n){return t.classList.contains("nav__item")&&(n<4?t.classList.add("nav--subview-open"):t.classList.add("nav--subview")),t.classList.contains("nav")&&e.length>1&&t.classList.add("nav--subview"),t})}},{key:"getAncestors",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return n.push(e),e!==t?this.getAncestors(e.parentElement,t,n):n}},{key:"closest",value:function(e,t){return null===e.parentElement||e.parentElement.classList.contains(t)?e.parentElement:this.closest(e.parentElement,t)}},{key:"open",value:function(){var e=this;this.isOpen||(clearTimeout(this.liftTimeout),clearTimeout(this.openTimeout),this.wrapper.classList.add("nav__wrapper--lifted"),this.openTimeout=setTimeout(function(){e.wrapper.classList.add("nav__wrapper--open"),c.default.popups&&c.default.hideAllBut(["header"])},2),document.dispatchEvent(this.openEvent),this.isOpen=!0,this.updateToggleIcon(),this.updateAriaExpandedOnButton())}},{key:"close",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isOpen&&(c.default.popups&&c.default.showAllBut("popups"),t?(clearTimeout(this.liftTimeout),clearTimeout(this.openTimeout),this.openTimeout=setTimeout(function(){e.wrapper.classList.remove("nav__wrapper--open"),e.liftTimeout=setTimeout(function(){e.wrapper.classList.remove("nav__wrapper--lifted"),e.removeSubViewClasses(e.nav),document.dispatchEvent(e.closeEvent)},e.duration)},2)):(this.wrapper.classList.remove("nav__wrapper--open"),this.wrapper.classList.remove("nav__wrapper--lifted"),this.removeSubViewClasses(this.nav),document.dispatchEvent(this.closeEvent)),this.isOpen=!1,this.updateToggleIcon(),this.updateAriaExpandedOnButton())}},{key:"toggle",value:function(){this.isOpen?this.close():this.open()}},{key:"updateToggleIcon",value:function(){this.toggleButton.firstElementChild.classList.toggle("hsbc-menu",!this.isOpen),this.toggleButton.firstElementChild.classList.toggle("hsbc-close",this.isOpen)}},{key:"updateAriaExpandedOnButton",value:function(){this.toggleButton.setAttribute("aria-expanded",this.isOpen)}},{key:"activate",value:function(t){var n=this;this.isActivated||t&&(this.wrapper=t,this.nav=t.querySelector(".nav"),this.toggleButton=this.wrapper.parentElement.querySelector(".nav__button"),this.wrapper&&this.nav&&this.toggleButton&&(this.bound.toggle=this.toggle.bind(this),this.bound.close=this.close.bind(this),[].concat(a(this.wrapper.querySelectorAll(".nav__link:not(.nav__back)"))).forEach(function(e){return e.addEventListener("click",n.navLinkClick)}),[].concat(a(this.wrapper.querySelectorAll(".nav > .nav__item > .nav__link"))).forEach(function(t){return t.addEventListener("click",e.trackEvent)}),[].concat(a(this.wrapper.querySelectorAll(".nav__back"))).forEach(function(e){return e.addEventListener("click",n.navBackClick)}),this.toggleButton.addEventListener("click",this.bound.toggle),document.addEventListener("search.onOpen",this.bound.close),this.openEvent=new l.default("navigationMobile.onOpen"),this.closeEvent=new l.default("navigationMobile.onClose"),this.isActivated=!0))}},{key:"deactivate",value:function(){var t=this;this.isActivated&&(this.close(!1),[].concat(a(this.wrapper.querySelectorAll(".nav__link:not(.nav__back)"))).forEach(function(e){return e.removeEventListener("click",t.navLinkClick)}),[].concat(a(this.wrapper.querySelectorAll(".nav > .nav__item > .nav__link"))).forEach(function(t){return t.removeEventListener("click",e.trackEvent)}),[].concat(a(this.wrapper.querySelectorAll(".nav__back"))).forEach(function(e){return e.removeEventListener("click",t.navBackClick)}),this.toggleButton.removeEventListener("click",this.bound.toggle),document.removeEventListener("search.onOpen",this.boundclose),this.duration=250,this.wrapper=null,this.nav=null,this.animating=!1,this.isOpen=!1,this.liftTimeout=null,this.openTimeout=null,this.openEvent=null,this.closeEvent=null,this.toggleButton=null,this.bound={},this.isActivated=!1)}}],[{key:"trackEvent",value:function(e){var t={event_type:"click",event_category:"content",event_action:"GlobalMenu",event_content:e.target.innerText};d.default.trackEvent(t)}}]),e}();t.default=f},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var s,o=e[Symbol.iterator]();!(i=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&o.return&&o.return()}finally{if(a)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(15),u=i(l),c=n(239),h=i(c),d=n(240),f=i(d),p=n(241),v=i(p),m=n(242),g=i(m),y=n(243),b=i(y),w=n(244),k=i(w),_=n(245),E=i(_),S=n(69),C=i(S),L=u.default.isNotBackLink,A=u.default.isNotCurrentLink,T=function(){function e(){r(this,e),this.name="NavigationDesktop",this.isActivated=!1,this.wrapper=null,this.nav=null,this.linksTree=[],this.navItems=[],this.firstCharacters=[],this.first=null,this.last=null,this.isSubnavOpen=!1,this.currentItem=null,this.bound={},this.a11y=null}return o(e,[{key:"getItemChildren",value:function(e){var t=e.querySelector(".nav__submenu");return t&&(e.firstElementChild.subnavElement=t,e.firstElementChild.subnavChildren=[].concat(a(t.children)).map(this.getItemChildren,this)),e.firstElementChild}},{key:"initNavItem",value:function(e){var t=this,n=new h.default(this);if(n.activate(e),e.subnavChildren){n.subnav=new f.default(this,n),n.subnav.activate(e,e.subnavChildren.filter(L).filter(A).map(function(e){return t.initSubnavItem(e,n.subnav)},this));var i=e.parentElement.querySelector(".skip-link--navigation");i&&(n.subnav.skipLink=new k.default(this,n.subnav),n.subnav.skipLink.activate(i));var a=e.parentElement.querySelector(".highlight");a&&(n.subnav.highlight=new g.default(this,n.subnav),n.subnav.highlight.activate(a));var r=e.parentElement.querySelector(".promo");r&&(n.subnav.promo=new b.default(this,n.subnav),n.subnav.promo.activate(r));var s=e.parentElement.querySelector(".nav__close");s&&(n.subnav.closeButton=new E.default(this,n.subnav),n.subnav.closeButton.activate(s))}return n}},{key:"initSubnavItem",value:function(e,t){var n=this,i=new v.default(this,t);return i.activate(e),e.subnavChildren&&(i.subnav=new f.default(this,i),i.subnav.activate(e,e.subnavChildren.filter(L).filter(A).map(function(e){return n.initSubnavItem(e,i.subnav)},this))),i}},{key:"activate",value:function(e){if(!this.isActivated&&e&&(this.wrapper=e,this.nav=e.querySelector(".nav"),this.wrapper&&this.nav)){this.linksTree=[].concat(a(this.nav.children)).map(this.getItemChildren,this),this.a11y=new C.default(this.nav),this.navItems=this.linksTree.filter(function(e){return!e.parentElement.classList.contains("submenu__link")}).map(this.initNavItem,this),this.first=this.navItems[0],this.last=this.navItems[this.navItems.length-1];var t=this.navItems.filter(function(e){return e.current}),n=s(t,1);this.currentItem=n[0],this.isActivated=!0}}},{key:"deactivate",value:function(){this.isActivated&&(this.wrapper=null,this.nav=null,this.isActivated=!1)}}]),e}();t.default=T},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(15),o=i(s),l=n(7),u=i(l),c=n(4),h=i(c),d=n(69),f=o.default.setFocus,p=o.default.setFocusPrevious,v=o.default.setFocusNext,m=o.default.closeAllSubnav,g=o.default.closeSubnav,NavItem=function(){function NavItem(e){a(this,NavItem),this.name="NavItem",this.isActivated=!1,this.element=null,this.navigation=e,this.parent=e,this.bound={},this.prevEvent=null}return r(NavItem,[{key:"addCurrent",value:function(){this.element.parentElement.classList.add("nav__item--current")}},{key:"removeCurrent",value:function(){this.element.parentElement.classList.remove("nav__item--current")}},{key:"trackEvent",value:function(e){var t={event_type:"click",event_category:"content",event_action:"GlobalMenu",event_content:(e?"":"Masthead | ")+this.element.innerText.trim()};h.default.trackEvent(t)}},{key:"shiftF10",value:function(){m(this.navigation,g),this.subnav.open(),f(this.subnav.skipLink?this.subnav.skipLink:this.subnav.highlight?this.subnav.highlight:this.subnav.first)}},{key:"spacebar",value:function(){this.element.click()}},{key:"spacebarOrEnter",value:function(){m(this.navigation,g),this.subnav.open(),this.navigation.a11y.announce(d.ON_TOP_ITEM_EXPANDED),f(this.subnav.skipLink?this.subnav.skipLink:this.subnav.highlight?this.subnav.highlight:this.subnav.first)}},{key:"down",value:function(){this.subnav.isOpen||(m(this.navigation,g),this.subnav.open()),f(this.subnav.skipLink?this.subnav.skipLink:this.subnav.highlight?this.subnav.highlight:this.subnav.first)}},{key:"left",value:function(){p(this,this.navigation.navItems,!1,f)}},{key:"right",value:function(){v(this,this.navigation.navItems,!1,f)}},{key:"up",value:function(){this.subnav?(m(this.navigation,g),this.subnav.open(),f(this.subnav.closeButton?this.subnav.closeButton:this.subnav.last)):p(this,this.navigation.navItems,!1,f)}},{key:"homeOrPageUp",value:function(){f(this.navigation.first)}},{key:"endOrPageDown",value:function(){f(this.navigation.last)}},{key:"tab",value:function(e){e.shiftKey&&this.navigation.first===this&&m(this.navigation,g)}},{key:"escape",value:function(){m(this.navigation,g)}},{key:"keydown",value:function(e){var t=!1;(0,u.default)(e.keyCode,["f10"])&&e.shiftKey&&this.subnav&&this.shiftF10(),(0,u.default)(e.keyCode,["spacebar"])&&this.subnav&&this.subnav.isOpen&&(this.spacebar(),t=!0),(0,u.default)(e.keyCode,["spacebar","enter"])&&this.subnav&&!this.subnav.isOpen&&(this.spacebarOrEnter(),t=!0,this.trackEvent(!0)),(0,u.default)(e.keyCode,["down-arrow"])&&this.subnav&&this.down(),(0,u.default)(e.keyCode,["down-arrow"])&&(t=!0),(0,u.default)(e.keyCode,["left-arrow"])&&(this.left(),t=!0),(0,u.default)(e.keyCode,["right-arrow"])&&(this.right(),t=!0),(0,u.default)(e.keyCode,["up-arrow"])&&(this.up(),t=!0),(0,u.default)(e.keyCode,["home","page-up"])&&(this.homeOrPageUp(),t=!0),(0,u.default)(e.keyCode,["end","page-down"])&&(this.endOrPageDown(),t=!0),(0,u.default)(e.keyCode,["tab"])&&this.tab(e),(0,u.default)(e.keyCode,["escape"])&&this.escape(),t&&(e.stopPropagation(),e.preventDefault()),this.prevEvent="keydown"}},{key:"click",value:function(e){this.subnav&&!this.subnav.isOpen?(e.preventDefault(),m(this.navigation,g),this.subnav.open(),this.navigation.a11y.announce(d.ON_TOP_ITEM_EXPANDED),this.trackEvent(!0)):this.trackEvent(!1),this.prevEvent="click"}},{key:"focus",value:function(e){!this.subnav||this.subnav.isOpen||this.navigation.isSubnavOpen||this.navigation.a11y.announce(d.ON_TOP_ITEM_FOCUSED_WHEN_ALL_COLLAPSED,200),"keydown"===this.prevEvent&&this.subnav&&!this.subnav.isOpen&&this.navigation.isSubnavOpen&&(m(this.navigation,g),this.subnav.open(),this.navigation.a11y.announce(d.ON_TOP_ITEM_FOCUSED_WHEN_EXPANDED,200))}},{key:"blur",value:function(e){this.navigation&&this.navigation.currentItem&&!this.navigation.currentItem.current&&!this.navigation.isSubnavOpen&&this.navigation.currentItem.addCurrent()}},{key:"mouseover",value:function(e){this.navigation.nav.classList.add("nav--group-hover")}},{key:"mouseout",value:function(e){this.navigation.nav.classList.remove("nav--group-hover")}},{key:"activate",value:function(e){this.isActivated||e&&(this.element=e,this.bound.keydown=this.keydown.bind(this),this.bound.focus=this.focus.bind(this),this.bound.blur=this.blur.bind(this),this.bound.click=this.click.bind(this),this.bound.mouseover=this.mouseover.bind(this),this.bound.mouseout=this.mouseout.bind(this),this.element.addEventListener("keydown",this.bound.keydown),this.element.addEventListener("focus",this.bound.focus),this.element.addEventListener("blur",this.bound.blur),this.element.addEventListener("click",this.bound.click),null!==this.element.nextElementSibling&&(this.element.nextElementSibling.addEventListener("mouseenter",this.bound.mouseover),this.element.nextElementSibling.addEventListener("mouseleave",this.bound.mouseout)),this.isActivated=!0)}},{key:"deactivate",value:function(){this.isActivated&&(this.element.removeEventListener("keydown",this.bound.keydown),this.element.removeEventListener("focus",this.bound.focus),this.element.removeEventListener("blur",this.bound.blur),this.element.removeEventListener("click",this.bound.click),null!==this.element.nextElementSibling&&(this.element.nextElementSibling.removeEventListener("mouseenter",this.bound.mouseover),this.element.nextElementSibling.removeEventListener("mouseleave",this.bound.mouseout)),this.element=null,this.navigation=null,this.parent=null,this.bound={},this.prevEvent=null,this.isActivated=!1)}},{key:"current",get:function(){return this.element.parentElement.classList.contains("nav__item--current")}}]),NavItem}();t.default=NavItem},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(2),o=i(s),l=n(1),u=n(0),c=n(45),h=n(68),d=n(15),f=i(d),p=f.default.setFocus,v=f.default.closeAllSubnav,m=f.default.closeSubnav,g=function(){function e(t,n){a(this,e),this.name="Subnav",this.isActivated=!1,this.element=null,this.navigation=t,this.parent=n,this.isOpen=!1,this.navItems=[],this.firstCharacters=[],this.first=null,this.last=null}return r(e,[{key:"open",value:function(){this.parent.element.parentElement.classList.add("nav__item--active"),this.parent.element.setAttribute("aria-expanded","true"),this.isOpen=!0,this.parent&&"NavItem"===this.parent.name&&(this.navigation.isSubnavOpen=!0);var e=this.getTotalHeight(this.navItems)+100,t=this.element&&this.element.nextElementSibling,n=this.element&&this.element.closest(".nav-group__inner");this.manageSubnavOverflow(),t&&n&&(n.style.minHeight=e+"px")}},{key:"close",value:function(){this.parent.element.parentElement.classList.remove("nav__item--active"),this.parent.element.setAttribute("aria-expanded","false"),this.isOpen=!1,v(this,m),this.parent&&"NavItem"===this.parent.constructor.name&&(this.navigation.isSubnavOpen=!1);var e=this.element&&this.element.nextElementSibling,t=this.element&&this.element.closest(".nav-group__inner");this.resetSubnavOverflow(),e&&t&&""!==t.style.minHeight&&(t.style.minHeight="")}},{key:"manageSubnavOverflow",value:function(){if(o.default.medium.matches){var e=this.navigation.nav.querySelector(".nav__item--active > .nav-group");if(e){var t=(0,u.getScrollTop)(),n=Math.max(document.documentElement.clientHeight,window.innerHeight||0),i=(0,u.getHeader)().clientHeight,a=(0,c.getCookieNotifcationHeight)(),r=(0,h.getSharePriceBarHeight)(),s=i;t<a+r&&(s=i+a+r-t);var l=n-s;e.scrollHeight>l?(e.style.height=l+"px",document.body.classList.add("scroll-disabled")):(e.style.height="",document.body.classList.remove("scroll-disabled"))}}}},{key:"resetSubnavOverflow",value:function(){var e=this.navigation.nav.querySelector(".nav__item--active > .nav-group");null!==e&&(e.style.height=""),document.body.classList.remove("scroll-disabled")}},{key:"getTotalHeight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce||(e=[e]),e.filter(function(e){return e.element}).reduce(function(e,t){var n=window.getComputedStyle(t.element);return e+Math.max(t.element.clientHeight,t.element.offsetHeight,parseInt(t.element.style.height||0))+parseInt(n.marginTop||0)+parseInt(n.marginBottom||0)},0)}},{key:"getFirstVisibleChild",value:function(){var e=this.navItems.findIndex(function(e){return null!==e.element.offsetParent});return e>-1?this.navItems[e]:null}},{key:"setFocusOnFirstVisibleChild",value:function(){var e=this.getFirstVisibleChild();e&&p(e)}},{key:"closeMenuOnClickOutside",value:function(e){null==e.target.closest("header.header")&&this.navigation.nav&&this.close()}},{key:"activate",value:function(e,t){this.isActivated||e&&t&&(this.element=e,this.navItems=t,this.first=this.navItems[0],this.last=this.navItems[this.navItems.length-1],this.debouncedManageSubnavOverflow=(0,l.debounce)(50,!1,this.manageSubnavOverflow.bind(this)),window.addEventListener("resize",this.debouncedManageSubnavOverflow),document.addEventListener("click",this.closeMenuOnClickOutside.bind(this)),this.isActivated=!0)}},{key:"deactivate",value:function(){this.isActivated&&(this.navigation=null,this.element=null,this.parent=null,this.isOpen=!1,this.navItems=[],this.firstCharacters=[],this.first=null,this.last=null,this.isActivated=!1)}}]),e}();t.default=g},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(15),o=i(s),l=n(7),u=i(l),c=n(69),h=o.default.setFocus,d=o.default.setFocusPrevious,f=o.default.setFocusNext,p=o.default.getAncestorByName,v=o.default.closeAllSubnav,m=o.default.closeSubnav,g=function(){function e(t,n){a(this,e),this.name="SubnavItem",this.isActivated=!1,this.element=null,this.navigation=t,this.parent=n,this.owner=null,this.bound={}}return r(e,[{key:"spacebarOrEnter",value:function(){var e=this;v(this.parent,m),this.subnav.isOpen||(this.subnav.open(),this.navigation.a11y.announce(c.ON_SUBMENU_ITEM_EXPANDED)),setTimeout(function(){return h(e.subnav.first)},200)}},{key:"spacebar",value:function(){this.element.click()}},{key:"up",value:function(){this.parent.first===this&&this.parent.highlight?h(this.parent.highlight):this.parent.first===this?h(this.parent.parent):d(this,this.parent.navItems,!1,h)}},{key:"down",value:function(){this.parent.last===this&&this.parent.promo?h(this.parent.promo):f(this,this.parent.navItems,!1,h)}},{key:"right",value:function(){this.subnav?(v(this.owner.subnav,m),this.subnav.isOpen||(this.subnav.open(),this.navigation.a11y.announce(c.ON_SUBMENU_ITEM_EXPANDED)),h(this.subnav.first)):this.owner.subnav.promo?h(this.owner.subnav.promo):this.owner.subnav.closeButton&&h(this.owner.subnav.closeButton)}},{key:"left",value:function(){h(this.parent.highlight?this.parent.highlight:this.parent.parent)}},{key:"homeOrPageUp",value:function(){h(this.parent.first)}},{key:"endOrPageDown",value:function(){h(this.parent.last)}},{key:"escape",value:function(){v(this.parent.parent.parent,m),h(this.parent.parent)}},{key:"tab",value:function(e){e.shiftKey&&this.parent.first===this&&!this.parent.highlight&&this.parent.close(),e.shiftKey||this.parent.last!==this||this.parent.promo||this.parent.closeButton||this.parent.close()}},{key:"keydown",value:function(e){var t=!1;(0,u.default)(e.keyCode,["spacebar"])&&this.subnav&&this.subnav.isOpen&&(this.spacebar(),t=!0),(0,u.default)(e.keyCode,["spacebar","enter"])&&this.subnav&&!this.subnav.isOpen&&(this.spacebarOrEnter(),t=!0),(0,u.default)(e.keyCode,["up-arrow"])&&(this.up(),t=!0),(0,u.default)(e.keyCode,["down-arrow"])&&(this.down(),t=!0),(0,u.default)(e.keyCode,["right-arrow"])&&(this.right(),t=!0),(0,u.default)(e.keyCode,["left-arrow"])&&(this.left(),t=!0),(0,u.default)(e.keyCode,["home","page-up"])&&(this.homeOrPageUp(),t=!0),(0,u.default)(e.keyCode,["end","page-down"])&&(this.endOrPageDown(),t=!0),(0,u.default)(e.keyCode,["escape"])&&this.escape(),(0,u.default)(e.keyCode,["tab"])&&this.tab(e),t&&(e.stopPropagation(),e.preventDefault())}},{key:"click",value:function(e){!1!==e.isTrusted&&this.subnav&&!this.subnav.isOpen&&(e.preventDefault(),v(this.parent,m),this.subnav.open(),this.navigation.a11y.announce(c.ON_SUBMENU_ITEM_EXPANDED))}},{key:"focus",value:function(e){var t=void 0;t=this.subnav?this.subnav.isOpen?c.ON_SUBMENU_ITEM_FOCUSED_WHEN_EXPANDED:c.ON_SUBMENU_ITEM_FOCUSED_WHEN_COLLAPSED:c.ON_LEAF_SUBMENU_ITEM_FOCUSED,this.navigation.a11y.announce(t,200)}},{key:"activate",value:function(e){this.isActivated||e&&(this.element=e,this.owner=p(this,"NavItem"),this.bound.keydown=this.keydown.bind(this),this.bound.click=this.click.bind(this),this.bound.focus=this.focus.bind(this),this.element.addEventListener("keydown",this.bound.keydown),this.element.addEventListener("click",this.bound.click),this.element.addEventListener("focus",this.bound.focus),this.isActivated=!0)}},{key:"deactivate",value:function(){this.isActivated&&(this.element.removeEventListener("keydown",this.bound.keydown),this.element.removeEventListener("click",this.bound.click),this.element=null,this.navigation=null,this.parent=null,this.owner=null,this.bound={},this.isActivated=!1)}}]),e}();t.default=g},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(15),o=i(s),l=n(7),u=i(l),c=o.default.setFocus,h=o.default.getAncestorByName,d=o.default.closeAllSubnav,f=o.default.closeSubnav,p=function(){function e(t,n){a(this,e),this.name="HighlightItem",this.isActivated=!1,this.element=null,this.navigation=t,this.parent=n,this.owner=null,this.bound={}}return r(e,[{key:"upOrLeft",value:function(){c(this.parent.parent)}},{key:"downOrRight",value:function(){this.parent.setFocusOnFirstVisibleChild()}},{key:"escape",value:function(){d(this.navigation,f),c(this.owner)}},{key:"keydown",value:function(e){var t=!1;(0,u.default)(e.keyCode,["up-arrow","left-arrow"])&&(this.upOrLeft(),t=!0),(0,u.default)(e.keyCode,["down-arrow","right-arrow"])&&(this.downOrRight(),t=!0),(0,u.default)(e.keyCode,["escape"])&&this.escape(),t&&(e.stopPropagation(),e.preventDefault())}},{key:"activate",value:function(e){this.isActivated||e&&(this.element=e,this.owner=h(this,"NavItem"),this.bound.keydown=this.keydown.bind(this),this.element.addEventListener("keydown",this.bound.keydown),this.isActivated=!0)}},{key:"deactivate",value:function(){this.isActivated&&(this.element.removeEventListener("keydown",this.bound.keydown),this.element=null,this.navigation=null,this.parent=null,this.owner=null,this.bound={},this.isActivated=!1)}}]),e}();t.default=p},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(15),o=i(s),l=n(7),u=i(l),c=o.default.setFocus,h=o.default.closeAllSubnav,d=o.default.closeSubnav,f=o.default.getAncestorByName,p=function(){function e(t,n){a(this,e),this.name="PromoItem",this.isActivated=!1,this.element=null,this.navigation=t,this.parent=n,this.owner=null,this.bound={}}return r(e,[{key:"up",value:function(){c(this.parent.last)}},{key:"left",value:function(){this.parent.setFocusOnFirstVisibleChild()}},{key:"downOrRight",value:function(){c(this.parent.closeButton?this.parent.closeButton:this.parent.parent)}},{key:"escape",value:function(){h(this.navigation,d),c(this.owner)}},{key:"keydown",value:function(e){var t=!1;(0,u.default)(e.keyCode,["up-arrow"])&&(this.up(),t=!0),(0,u.default)(e.keyCode,["left-arrow"])&&(this.left(),t=!0),(0,u.default)(e.keyCode,["down-arrow","right-arrow"])&&(this.downOrRight(),t=!0),(0,u.default)(e.keyCode,["escape"])&&this.escape(),t&&(e.stopPropagation(),e.preventDefault())}},{key:"focus",value:function(e){h(this.parent,d)}},{key:"activate",value:function(e){this.isActivated||e&&(this.element=e,this.owner=f(this,"NavItem"),this.bound.keydown=this.keydown.bind(this),this.bound.focus=this.focus.bind(this),this.element.addEventListener("keydown",this.bound.keydown),this.element.addEventListener("focus",this.bound.focus),this.isActivated=!0)}},{key:"deactivate",value:function(){this.isActivated&&(this.element.removeEventListener("keydown",this.bound.keydown),this.element.removeEventListener("focus",this.bound.focus),this.element=null,this.navigation=null,this.parent=null,this.owner=null,this.bound={},this.isActivated=!1)}}]),e}();t.default=p},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(15),o=i(s),l=n(7),u=i(l),c=o.default.setFocus,h=o.default.getAncestorByName,d=o.default.closeAllSubnav,f=o.default.closeSubnav,p=function(){function e(t,n){a(this,e),this.name="SkipLinkItem",this.isActivated=!1,this.element=null,this.navigation=t,this.parent=n,this.owner=null,this.bound={}}return r(e,[{key:"upOrLeft",value:function(){c(this.parent.parent)}},{key:"downOrRight",value:function(){this.parent.setFocusOnFirstVisibleChild()}},{key:"escape",value:function(){d(this.navigation,f),c(this.owner)}},{key:"keydown",value:function(e){var t=!1;(0,u.default)(e.keyCode,["up-arrow","left-arrow"])&&(this.upOrLeft(),t=!0),(0,u.default)(e.keyCode,["down-arrow","right-arrow"])&&(this.downOrRight(),t=!0),(0,u.default)(e.keyCode,["escape"])&&this.escape(),t&&(e.stopPropagation(),e.preventDefault())}},{key:"click",value:function(e){e.preventDefault(),d(this.navigation,f);var t=this.navigation.linksTree.indexOf(this.owner.element);if(-1!==t&&this.navigation.linksTree.length>t+1){var n=this.navigation.linksTree[t+1];n.classList.contains("online-banking-link")&&n.classList.contains("nav__link")&&(n=document.querySelector(".submenu__link.online-banking-link")),n&&n.focus()}}},{key:"activate",value:function(e){this.isActivated||e&&(this.element=e,this.owner=h(this,"NavItem"),this.bound.keydown=this.keydown.bind(this),this.bound.click=this.click.bind(this),this.element.addEventListener("keydown",this.bound.keydown),this.element.addEventListener("click",this.bound.click),this.isActivated=!0)}}]),e}();t.default=p},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(15),o=i(s),l=n(7),u=i(l),c=o.default.setFocus,h=o.default.closeAllSubnav,d=o.default.closeSubnav,f=o.default.getAncestorByName,p=function(){function e(t,n){a(this,e),this.name="CloseItem",this.isActivated=!1,this.element=null,this.navigation=t,this.parent=n,this.owner=null,this.bound={}}return r(e,[{key:"spacebarOrEnter",value:function(){this.parent.close(),c(this.parent.parent)}},{key:"up",value:function(){c(this.parent.promo?this.parent.promo:this.parent.last)}},{key:"left",value:function(){c(this.parent.promo?this.parent.promo:this.parent.first)}},{key:"right",value:function(){c(this.parent.parent)}},{key:"escape",value:function(){h(this.navigation,d),c(this.owner)}},{key:"tab",value:function(e){var t=!e.shiftKey,n=this.navigation.last===this.parent.parent;t&&n&&h(this.navigation,d)}},{key:"keydown",value:function(e){var t=!1;(0,u.default)(e.keyCode,["spacebar","enter"])&&(this.spacebarOrEnter(),t=!0),(0,u.default)(e.keyCode,["up-arrow"])&&(this.up(),t=!0),(0,u.default)(e.keyCode,["down-arrow"])&&(t=!0),(0,u.default)(e.keyCode,["left-arrow"])&&(this.left(),t=!0),(0,u.default)(e.keyCode,["right-arrow"])&&(this.right(),t=!0),(0,u.default)(e.keyCode,["escape"])&&this.escape(),(0,u.default)(e.keyCode,["tab"])&&this.tab(e),t&&(e.stopPropagation(),e.preventDefault())}},{key:"click",value:function(e){e.preventDefault(),this.parent.close()}},{key:"activate",value:function(e){this.isActivated||e&&(this.element=e,this.owner=f(this,"NavItem"),this.bound.keydown=this.keydown.bind(this),this.bound.click=this.click.bind(this),this.element.addEventListener("keydown",this.bound.keydown),this.element.addEventListener("click",this.bound.click),this.isActivated=!0)}},{key:"deactivate",value:function(){this.isActivated&&(this.element.removeEventListener("keydown",this.bound.keydown),this.element.removeEventListener("click",this.bound.click),this.element=null,this.navigation=null,this.parent=null,this.owner=null,this.bound={},this.isActivated=!1)}}]),e}();t.default=p},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(0),s=n(46),o=n(1),l=function(){function e(){i(this,e),this.animation=null,this.debounced=null,this.header=null,this.headerHeight=0,this.headerTopY=0,this.isActivated=!1,this._isDisabled=!1,this.isDown=!1,this.isFixed=!1,this.isFrozen=!1,this.isHidden=!1,this.isScrolling=!1,this.lastScrollY=0,this.maxScrollThreshold=0,this.minScrollThreshold=0,this.throttled=null,this.bound={}}return a(e,[{key:"scroll",value:function(){if(!this._isDisabled&&!(0,s.isPageFrozen)()){if(this.isScrolling=!0,this.isDown=this.lastScrollY-(0,r.getScrollTop)()<0,this.lastScrollY=(0,r.getScrollTop)(),this.isFixed)return void(this.headerTopY=this.lastScrollY);this.animation&&this.animation.stop(),this.isDown&&this.scrollDown(),this.isDown||this.scrollUp()}}},{key:"debounce",value:function(){var e=this;if(!this._isDisabled&&(this.isScrolling=!1,!this.isFixed&&this.isFrozen)){(0,r.getScrollTop)()-this.headerTopY>this.headerHeight/2&&this.lastScrollY<=this.maxScrollThreshold?this.animation=this.animate(this.hide.bind(this),150,this.EaseIn,function(){e.thaw("-"+e.headerHeight+"px"),e.isHidden=!0}):this.animation=this.animate(this.show.bind(this),300,this.EaseOut,function(){e.thaw("0px"),e.isHidden=!1})}}},{key:"scrollDown",value:function(){this.lastScrollY<this.minScrollThreshold||(this.lastScrollY>this.headerTopY&&this.lastScrollY<=this.headerTopY+this.headerHeight&&(this.isHidden||this.isFrozen||this.freeze(this.headerTopY+"px")),this.lastScrollY>=this.headerTopY+this.headerHeight&&(this.isFrozen&&(this.thaw("-"+this.headerHeight+"px"),this.isHidden=!0),this.headerTopY=this.lastScrollY-this.headerHeight))}},{key:"scrollUp",value:function(){if(this.lastScrollY<this.minScrollThreshold)return void(this.header.style.top="");this.lastScrollY<this.headerTopY+this.headerHeight&&this.lastScrollY>this.headerTopY&&this.isHidden&&!this.isFrozen&&this.freeze(this.headerTopY+"px"),this.lastScrollY<=this.headerTopY&&(this.isFrozen&&(this.thaw("0px"),this.isHidden=!1),this.isFrozen||(this.headerTopY=this.lastScrollY))}},{key:"freeze",value:function(e){this.header.classList.add("frozen"),this.header.style.top=e,this.isFrozen=!0}},{key:"thaw",value:function(e){this.header.classList.remove("frozen"),this.header.style.top=e,this.isFrozen=!1}},{key:"pin",value:function(){return this.isFrozen&&this.thaw(""),this.isFixed=!0}},{key:"unpin",value:function(){return this.isFixed=!1}},{key:"animate",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};if(!this.isScrolling){var a=Date.now(),r=void 0,s=void 0,o=i.bind(this);return function i(){var l=(Date.now()-a)/t;l>1?e(1):(r=requestAnimationFrame(i),e(n(l))),clearTimeout(s),s=setTimeout(o,100)}(),{stop:function(){cancelAnimationFrame(r)}}}}},{key:"hide",value:function(e){if(e>0&&e<=1){var t=this.lastScrollY-this.headerHeight,n=this.headerTopY-t,i=t+(1-e)*n;this.header.style.top=i+"px",this.headerTopY=i}}},{key:"show",value:function(e){if(e>0&&e<=1){var t=this.lastScrollY,n=t-this.headerTopY,i=t-(1-e)*n;this.header.style.top=i+"px",this.headerTopY=i}}},{key:"EaseIn",value:function(e){return e*e}},{key:"EaseOut",value:function(e){return e*(2-e)}},{key:"activate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.isActivated||(this.header=e,this.header&&(this.headerHeight=this.header.offsetHeight,this.isDown=!1,this._isDisabled=t,this.isFrozen=!1,this.isHidden=!1,this.isScrolling=!1,this.lastScrollY=0,this.maxScrollThreshold=document.body.scrollHeight-document.documentElement.clientHeight,this.minScrollThreshold=this.headerHeight,this.headerTopY=(0,r.getScrollTop)()||this.minScrollThreshold,this.header.classList.add("fixed"),this.bound.debounce=this.debounce.bind(this),this.bound.scroll=this.scroll.bind(this),this.bound.pin=this.pin.bind(this),this.bound.unpin=this.unpin.bind(this),this.debounced=(0,o.debounce)(450,this.bound.debounce),this.throttled=(0,o.throttle)(20,this.bound.scroll),document.addEventListener("scroll",this.debounced),document.addEventListener("scroll",this.throttled),document.addEventListener("search.onOpen",this.bound.pin),document.addEventListener("search.onClose",this.bound.unpin),this.isActivated=!0))}},{key:"deactivate",value:function(){this.isActivated&&(this.isFrozen&&(this.thaw(""),this.isFrozen=!1),this.header.classList.remove("fixed"),this.header.style.top="",document.removeEventListener("scroll",this.debounced),document.removeEventListener("scroll",this.throttled),document.removeEventListener("navigationMobile.onOpen",this.bound.pin),document.removeEventListener("navigationMobile.onClose",this.bound.unpin),this.animation=null,this.debounced=null,this.header=null,this.headerHeight=0,this.headerTopY=0,this._isDisabled=!1,this.isDown=!1,this.isFixed=!1,this.isFrozen=!1,this.isHidden=!1,this.isScrolling=!1,this.lastScrollY=0,this.maxScrollThreshold=0,this.minScrollThreshold=0,this.throttled=null,this.bound={},this.isActivated=!1)}},{key:"isDisabled",get:function(){return this._isDisabled},set:function(e){return this._isDisabled=e,this._isDisabled&&this.header.classList.contains("fixed")?(this.header.classList.remove("fixed"),this.thaw("")):this.header.classList.add("fixed"),this._isDisabled}}]),e}();t.default=l},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(5),s=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(1),l=n(45),u=n(68),c=n(9),h=n(0),d=n(46),f=function(){function e(){i(this,e),this.compressedEvent=null,this.header=null,this.isActivated=!1,this.isCompressed=!1,this.isDisabled=!1,this.isDown=!1,this.lastScrollY=0,this.minScroll=0,this.scrollEventHandler=null,this.headerContent=null}return a(e,[{key:"activate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.isActivated&&(this.header=e,this.header)){this.scrollEventHandler=(0,o.throttle)(20,this.scroll.bind(this)),document.addEventListener("scroll",this.scrollEventHandler);var i=this;this.compressedEvent=new s.default("header.compressed",{detail:{get isCompressed(){return i.isCompressed}}}),this.isCompressed=!1,this.isDisabled=n,this.isDown=!1,this.lastScrollY=0,this.minScroll=this.header.offsetHeight,this.isActivated=!0,this.headerContent=this.header.querySelector(".header__content"),(0,c.isMobile)()||(this.resizeEventHandler=(0,o.throttle)(100,this.setHeadersMarginLeft),window.addEventListener("resize",function(){return t.resizeEventHandler()}),this.setHeadersMarginLeft())}}},{key:"deactivate",value:function(e){this.isActivated&&(this.header.classList.remove("fixed"),document.removeEventListener("scroll",this.scrollEventHandler),window.removeEventListener("resize",this.resizeEventHandler),this.compressedEvent=null,this.header=null,this.isCompressed=!1,this.isDisabled=!1,this.lastScrollY=0,this.minScroll=0,this.scrollEventHandler=null,this.isActivated=!1)}},{key:"scroll",value:function(e){this.isDisabled||(0,d.isPageFrozen)()||(this.pinOnScroll(),this.compressOnScroll())}},{key:"compressOnScroll",value:function(){var e=this;0===this.scrollTop&&(this.header.classList.remove("compressed"),this.isCompressed=!1);var t=this.minScroll+this.breakpoint;if(!(this.scrollTop<t)){var n=this.isDown;this.isDown=this.lastScrollY-this.scrollTop<0,this.lastScrollY=this.scrollTop,this.isDown!==n&&(this.isDown&&!this.isCompressed&&(this.header.classList.add("compressed"),this.isCompressed=!0),setTimeout(function(){e.header.dispatchEvent(e.compressedEvent)},50))}}},{key:"pin",value:function(){this.header.classList.add("fixed")}},{key:"pinOnScroll",value:function(){this.scrollTop>=this.breakpoint?this.pin():this.unpin()}},{key:"unpin",value:function(){null===document.querySelector("#pop-ups .search-panel--active")&&null===document.querySelector(".online-banking--active")&&this.header.classList.remove("fixed")}},{key:"setHeadersMarginLeft",value:function(){if(void 0!==this.headerContent){this.headerContent.style.marginLeft="auto";var e=this.headerContent.getBoundingClientRect().left+"px";this.headerContent.style.marginLeft=e}}},{key:"breakpoint",get:function(){return(0,l.getCookieNotifcationHeight)()+(0,u.getSharePriceBarHeight)()}},{key:"scrollTop",get:function(){return(0,h.getScrollTop)()}}]),e}();t.default=f},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(1),s=n(0),o=n(2),l=function(e){return e&&e.__esModule?e:{default:e}}(o),u=function(){function e(){i(this,e),this.isActivated=!1,this.shell=null,this.element=null,this.previousHeight=0,this.bound={}}return a(e,[{key:"update",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=function(){null!==e.element&&(e.element.offsetHeight!==e.previousHeight&&(e.shell.style.height=e.element.offsetHeight+"px"),e.previousHeight=e.element.offsetHeight)};t||n(),setTimeout(function(){n()},250)}},{key:"activate",value:function(e){this.isActivated||(this.element=e,this.element&&(this.shell=document.createElement("div"),this.shell.className="header__shell",this.element.insertAdjacentElement("beforeBegin",this.shell),this.shell.appendChild(this.element),this.bound.update=this.update.bind(this),this.bound.scroll=this.scroll.bind(this),l.default.medium.addListener(this.bound.update),l.default.headerLarge.addListener(this.bound.update),this.update(),document.addEventListener("scroll",(0,r.throttle)(20,this.bound.scroll)),this.isActivated=!0))}},{key:"scroll",value:function(){0===(0,s.getScrollTop)()&&this.update(!0)}},{key:"deactivate",value:function(){this.element&&(this.shell.insertAdjacentElement("afterEnd",this.element),this.shell.remove(),l.default.medium.removeListener(this.bound.update),l.default.headerLarge.removeListener(this.bound.update),this.bound={},this.shell=null,this.element=null,this.previousHeight=0,this.isActivated=!1)}}]),e}();t.default=u},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],i=!0,a=!1,r=void 0;try{for(var s,o=e[Symbol.iterator]();!(i=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{!i&&o.return&&o.return()}finally{if(a)throw r}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(102),u=i(l),c=n(101),h=(i(c),n(2)),d=i(h),f=n(13),p=i(f),v=n(5),m=i(v),g=n(7),y=i(g),b=n(6),w=i(b),k=n(4),_=i(k),E=n(0),S=n(44),C=n(12),L=i(C),A=n(15),T=i(A),x=T.default.closeAllSubnav,P=T.default.closeSubnav,O=document.querySelector(".logo"),I=function(){function e(){r(this,e),this.repository=new u.default,this.urlUtil=new p.default,this.isActivated=!1,this.isFullSearchMode=!1,this.openEvent,this.closeEvent,this.searchOpen=!1,this.navigation,this.submenu,this.headerSearch,this.headerSearchButton,this.headerSearchButtonSpan,this.header,this.headerWasCompressed,this.searchPanel,this.searchPanelWrapper,this.searchPanelContent,this.searchPanelButton,this.searchBar,this.currentSite,this.searchBarGroup,this.searchBarInput,this.searchBarClear,this.searchBarButton,this.quickResultsContainer,this.quickResultsList,this.quickResultsAria,this.seeAllResults,this.noResults,this.quickResults=[],this.timeout=null,this.elementsToHide=[],this.focusSearchBarInput=null,this.screenSize,this.inputFontSize=window.innerWidth<992?["3.0","4.5"]:["6.0","9.0"]}return o(e,[{key:"activate",value:function(){var e=this;if(!this.isActivated){this.isFullSearchMode=null!==document.querySelector("#page--search-results"),this.navigation=document.querySelector(".nav__wrapper"),this.submenu=document.querySelector(".submenu"),this.headerSearch=document.querySelector(".header-search"),this.header=(0,E.getHeader)(!0),this.headerSearchButton=document.querySelector(".header-search__button");var t=[].concat(a(this.headerSearchButton.children)).filter(function(e){return e.classList.contains("hsbc-search")}),n=s(t,1);this.headerSearchButtonSpan=n[0],this.searchPanel=document.querySelector(".search-panel"),this.searchPanelWrapper=document.querySelector(".search-panel-wrapper");var i=[].concat(a(this.searchPanelWrapper.children)).filter(function(e){return e.classList.contains("search-panel-content")}),r=s(i,1);this.searchPanelContent=r[0];var o=[].concat(a(this.searchPanel.children)).filter(function(e){return e.classList.contains("search-panel__button")}),l=s(o,1);this.searchPanelButton=l[0];var u=[].concat(a(this.searchPanelContent.children)).filter(function(e){return e.classList.contains("search-bar")}),c=s(u,1);this.searchBar=c[0],this.currentSite=this.searchBar.getAttribute("data-site")||"";var h=[].concat(a(this.searchBar.children)).filter(function(e){return e.classList.contains("search-bar__group")}),f=s(h,1);this.searchBarGroup=f[0];var p=[].concat(a(this.searchBarGroup.children)).filter(function(e){return e.classList.contains("search-bar__input")}),v=s(p,1);this.searchBarInput=v[0];var g=[].concat(a(this.searchBarGroup.children)).filter(function(e){return e.classList.contains("search-bar__submit")}),y=s(g,1);this.searchBarButton=y[0];var b=[].concat(a(this.searchBarGroup.children)).filter(function(e){return e.classList.contains("search-bar__clear")}),k=s(b,1);this.searchBarClear=k[0];var _=[].concat(a(this.searchPanelContent.children)).filter(function(e){return e.classList.contains("quick-results")}),S=s(_,1);this.quickResultsContainer=S[0];var C=[].concat(a(this.quickResultsContainer.children)).filter(function(e){return e.classList.contains("quick-results__list")}),A=s(C,1);this.quickResultsList=A[0],this.quickResultsAria=this.searchPanelContent.querySelector(".quick-results-aria");var T=[].concat(a(this.quickResultsContainer.children)).filter(function(e){return e.classList.contains("quick-results__see-all")}),O=s(T,1);this.seeAllResults=O[0];var I=[].concat(a(this.quickResultsContainer.children)).filter(function(e){return e.classList.contains("quick-results__no-results")}),M=s(I,1);if(this.noResults=M[0],this.headerSearchButton&&this.headerSearchButtonSpan&&this.searchPanel&&this.searchPanelWrapper&&this.searchBar&&this.searchBarGroup&&this.searchBarInput&&this.searchBarClear&&this.searchBarButton&&this.quickResultsContainer&&this.seeAllResults&&this.noResults&&this.navigation&&this.submenu){if(this.isFullSearchMode?this.headerSearchButton.addEventListener("click",function(t){t.preventDefault(),d.default.small.matches?Header.navigationMobile.close():x(Header.navigationDesktop,P),e.searchBarInput.focus()}):(this.headerSearchButton.addEventListener("click",function(t){t.preventDefault(),e.onSearchOpened()}),this.searchPanelButton&&this.searchPanelButton.addEventListener("click",function(t){t.preventDefault(),e.onSearchOpened()})),this.searchBar.addEventListener("submit",function(t){t.preventDefault(),e.viewAllResults(e.searchBarInput.value.trim())}),this.searchBarInput.addEventListener("input",function(t){t.preventDefault(),e.onSearchInput()}),this.searchBarClear.addEventListener("click",function(t){t.preventDefault(),e.setInitialInputState(),e.searchBarClear.dataset.onClearedMessage&&e.announcer.announce(e.searchBarClear.dataset.onClearedMessage,200)}),this.seeAllResults.addEventListener("click",function(t){t.preventDefault(),e.viewAllResults(e.searchBarInput.value.trim())}),document.addEventListener("navigationMobile.onOpen",function(){return e.close(!1)}),this.openEvent=new m.default("search.onOpen"),this.closeEvent=new m.default("search.onClose"),d.default.medium.addListener(function(t){e.mediaQuerySwitch(t)}),this.mediaQuerySwitch(d.default.medium),this.isFullSearchMode){document.querySelector(".search-results").insertAdjacentElement("afterBegin",this.searchPanel),this.searchPanel.classList.toggle("search-panel--active"),this.searchOpen=!0,this.searchBarInput.value=this.urlUtil.getParameterByName("q"),this.searchBarInput.value.length>0&&this.showClearButtonOnMobile(),this.searchBarInput.focus(),document.addEventListener("search.resetSearchTerm",function(t){e.resetSearchTerm()})}else this.searchBarInput.value="";!this.isFullSearchMode&&w.default.popups&&w.default.popups.appendChild(this.searchPanel),window.innerWidth<480&&this.searchBarInput.setAttribute("placeholder","Search"),this.announcer=new L.default(this.searchPanel),this.isActivated=!0}}}},{key:"deactivate",value:function(){this.isActivated&&(this.isActivated=!1)}},{key:"onSearchOpened",value:function(){this.searchOpen?this.close():this.open()}},{key:"close",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.searchOpen&&!this.isFullSearchMode&&(d.default.medium.matches&&this.header.classList.remove("fixed"),this.headerWasCompressed&&(this.header.classList.add("compressed"),this.headerWasCompressed=!1),this.headerSearchButton.style.visibility="",this.searchPanel.classList.remove("search-panel--active"),this.navigation.classList.remove("nav-wrapper--hidden"),this.submenu.classList.remove("submenu--hidden"),this.headerSearch.classList.remove("header-search--open"),this.searchOpen=!1,this.searchPanelButton&&w.default.popups&&(w.default.showAllBut(["popups"]),w.default.removeClickOutsideAndClose(),w.default.removeCloseOnEscapeKeydown(),w.default.allowFocus(),w.default.removeTabToFrom(O,this.searchPanelButton)),this.elementsToHide.forEach(function(e){return e.style.visibility=""}),e&&this.headerSearchButton.focus(),document.dispatchEvent(this.closeEvent))}},{key:"open",value:function(){this.searchOpen||(this.header.classList.add("fixed"),this.header.classList.contains("compressed")&&(this.header.classList.remove("compressed"),this.headerWasCompressed=!0),this.headerSearchButton.style.visibility="hidden",this.searchPanel.classList.add("search-panel--active"),this.navigation.classList.add("nav-wrapper--hidden"),this.submenu.classList.add("submenu--hidden"),this.headerSearch.classList.add("header-search--open"),this.searchOpen=!0,w.default.popups&&this.searchPanelButton&&(w.default.hideAllBut(["header","popups"]),w.default.clickOutsideAndClose(this,".search-panel"),w.default.closeOnEscapeKeydown(this),w.default.restrictFocus(this.searchPanel),w.default.tabToFrom(O,this.searchPanelButton)),this.elementsToHide=[].concat(a(document.body.children)).filter(function(e){return"true"===e.getAttribute("aria-hidden")}),this.elementsToHide.forEach(function(e){return e.style.visibility="hidden"}),this.searchBarInput.focus(),document.dispatchEvent(this.openEvent),_.default.trackEvent({event_type:"click",event_category:"content",event_action:"GlobalMenu",event_content:"Search"}))}},{key:"restrictFocus",value:function(e){this.searchPanelButton&&e.target.classList.contains("logo")&&(0,y.default)(e.keyCode,["tab"])&&e.shiftKey&&(e.preventDefault(),this.searchPanelButton.focus())}},{key:"setInputFontSize",value:function(e){function t(e,n){var i=t.canvas||(t.canvas=document.createElement("canvas")),a=i.getContext("2d");return a.font="100 "+n+"rem UniversNext",a.measureText(e).width}var n=this.searchBarInput.clientWidth,i=parseFloat(this.inputFontSize[1]);i=t(e,i)>n?this.inputFontSize[0]:this.inputFontSize[1],this.searchBarInput.style.fontSize=parseFloat(i)+"rem"}},{key:"onSearchInput",value:function(){var e=this,t=this.searchBarInput.value.trim();this.setInputFontSize(t),t=t.toLowerCase(),t.length>0?this.showClearButtonOnMobile():this.hideClearButtonOnMobile(),t.length<3?(this.searchBar.classList.remove("search-bar--active"),clearTimeout(this.timeout),this.quickResults=[],""!==this.quickResultsList.innerHTML&&(this.quickResultsList.innerHTML="")):(clearTimeout(this.timeout),this.timeout=setTimeout(function(){e.displaySearchSuggestions(t,e.currentSite),-1!==e.searchBarInput.value.indexOf("no results")&&(e.quickResults=[])},500))}},{key:"setInitialInputState",value:function(){this.searchBarInput.value="",this.searchBarInput.style.fontSize=parseFloat(this.inputFontSize[1])+"rem",this.searchBar.classList.remove("search-bar--active"),this.hideClearButtonOnMobile()}},{key:"showClearButtonOnMobile",value:function(){d.default.small.matches&&(this.searchBarButton.style.display="none",this.searchBarClear.style.display="inline-block")}},{key:"hideClearButtonOnMobile",value:function(){d.default.small.matches&&(this.searchBarClear.style.display="none",this.searchBarButton.style.display="inline-block")}},{key:"resetSearchTerm",value:function(){var e=this.urlUtil.getParameterByName("q");this.searchBarInput.value!==e&&(this.searchBarInput.value=e,this.searchBar.classList.remove("search-bar--active"))}},{key:"viewAllResults",value:function(e){if(this.isFullSearchMode){var t=new m.default("search.onTermChanged",{detail:{term:e}});document.dispatchEvent(t),this.searchBar.classList.remove("search-bar--active"),this.quickResults=[]}else{var n=e===this.recentSuggestionsInfo.term?this.recentSuggestionsInfo.totalCount:"unknown",i={event_action:"search",event_category:"content",event_type:"click",search_term:e,search_scope:this.currentSite,search_results:n};_.default.trackEvent(i);var a=(0,S.buildQuery)({q:e,site:this.currentSite});window.location.href=this.searchBar.action+"?"+a}}},{key:"displaySearchSuggestions",value:function(e,t){var n=this;this.repository.getSuggestions(e,{site:t}).then(function(t){n.recentSuggestionsInfo={term:e,totalCount:t.totalCount},n.setQuickResults(t)}).catch(function(){})}},{key:"setQuickResults",value:function(e){this.searchBar.classList.add("search-bar--active"),this.quickResults=[].concat(a(e.items)),this.populateQuickResultsList()}},{key:"populateQuickResultsList",value:function(){var e=this;this.quickResults&&this.quickResultsList&&(this.quickResultsList.innerHTML="",this.quickResults.forEach(function(t,n){if("small"===e.screenSize||n<6){var i=e.quickResults[n].title.trim().split(" "),a=(e.searchBarInput.value.toLowerCase().trim(),e.searchBarInput.value.toLowerCase().trim().split(" ")),r=void 0,s=void 0;for(r=0;r<a.length;r++)for(s=0;s<i.length;s++){var o=i[s].toLowerCase().indexOf(a[r]),l=a[r].length;-1!==o&&l>2&&!i[s].includes("<strong>")&&(i[s]=[i[s].slice(0,o),"<strong>",i[s].slice(o,o+l),"</strong>",i[s].slice(o+l,i[s].length)].join(""))}var u=i.join(" "),c=document.createElement("li");c.classList.add("quick-results__item"),c.innerHTML="<a href='"+e.quickResults[n].src+"'>"+u+"</a>",e.quickResultsList.appendChild(c)}}),this.quickResults.length>0?(this.seeAllResults.classList.add("quick-results__see-all--active"),this.noResults.classList.remove("quick-results__no-results--active")):(this.seeAllResults.classList.remove("quick-results__see-all--active"),this.noResults.classList.add("quick-results__no-results--active")),this.quickResultsAria&&(this.quickResultsAria.innerHTML=this.quickResultsAria.getAttribute(1===this.quickResults.length?"data-message-singular":"data-message").replace("{count}",this.quickResults.length)))}},{key:"mediaQuerySwitch",value:function(e){e.matches&&(this.screenSize||(this.screenSize="medium"),"small"===this.screenSize&&(this.screenSize="medium",this.populateQuickResultsList())),e.matches||(this.screenSize||(this.screenSize="small"),"medium"===this.screenSize&&(this.screenSize="small",this.populateQuickResultsList()))}}]),e}();t.default=I},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(2),o=function(e){return e&&e.__esModule?e:{default:e}}(s),l=n(1),u=function(){function e(){a(this,e),this.mql=o.default,this.throttledResize=null}return r(e,[{key:"activate",value:function(e){var t=this;if(this.view=e,!this.view.classList.contains("html-sitemap-links--compact")){this.sitemapL2PagesReversed=[];var n=[].concat(i(this.view.children)).reverse();n.some(function(e,n){return null!==e.querySelector("ul")||(t.sitemapL2PagesReversed.push(e),!1)}),this.sitemapL2PagesReversed.length<2||(this.columnNumber=(n.length-this.sitemapL2PagesReversed.length-1)%3+1,1!==this.columnNumber&&(this.sitemapL2PagesReversed.forEach(function(e){e.classList.add("html-sitemap-links__page--grouped")}),this.view.classList.add("html-sitemap-links--trailing-group-col-"+this.columnNumber),3===this.columnNumber&&(this.lastPageWithL3=n[n.length-this.sitemapL2PagesReversed.length],this.throttledResize=(0,l.throttle)(100,this.keepGroupedItemsInColumn3.bind(this)),window.addEventListener("resize",this.throttledResize),this.keepGroupedItemsInColumn3())))}}},{key:"keepGroupedItemsInColumn3",value:function(){if(this.mql.small.matches)return void(this.lastPageWithL3.style.minHeight="");var e=!1;0===this.lastPageWithL3.clientHeight&&(!this.parentAccordionPanel&&this.view.parentElement&&this.view.parentElement.parentElement&&this.view.parentElement.parentElement.classList.contains("accordion__panel-collapse")&&(this.parentAccordionPanel=this.view.parentElement.parentElement),this.parentAccordionPanel&&(e=!0,this.parentAccordionPanel.style.visibility="hidden",this.parentAccordionPanel.style.height="0",this.parentAccordionPanel.style.display="block"));var t=0;this.sitemapL2PagesReversed.forEach(function(e){t+=e.clientHeight}),this.lastPageWithL3.style.minHeight="",this.lastPageWithL3.clientHeight<t&&(this.lastPageWithL3.style.minHeight=t+"px"),e&&(this.parentAccordionPanel.style.visibility="",this.parentAccordionPanel.style.height="",this.parentAccordionPanel.style.display="")}}]),e}();t.default=u},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(0),o=function(){function e(){a(this,e)}return r(e,[{key:"activate",value:function(e){var t=this;this.view=e,this.header=document.querySelector("header.header");var n=[].concat(i(this.view.querySelectorAll("a"))),a=[].concat(i(document.querySelectorAll(".skip-link--in-page"))),r=n.concat(a);n.forEach(function(e){e.addEventListener("blur",function(){t.hideTopBar()}),e.addEventListener("focus",function(){t.displayTopBar()})}),r.forEach(function(e){e.addEventListener("click",function(n){t.skipLinkClicked(e,n)})})}},{key:"displayTopBar",value:function(){var e=this;this.view.classList.add("is-visible"),document.querySelector("html").scrollTop=0,setTimeout(function(){e.header.classList.remove("fixed")},25)}},{key:"hideTopBar",value:function(){this.view.classList.remove("is-visible")}},{key:"skipLinkClicked",value:function(e,t){t.preventDefault();var n=void 0,i=!1;if(-1!==e.href.indexOf("#goToNavigation"))n=document.querySelector("header.header .nav__item a");else if(-1!==e.href.indexOf("#goToMainContent"))n=document.querySelector("main"),i=!0;else if(-1!==e.href.indexOf("#goToContent")){for(var a=document.querySelector("main .sidenav");null===a.nextElementSibling&&null!==a.parentElement;)a=a.parentElement;n=a.nextElementSibling}else-1!==e.href.indexOf("#goToFooter")&&(n=document.querySelector("footer.footer a.footer-legal__link"));null!==n&&(n.focus(),document.activeElement!==n&&(n.setAttribute("tabindex",-1),n.focus()),i&&window.scrollTo((0,s.getScrollLeft)(),0))}}]),e}();t.default=o},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(7),l=i(o),u=n(4),c=i(u),h=n(13),d=i(h),f=function(){function e(){r(this,e),this.urlUtil=new d.default}return s(e,[{key:"activate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.postbackDriven;this.view=e,this.postbackDriven=void 0!==i&&!1!==i,this.tabParamName=e.dataset.urlParamKey;var r=document.querySelector(".tabbed-content")===e;!this.tabParamName&&r&&(this.tabParamName="tab");var s=e.querySelectorAll(".tabbed-content__item");s.forEach(function(e){e.addEventListener("focus",function(){s.forEach(function(e){return e.setAttribute("tabindex",0)})}),e.addEventListener("click",function(e){return t.onTabClick(e)}),e.addEventListener("keydown",function(e){return t.onTabKeyDown(e)}),e.addEventListener("touchend",function(){})}),e.querySelectorAll(".tabbed-content__page").forEach(function(e){e.addEventListener("keydown",function(e){return t.onPageKeyDown(e)})}),e.querySelector(".tabbed-content__heading [role=tablist]").addEventListener("scroll",function(t){var n=e.querySelector(".tabbed-content__heading");t.currentTarget.scrollLeft<=0?n.classList.add("tabbed-content__heading--leftmost"):n.classList.remove("tabbed-content__heading--leftmost"),t.currentTarget.scrollLeft+t.currentTarget.offsetWidth>=t.currentTarget.scrollWidth?n.classList.add("tabbed-content__heading--rightmost"):n.classList.remove("tabbed-content__heading--rightmost")}),e.querySelector(".tabbed-content__heading [role=tablist]").addEventListener("click",function(e){var n=[].concat(a(e.target.children)).filter(function(n){return t.getUnderlyingTabButton(e,n)});void 0!==n[0]&&n[0].dispatchEvent(new MouseEvent("click"))}),this.checkSelectedTab()}},{key:"getUnderlyingTabButton",value:function(e,t){var n=t.getBoundingClientRect();return e.x>=n.left&&e.x<=n.left+n.width}},{key:"selectTab",value:function(e){var t=this;if(!this.postbackDriven){var n=!1;this.view.querySelectorAll(".tabbed-content__item").forEach(function(i){if(i.getAttribute("data-index")===e){i.classList.add("tabbed-content__item--active"),i.setAttribute("aria-selected","true"),i.setAttribute("aria-expanded","true"),n=!0,t.persistSelectedTab(i);var a={event_action:"tab",event_category:"content",event_type:"click",event_content:i.innerText};c.default.trackEvent(a)}else i.classList.remove("tabbed-content__item--active"),i.setAttribute("aria-selected","false"),i.setAttribute("aria-expanded","false"),n&&i.setAttribute("tabindex",-1)}),this.view.querySelectorAll(".tabbed-content__page").forEach(function(t){t.getAttribute("data-index")===e?(t.classList.add("tabbed-content__page--active"),t.setAttribute("aria-hidden","false")):(t.classList.remove("tabbed-content__page--active"),t.setAttribute("aria-hidden","true"),t.setAttribute("tabindex",-1),[].concat(a(t.querySelectorAll("video"))).forEach(function(e){return e.pause&&e.pause()}))})}}},{key:"onTabChange",value:function(e){var t=e.currentTarget;this.selectTab(t.getAttribute("data-index"))}},{key:"onTabClick",value:function(e){if(e.target===e.currentTarget){if(this.postbackDriven&&"a"===e.target.tagName.toLowerCase())return;e.preventDefault(),e.stopPropagation()}this.onTabChange(e)}},{key:"onTabKeyDown",value:function(e){if((0,l.default)(e.keyCode,["enter","spacebar"])){if(e.target===e.currentTarget)if(this.postbackDriven&&"a"===e.target.tagName.toLowerCase()){if(!(0,l.default)(e.keyCode,["spacebar"]))return;e.preventDefault(),e.stopImmediatePropagation(),e.target.click()}else e.preventDefault(),e.stopImmediatePropagation();this.onTabChange(e)}}},{key:"onPageKeyDown",value:function(e){if((0,l.default)(e.keyCode,["escape"])){var t=e.currentTarget.getAttribute("data-index");e.target===e.currentTarget&&(e.preventDefault(),e.stopImmediatePropagation()),e.currentTarget.setAttribute("aria-hidden","true"),e.currentTarget.setAttribute("tabindex",-1),this.view.querySelector('.tabbed-content__item[data-index="'+t+'"]').focus()}}},{key:"getUrlParamValueForTab",value:function(e){return e.dataset.urlParamValue||e.getAttribute("aria-label")||e.getAttribute("id")||e.dataset.index}},{key:"persistSelectedTab",value:function(e){if(this.tabParamName){var t=this.getUrlParamValueForTab(e);history.replaceState(null,"",this.urlUtil.setParameterByName(this.tabParamName,encodeURIComponent(t),null))}}},{key:"checkSelectedTab",value:function(){var e=this;if(this.tabParamName){var t=this.urlUtil.getParameterByName(this.tabParamName),n=[].concat(a(this.view.querySelectorAll(".tabbed-content__item"))),i=n.filter(function(n){return e.getUrlParamValueForTab(n)===t})[0];i&&this.selectTab(i.getAttribute("data-index"))}}}]),e}();t.default=f},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var a=n(254),r=i(a),s=n(255),o=i(s),l=n(256),u=i(l);window.Glossary=r.default,window.MediaInfo=o.default,window.Rating=u.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(0),o=n(2),l=i(o),u=n(6),c=i(u),h=n(1),d=function(){function e(t){a(this,e),this.mql=t||l.default,this.view=null,this.info=null,this.modal={},this.previousFocusLocation=null,this.throttledResize=null,this.bound={}}return r(e,[{key:"activate",value:function(e){var t=this;this.view=e,this.info=this.view.querySelector(".hsbc-info"),this.modal.term=e.dataset.glossary,this.modal.definition=e.dataset.definition,this.modal.uniqueID=this.modal.term.replace(" ","-")+"-"+Math.random().toString().replace(".",""),this.modal.closeLabel=e.dataset.closeLabel,this.modal.open=!1,this.previousFocusLocation=e,this.build(),this.bound.mediaQueryList=this.mediaQueryList.bind(this),this.throttledResize=(0,h.throttle)(20,this.position.bind(this)),this.view.addEventListener("click",function(e){t.modal.open||t.open(e)}),this.view.addEventListener("keydown",function(e){13!==e.keyCode||t.modal.open||t.open(e)})}},{key:"open",value:function(e){var t=this;e&&e.preventDefault(),this.mql.small.addListener(this.bound.mediaQueryList),this.bound.mediaQueryList(this.mql.small),c.default.popups&&(c.default.hideAllBut(["popups","cookie-banner"]),this.restoreFocus=c.default.restrictFocus(this.modal.wrapper),c.default.clickOutsideAndClose(this,".glossary-box-wrapper"),c.default.closeOnEscapeKeydown(this)),this.mql.small.matches&&(this.modal.wrapper.style.display="block",setTimeout(function(){t.modal.wrapper.classList.add("glossary-box-wrapper--active")},2),setTimeout(function(){if(t.modal.label.setAttribute("tabindex","0"),c.default.popups){var e=t.modal.wrapper.cloneNode(!0);c.default.popups.appendChild(e),t.modal.wrapper.style.display="none",setTimeout(function(){c.default.popups.removeChild(e),t.modal.wrapper.style.display="block",t.modal.label.focus()},25)}},300)),this.mql.medium.matches&&(this.modal.wrapper.classList.add("glossary-box-wrapper--active"),this.position(),this.modal.label.focus()),this.modal.open=!0,this.view.setAttribute("aria-expanded",this.modal.open)}},{key:"close",value:function(e){var t=this;e&&e.preventDefault(),this.mql.small.removeListener(this.bound.mediaQueryList),this.mql.small.matches&&(this.modal.wrapper.classList.remove("glossary-box-wrapper--active"),setTimeout(function(){t.modal.wrapper.style.display="none",c.default.popups&&(c.default.showAllBut(["popups","cookie-banner"]),c.default.removeTabToFrom(t.modal.label,t.modal.closeButton),t.restoreFocus&&t.restoreFocus(),c.default.removeCloseOnEscapeKeydown(),c.default.removeClickOutsideAndClose(),t.restoreFocus=null)},250),setTimeout(function(){t.view.focus()},252)),this.mql.medium.matches&&(this.modal.wrapper.classList.remove("glossary-box-wrapper--active"),c.default.popups&&(c.default.showAllBut(["popups"],this.view),c.default.removeTabToFrom(this.modal.label,this.modal.closeButton),c.default.allowFocus(),c.default.removeCloseOnEscapeKeydown(),c.default.removeClickOutsideAndClose(),this.view.focus())),this.modal.open=!1,this.view.setAttribute("aria-expanded",this.modal.open)}},{key:"mediaQueryList",value:function(e){e.matches?(this.modal.wrapper.style.display=this.modal.open?"block":"",window.removeEventListener("resize",this.throttledResize)):((0,s.resetStyle)(this.modal.wrapper),window.addEventListener("resize",this.throttledResize))}},{key:"build",value:function(){var e=this,t='\n            <div class="glossary-box-wrapper" role="dialog" id="'+this.modal.uniqueID+'" aria-labelledby="'+this.modal.uniqueID+'-label" aria-describedby="'+this.modal.uniqueID+'-description" aria-modal="true">\n                <div class="glossary-box">\n                    <div class="glossary-box__top-bar">\n                        <h2 class="glossary-term" tabindex="0" id="'+this.modal.uniqueID+'-label">\n                            '+this.modal.term+'\n                        </h2>\n                    </div>\n                    <div class="glossary-box__definition" id="'+this.modal.uniqueID+'-description">\n                        <h6 tabindex="0">\n                            '+this.modal.definition+'\n                        </h6>\n                    </div>\n                    <button class="glossary-box__close">\n                        <span class="hsbc-close"></span>\n                        <span class="sr-only">'+this.modal.closeLabel+'</span>\n                    </button>\n                </div>\n                <div class="glossary-box__tail"></div>\n            </div>',n=document.createElement("div");n.innerHTML=t,this.modal.wrapper=n.firstElementChild,c.default.popups&&c.default.popups.appendChild(this.modal.wrapper),this.modal.label=this.modal.wrapper.querySelector(".glossary-term"),this.modal.closeButton=this.modal.wrapper.querySelector(".glossary-box__close"),this.modal.closeButton.addEventListener("click",function(t){e.close(t)})}},{key:"position",value:function(){var e=this.info.getBoundingClientRect(),t=(0,s.getScrollTop)()+e.top,n=(e.left+e.right)/2;this.modal.wrapper.style.top=t-5+"px",this.modal.wrapper.style.left=n+"px",this.modal.wrapper.clientWidth/2>n+e.width/2?this.modal.wrapper.classList.add("glossary-box-wrapper--right"):this.modal.wrapper.classList.remove("glossary-box-wrapper--right"),this.modal.wrapper.clientWidth/2>window.innerWidth-n-e.width/2?this.modal.wrapper.classList.add("glossary-box-wrapper--left"):this.modal.wrapper.classList.remove("glossary-box-wrapper--left")}}]),e}();t.default=d},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(7),s=function(e){return e&&e.__esModule?e:{default:e}}(r),o=n(1),l=function(){function e(){i(this,e),this.view=null,this.button=null,this.info=null,this.infoRevealed=!1,this.throttledResize=null,this.bound={}}return a(e,[{key:"activate",value:function(e){var t=this;if(this.view=e,this.view.parent=this.view.parentElement,this.button=this.view.querySelector(".media-info__show-button"),!this.button)return null;this.button&&(this.button.openLabel=this.button.dataset.openLabel,this.button.closeLabel=this.button.dataset.closeLabel,this.button.label=this.button.querySelector(".sr-only")),this.info=e.querySelector(".media-info__information"),this.button.addEventListener("click",function(e){t.toggle(e)}),this.button.addEventListener("keydown",function(e){(0,s.default)(e.keyCode,["enter"])&&t.toggle(e)}),this.throttledResize=(0,o.throttle)(20,this.resize.bind(this)),this.info.classList.contains("media-info__expanded")&&this.toggle(),null!==this.view.parent&&this.view.parent.classList.add("has-media-info")}},{key:"toggle",value:function(e){e&&e.preventDefault(),this.infoRevealed=!this.infoRevealed,this.info.style.maxHeight=this.infoRevealed?this.info.scrollHeight+"px":null,this.button.setAttribute("aria-expanded",this.infoRevealed),this.button.label.innerHTML=this.infoRevealed?this.button.closeLabel:this.button.openLabel,this.info.setAttribute("aria-hidden",!this.infoRevealed),this.infoRevealed&&(this.button.classList.remove("hsbc-info"),this.button.classList.add("hsbc-information-close"),window.addEventListener("resize",this.throttledResize)),this.infoRevealed||(this.button.classList.remove("hsbc-information-close"),this.button.classList.add("hsbc-info"),window.removeEventListener("resize",this.throttledResize))}},{key:"resize",value:function(){this.infoRevealed&&(this.info.style.maxHeight=this.info.scrollHeight+"px")}}]),e}();t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=n(257),u=i(l),c=n(4),h=i(c),d=function(){function e(){r(this,e),this.isActivated=!1,this.steps=null,this.stepManager=null,this.eventData={},this.bound={}}return o(e,[{key:"activate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.trackingPageUrl,r=n.trackingPageGuid;this.isActivated||e&&(this.view=e,this.stepManager=new u.default,this.stepManager.activate(this.view),this.stepManager.steps&&(this.steps=this.stepManager.steps,this.ariaNotification=e.querySelector(".rating__aria"),this.bound.like=this.like.bind(this),this.bound.dislike=this.dislike.bind(this),this.bound.reason=this.reason.bind(this),this.bound.reset=this.reset.bind(this),this.yesButton=this.steps[0].querySelector('.rating__button[value="yes"]'),this.noButton=this.steps[0].querySelector('.rating__button[value="no"]'),[].concat(a(e.querySelectorAll(".rating__close"))).forEach(function(e){return e.addEventListener("click",t.bound.reset)}),this.yesButton.addEventListener("click",this.bound.like),this.noButton.addEventListener("click",this.bound.dislike),[].concat(a(this.steps[1].querySelectorAll(".rating__button"))).forEach(function(e){return e.addEventListener("click",t.bound.reason)}),this.eventData={event_action:"Rating",event_category:"content",event_type:"click",page_name:utag_data.page_name,page_name_en:utag_data.page_name},i&&(this.eventData.page_url=i),r&&(this.page_guid=r),this.isActivated=!0))}},{key:"like",value:function(e){e.preventDefault(),this.stepManager.goto(this.steps.length-1),this.setAriaNotification(),this.trackEvent(this.yesButton.dataset.event,null)}},{key:"dislike",value:function(e){e.preventDefault(),this.stepManager.next(),this.setAriaNotification(),this.trackEvent(this.noButton.dataset.event,null),this.steps[1].querySelector(".rating__button").focus()}},{key:"reason",value:function(e){e.preventDefault(),this.stepManager.next(),this.setAriaNotification(),this.trackEvent(e.target.dataset.event,e.target.getAttribute("value"))}},{key:"trackEvent",value:function(e,t){h.default.trackEvent(s({},this.eventData,{event_content:e},t?{event_subcategory:t}:{}))}},{key:"reset",value:function(e){e.preventDefault(),this.stepManager.goto(0)}},{key:"setAriaNotification",value:function(){var e=this.stepManager.getCurrentStep().querySelector(".rating__text");this.ariaNotification.textContent=e?e.textContent:""}},{key:"deactivate",value:function(){this.isActivated&&(this.steps=null,this.stepManager=null,this.eventData={},this.bound={},this.isActivated=!1)}}]),e}();t.default=d},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(){a(this,e),this.isActivated=!1,this.view=null,this.steps=[],this.current=-1}return r(e,[{key:"activate",value:function(e){this.isActivated||e&&(this.view=e,this.steps=[].concat(i(this.view.querySelectorAll("[data-step]"))),this.steps&&(this.current=this.steps.reduce(function(e,t,n){return"current"===t.getAttribute("data-step")?n:e},0),this.steps.filter(this.isNotCurrent.bind(this)).forEach(function(e){return e.setAttribute("aria-hidden","true")}),this.isActivated=!0))}},{key:"deactivate",value:function(){this.isActivated&&(this.steps.forEach(function(e){return e.removeAttribute("aria-hidden")}),this.steps=[],this.current=-1,this.isActivated=!1)}},{key:"removeCurrent",value:function(e){if(e)return e.setAttribute("data-step",""),e.setAttribute("aria-hidden","true"),e}},{key:"addCurrent",value:function(e){if(e)return e.setAttribute("data-step","current"),e.removeAttribute("aria-hidden"),e}},{key:"isNotCurrent",value:function(e){return!this.isCurrent(e)}},{key:"isCurrent",value:function(e){if(e)return"current"===e.getAttribute("data-step")}},{key:"getCurrentStep",value:function(){return this.steps[this.current]||this.steps[0]}},{key:"next",value:function(){var e=this.current+1;return e>this.steps.length-1?this.current:(this.steps.filter(this.isCurrent).map(this.removeCurrent),this.steps.filter(function(t,n){return n===e}).map(this.addCurrent),this.current=e)}},{key:"previous",value:function(){var e=this.current-1;return e<0?this.current:(this.steps.filter(this.isCurrent).map(this.removeCurrent),this.steps.filter(function(t,n){return n===e}).map(this.addCurrent),this.current=e)}},{key:"goto",value:function(e){var t=this.steps.filter(function(t,n){return n===e});if(!(t.length<1))return this.steps.filter(this.isCurrent).map(this.removeCurrent),t.map(this.addCurrent),this.current=e}}]),e}();t.default=s},function(e,t,n){"use strict";var i=n(259),a=function(e){return e&&e.__esModule?e:{default:e}}(i);window.SearchResults=a.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(5),o=i(s),l=n(102),u=i(l),c=n(64),h=i(c),d=n(67),f=i(d),p=n(13),v=i(p),m=n(10),g=i(m),y=n(4),b=i(y),w=n(12),k=i(w),_=function(){function e(t){a(this,e),this.repository=t||new u.default,this.urlUtil=new v.default}return r(e,[{key:"activate",value:function(e){var t=this;this.view=e,this.dataContainer=this.view.querySelector(".search-results__results"),this.noResultsText=this.view.getAttribute("data-no-results-text"),this.paginationContainer=this.view.querySelector(".search-results__pagination");var n=this.paginationContainer.dataset;!1!==this.urlUtil.validateQueryParameters(n)&&(this.initPagination(n),this.paginationContainer.style.display=parseInt(n.totalCount,10)>0?"":"none",this.filterView=this.view.querySelector(".filter-module"),this.filter=new h.default(function(e){t.applyFilter(e)}),this.filter.activate(this.filterView),this.filterState=this.filter.getState(),this.term=this.urlUtil.getParameterByName("q")||"",this.bindOnTermChangeEvent(),this.announcer=new k.default(this.view,"assertive"),setTimeout(function(){return t.announcer.announce(t.pagination.getDisplayedNumbersOfItemsAria())},1e3))}},{key:"bindOnTermChangeEvent",value:function(){var e=this;document.addEventListener("search.onTermChanged",function(t){e.onTermChanged(t.detail.term)})}},{key:"initPagination",value:function(e){var t=this;void 0===this.paginationTemplate&&(this.paginationTemplate=Handlebars.templates["pagination-template"]),this.paginationContainer.insertAdjacentHTML("beforeend",this.paginationTemplate(e)),this.pagination=new f.default(function(e){t.changePage(e)},function(e){t.changeDisplayedItemsCount(e)}),this.pagination.activate(this.paginationContainer.querySelector(".pagination-module"),e),this.pagination.update(e.totalCount,e.page,e.take)}},{key:"appendSearchResultItem",value:function(e){this.dataContainer.insertAdjacentHTML("beforeend",this.searchTemplate(e))}},{key:"displaySearchResults",value:function(e,t,n,i){var a=this;void 0===this.searchTemplate&&(this.searchTemplate=Handlebars.templates["search-results-item-template"]);var r={site:e.site,order:e.order,contentType:e.contentType,page:t,take:n};this.repository.getResults(this.term,r).then(function(r){a.setSearchResults(r,e,t,n,i)}).catch(function(e){})}},{key:"setSearchResults",value:function(e,t,n,i,a){var r=this;if(0===e.items.length)this.dataContainer.innerHTML='<div class="h2" role="alert" aria-atomic="true">'+this.noResultsText+"</div>",this.paginationContainer.style.display="none",this.filter.updateDisplayedNumbersOfItems();else{this.dataContainer.innerHTML="",e.items.forEach(function(e){r.appendSearchResultItem(e)}),this.updatePagination(e.totalCount,n,i),this.filter.updateDisplayedNumbersOfItems(this.pagination.getDisplayedNumbersOfItems());var s=this.dataContainer.querySelector(".search-result__title a");s&&s.focus()}var l={q:this.term,site:t.site,order:t.order,page:n,take:i};this.updateUrl(l,history,t);var u=new o.default("search.resetSearchTerm");document.dispatchEvent(u),0!==e.items.length&&a&&g.default.scrollTo(this.filterView,this.view.querySelector(".search-results__results-before"));var c={event_action:"search",event_category:"content",event_type:"click",search_term:this.term,search_results:e.totalCount,search_scope:"Search within "+this.filter.getNameByValue("site",t.site)+"|Sort by "+this.filter.getNameByValue("order",t.order)};b.default.trackEvent(c)}},{key:"updateUrl",value:function(e,t,n){for(var i in e)t.replaceState(n,"",this.urlUtil.setParameterByName(i,e[i]))}},{key:"updatePagination",value:function(e,t,n){this.pagination.update(e,t,n),this.paginationContainer.style.display=""}},{key:"applyFilter",value:function(e){this.filterState=e,this.displaySearchResults(this.filterState,1,this.pagination.itemsPerPage)}},{key:"changePage",value:function(e){this.displaySearchResults(this.filterState,e,this.pagination.itemsPerPage,!0)}},{key:"changeDisplayedItemsCount",value:function(e){this.displaySearchResults(this.filterState,1,e,!0)}},{key:"onTermChanged",value:function(e){this.term=e,this.displaySearchResults(this.filterState,1,this.pagination.itemsPerPage)}}]),e}();t.default=_},function(e,t,n){"use strict";var i=n(261),a=function(e){return e&&e.__esModule?e:{default:e}}(i);window.SocialShareBar=a.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(7),l=i(o),u=n(2),c=i(u),h=n(6),d=i(h),f=n(0),p=n(4),v=i(p),m=function(){function e(){r(this,e),this.isActivated=!1,this.isOpen=!1,this.socialLinks=[],this.modal=null,this.openButton=null,this.openButtonPosition=null,this.closeButton=null,this.modalTitle=null,this.bound={},this.focusableElements=[];var t=this;this.linkKeypress=function(e){var n=t.socialLinks.indexOf(this);if((0,l.default)(e.keyCode,["up-arrow"])){e.preventDefault();var i=n-1;i>-1?t.socialLinks[i].focus():t.modalTitle.focus()}if((0,l.default)(e.keyCode,["down-arrow"])){e.preventDefault();var a=n+1;a<t.socialLinks.length&&t.socialLinks[a].focus()}(0,l.default)(e.keyCode,["right-arrow"])&&t.closeButton.focus()},this.linkClick=function(e){var t=e.currentTarget.querySelector(".social-channels__name").innerText,n={event_action:t,event_category:"social",event_type:"click"};v.default.trackEvent(n)},this.pinnedLinkClick=function(e){var t="";null!==e.currentTarget.querySelector(".hsbc-print")&&(t="print"),null!==e.currentTarget.querySelector(".hsbc-rss")&&(t="rss");var n={event_action:t,event_category:"social",event_type:"click"};v.default.trackEvent(n)}}return s(e,[{key:"open",value:function(){this.reposition(),this.modal.classList.add("social-channels--open"),this.openButton.setAttribute("aria-expanded",!0),this.isOpen=!0,d.default.popups&&(d.default.hideAllBut("popups"),d.default.restrictFocus("#pop-ups",this.modalTitle),d.default.clickOutsideAndClose(this,".social-channels"),d.default.closeOnEscapeKeydown(this)),v.default.trackEvent({event_action:"share",event_category:"social-share",event_type:"click"}),this.modalTitle.focus()}},{key:"close",value:function(){this.modal.classList.remove("social-channels--open"),this.openButton.setAttribute("aria-expanded",!1),this.openButton.focus(),this.isOpen=!1,d.default.popups&&(d.default.showAllBut("popups"),d.default.allowFocus(),d.default.removeClickOutsideAndClose(),d.default.removeCloseOnEscapeKeydown())}},{key:"openButtonClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.open(),document.addEventListener("click",this.bound.windowClick)}},{key:"closeButtonClick",value:function(e){this.close(),document.removeEventListener("click",this.bound.windowClick)}},{key:"openButtonKeypress",value:function(e){(0,l.default)(e.keyCode,["enter","spacebar"])&&(e.preventDefault(),this.open()),(0,l.default)(e.keyCode,["tab"])&&this.isOpen&&this.modalTitle.focus()}},{key:"closeButtonKeypress",value:function(e){(0,l.default)(e.keyCode,["enter","spacebar"])&&(e.preventDefault(),this.close()),(0,l.default)(e.keyCode,["tab"])&&!e.shiftKey&&(e.preventDefault(),this.modalTitle.focus()),(0,l.default)(e.keyCode,["left-arrow"])&&this.modalTitle.focus()}},{key:"titleKeypress",value:function(e){(0,l.default)(e.keyCode,["tab"])&&e.shiftKey&&(e.preventDefault(),this.closeButton.focus()),(0,l.default)(e.keyCode,["down-arrow"])&&(e.preventDefault(),this.socialLinks[0].focus()),(0,l.default)(e.keyCode,["up-arrow"])&&e.preventDefault(),(0,l.default)(e.keyCode,["right-arrow"])&&this.closeButton.focus()}},{key:"reposition",value:function(){if(!c.default.medium.matches)return void(0,f.resetStyle)(this.modal);var e=this.openButton.getBoundingClientRect(),t=window.pageXOffset||document.documentElement.scrollLeft,n=window.pageYOffset||document.documentElement.scrollTop;this.openButtonPosition={top:e.top+n,left:e.left+t},this.modal.style.top=this.openButtonPosition.top+this.openButton.scrollHeight+"px";var i=this.openButtonPosition.left;c.default.extraLarge.matches&&(i-=35);i+280>window.innerWidth?(this.modal.style.right="0px",this.modal.style.left=""):(this.modal.style.left=i+"px",this.modal.style.right="")}},{key:"activate",value:function(e){var t=this;this.isActivated||e&&(this.modal=e.querySelector(".social-channels"),this.modal&&(this.modalTitle=e.querySelector(".social-channels__title"),this.modalTitle&&(this.focusableElements.push(this.modalTitle),this.openButton=e.querySelector(".social-channels__open"),this.openButton&&(this.closeButton=e.querySelector(".social-channels__close"),this.closeButton&&(this.focusableElements.push(this.closeButton),this.socialLinks=[].concat(a(e.querySelectorAll(".social-channels__link"))),this.pinnedSocialLinks=[].concat(a(e.querySelectorAll(".social-pinned__item"))),this.socialLinks&&(this.modalTitle.setAttribute("tabindex","0"),this.bound.openButtonClick=this.openButtonClick.bind(this),this.bound.closeButtonClick=this.closeButtonClick.bind(this),this.bound.openButtonKeypress=this.openButtonKeypress.bind(this),this.bound.closeButtonKeypress=this.closeButtonKeypress.bind(this),this.bound.titleKeypress=this.titleKeypress.bind(this),this.openButton.addEventListener("click",this.bound.openButtonClick),this.closeButton.addEventListener("click",this.bound.closeButtonClick),this.openButton.addEventListener("keydown",this.bound.openButtonKeypress),this.closeButton.addEventListener("keydown",this.bound.closeButtonKeypress),this.modalTitle.addEventListener("keydown",this.bound.titleKeypress),this.socialLinks[0].addEventListener("keydown",this.bound.titleKeypress),this.socialLinks.forEach(function(e){e.addEventListener("keydown",t.linkKeypress),e.addEventListener("click",t.linkClick),e.addEventListener("click",t.bound.closeButtonClick),t.focusableElements.push(e)}),this.pinnedSocialLinks.forEach(function(e){e.addEventListener("click",t.pinnedLinkClick)}),d.default.popups&&d.default.popups.appendChild(this.modal),this.bindResizeEvent(),this.isActivated=!0))))))}},{key:"bindResizeEvent",value:function(){var e=this;window.addEventListener("resize",function(){return e.reposition()},!1)}},{key:"deactivate",value:function(){this.isActivated&&(this.modalTitle.removeAttribute("tabindex"),this.openButton.removeEventListener("click",this.bound.openButtonClick),this.closeButton.removeEventListener("click",this.bound.closeButtonClick),this.openButton.removeEventListener("keydown",this.bound.openButtonKeypress),this.closeButton.removeEventListener("keydown",this.bound.closeButtonKeypress),this.modalTitle.removeEventListener("keydown",this.bound.titleKeypress),this.socialLinks[0].removeEventListener("keydown",this.bound.titleKeypress),this.isOpen=!1,this.socialLinks=[],this.modal=null,this.openButton=null,this.closeButton=null,this.modalTitle=null,this.bound={},this.isActivated=!1)}}]),e}();t.default=m},function(e,t,n){"use strict";var i=n(263),a=function(e){return e&&e.__esModule?e:{default:e}}(i);window.FluidSublayout=a.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(2),o=i(s),l=n(89),u=(i(l),n(1)),c=n(264),h=i(c),d=function(e){return document.body.classList.contains("pagemode-edit")?new MutationObserver(function(t){return t.forEach(function(t){return e()})}):null},f=function(e,t){null!=e&&e.observe(t,{childList:!0,subtree:!0})},p=function(e){null!=e&&e.disconnect()},v=function(e){return e.forEach(function(e){e.removeAttribute("data-col"),e.style.top=0,e.style.left=0})},m=function(e){var t=e[0];if(null==t||!t.classList.contains("highlighted"))return 0;var n=t.querySelector("img, .video-player");return null==n?0:-parseInt(n.scrollHeight,10)},g=function(e){var t=e.previousElementSibling;return null!==t&&null!==t.querySelector(".col-sm-12 > .wayfinding.with-solid-background")},y=function(e){var t=e.previousElementSibling;return null!==t&&null!==t.querySelector(".hero-banner .media-info")},b=function(e){var t=e.previousElementSibling;if(null===t)return 0;var n=t.querySelector(".col-sm-12 > .wayfinding.with-solid-background .wayfinding__background"),i=t.querySelector(".col-sm-12 > .wayfinding.with-solid-background .wayfinding__image:not(.wayfinding__image-mobile)");return window.innerWidth<992||null==n||null==i||0===i.scrollHeight?0:i.offsetTop+90+i.scrollHeight-(n.offsetTop+n.clientHeight)},w=function(){function e(){a(this,e),this.view=null,this.content=null,this.container=null,this.numberOfColumns=null,this.columnWithOffset=null,this.columnOffsetValue=null,this.contentBlocks=null,this.fluidSublayoutObserver=null}return r(e,[{key:"activate",value:function(e){if(this.view=e.parentElement,this.container=this.view.querySelector(".fluid-sublayout"),this.content=this.view.querySelector(".fluid-sublayout__content"),!this.container||!this.content)return null;this.numberOfColumns=parseInt(this.view.getAttribute("data-columns")||"2")||2,this.columnWithOffset=parseInt(this.view.getAttribute("data-column-with-offset")||"0")||0,this.columnOffsetValue=parseInt(this.view.getAttribute("data-column-offset-value")||"0")||0,this.contentBlocks=Array.from(this.content.querySelectorAll(".content-block")),this.init()}},{key:"init",value:function(){var e=this;if(this.container.classList.add("fluid-sublayout--enabled"),this.attachEvents(),this.positionContentBlocks(),g(this.view)){var t=this.view.previousElementSibling.querySelector(".col-sm-12 > .wayfinding.with-solid-background .wayfinding__image:not(.wayfinding__image-mobile)");null!==t&&t.addEventListener("load",function(){setTimeout(function(){e.positionContentBlocks()},100)})}}},{key:"attachEvents",value:function(){var e=this;window.addEventListener("resize",(0,u.throttle)(20,this.positionContentBlocks.bind(this))),this.contentBlocks.forEach(function(t){new h.default.ResizeSensor(t,e.positionContentBlocks.bind(e))}),this.fluidSublayoutObserver=d(this.positionContentBlocks.bind(this))}},{key:"positionContentBlocks",value:function(){var e=this;if(v(this.contentBlocks),!o.default.medium.matches)return void(this.content.style.height="auto");var t=m(this.contentBlocks),n=b(this.view);g(this.view)?window.innerWidth>=992?this.view.style.marginTop=-(n+55)+"px":this.view.style.marginTop="-55px":y(this.view)&&window.innerWidth>=992&&(this.view.style.marginTop="-30px"),p(this.fluidSublayoutObserver);var i=function(i){return n&&1==i?n:t&&1==i?t:i==e.columnWithOffset?e.columnOffsetValue:0},a=function(e,t){return Array(t).fill(null).map(function(t,n){var a=e.querySelectorAll('[data-col="'+(n+1)+'"]');if(0===a.length)return i(n+1);var r=a[a.length-1];return r.offsetTop+r.scrollHeight}).reduce(function(e,t,n){return t<e.height?{index:n,height:t}:e},{index:0,height:1/0})};this.contentBlocks.forEach(function(t){var n=a(e.content,e.numberOfColumns),i=n.index+1,r=n.height;t.style.left=1/e.numberOfColumns*(i-1)*100+"%",t.style.top=r+"px",t.setAttribute("data-col",i)}),f(this.fluidSublayoutObserver,this.view),this.content.style.height="auto",this.content.style.height=this.content.scrollHeight+"px"}}]),e}();t.default=w},function(e,t,n){e.exports={ResizeSensor:n(103),ElementQueries:n(265)}},function(e,t,n){var i,a,r;!function(s,o){a=[n(103)],i=o,void 0!==(r="function"==typeof i?i.apply(t,a):i)&&(e.exports=r)}(0,function(t){var n=function(){function e(e){e||(e=document.documentElement);var t=window.getComputedStyle(e,null).fontSize;return parseFloat(t)||16}function i(t,n){var i=n.split(/\d/),a=i[i.length-1];switch(n=parseFloat(n),a){case"px":return n;case"em":return n*e(t);case"rem":return n*e();case"vw":return n*document.documentElement.clientWidth/100;case"vh":return n*document.documentElement.clientHeight/100;case"vmin":case"vmax":var r=document.documentElement.clientWidth/100,s=document.documentElement.clientHeight/100;return n*(0,Math["vmin"===a?"min":"max"])(r,s);default:return n}}function a(e){this.element=e,this.options={};var t,n,a,r,s,o,l,u=0,c=0;this.addOption=function(e){var t=[e.mode,e.property,e.value].join(",");this.options[t]=e};var h=["min-width","min-height","max-width","max-height"];this.call=function(){u=this.element.offsetWidth,c=this.element.offsetHeight,s={};for(t in this.options)this.options.hasOwnProperty(t)&&(n=this.options[t],a=i(this.element,n.value),r="width"==n.property?u:c,l=n.mode+"-"+n.property,o="","min"==n.mode&&r>=a&&(o+=n.value),"max"==n.mode&&r<=a&&(o+=n.value),s[l]||(s[l]=""),o&&-1===(" "+s[l]+" ").indexOf(" "+o+" ")&&(s[l]+=" "+o));for(var e in h)h.hasOwnProperty(e)&&(s[h[e]]?this.element.setAttribute(h[e],s[h[e]].substr(1)):this.element.removeAttribute(h[e]))}}function r(e,n){e.elementQueriesSetupInformation?e.elementQueriesSetupInformation.addOption(n):(e.elementQueriesSetupInformation=new a(e),e.elementQueriesSetupInformation.addOption(n),e.elementQueriesSensor=new t(e,function(){e.elementQueriesSetupInformation.call()})),e.elementQueriesSetupInformation.call(),f&&p.indexOf(e)<0&&p.push(e)}function s(e,t,n,i){void 0===v[t]&&(v[t]={}),void 0===v[t][n]&&(v[t][n]={}),void 0===v[t][n][i]?v[t][n][i]=e:v[t][n][i]+=","+e}function o(){var e;if(document.querySelectorAll&&(e=document.querySelectorAll.bind(document)),e||"undefined"==typeof $$||(e=$$),e||"undefined"==typeof jQuery||(e=jQuery),!e)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return e}function l(){var e=o();for(var t in v)if(v.hasOwnProperty(t))for(var n in v[t])if(v[t].hasOwnProperty(n))for(var i in v[t][n])if(v[t][n].hasOwnProperty(i))for(var a=e(v[t][n][i]),s=0,l=a.length;s<l;s++)r(a[s],{mode:t,property:n,value:i})}function u(e){function n(){var t,n=!1;for(t in i)i.hasOwnProperty(t)&&a[t].minWidth&&e.offsetWidth>a[t].minWidth&&(n=t);if(n||(n=s),o!=n)if(l[n])i[o].style.display="none",i[n].style.display="block",o=n;else{var u=new Image;u.onload=function(){i[n].src=r[n],i[o].style.display="none",i[n].style.display="block",l[n]=!0,o=n},u.src=r[n]}else i[n].src=r[n]}var i=[],a=[],r=[],s=0,o=-1,l=[];for(var u in e.children)if(e.children.hasOwnProperty(u)&&e.children[u].tagName&&"img"===e.children[u].tagName.toLowerCase()){i.push(e.children[u]);var c=e.children[u].getAttribute("min-width")||e.children[u].getAttribute("data-min-width"),h=e.children[u].getAttribute("data-src")||e.children[u].getAttribute("url");r.push(h);var d={minWidth:c};a.push(d),c?e.children[u].style.display="none":(s=i.length-1,e.children[u].style.display="block")}o=s,e.resizeSensor=new t(e,n),n(),f&&p.push(e)}function c(){for(var e=o(),t=e("[data-responsive-image],[responsive-image]"),n=0,i=t.length;n<i;n++)u(t[n])}function h(e){var t,n;for(e=e.replace(/'/g,'"');null!==(t=m.exec(e));)for(n=t[1]+t[3],attrs=t[2];null!==(attrMatch=g.exec(attrs));)s(n,attrMatch[1],attrMatch[2],attrMatch[3])}function d(e){var t="";if(e)if("string"==typeof e)e=e.toLowerCase(),-1===e.indexOf("min-width")&&-1===e.indexOf("max-width")||h(e);else for(var n=0,i=e.length;n<i;n++)1===e[n].type?(t=e[n].selectorText||e[n].cssText,-1!==t.indexOf("min-height")||-1!==t.indexOf("max-height")?h(t):-1===t.indexOf("min-width")&&-1===t.indexOf("max-width")||h(t)):4===e[n].type&&d(e[n].cssRules||e[n].rules)}var f=!1,p=[],v={},m=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,g=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim,y=!1;this.init=function(e){f=void 0!==e&&e;for(var t=0,n=document.styleSheets.length;t<n;t++)try{d(document.styleSheets[t].cssRules||document.styleSheets[t].rules||document.styleSheets[t].cssText)}catch(e){if("SecurityError"!==e.name)throw e}if(!y){var i=document.createElement("style");i.type="text/css",i.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img { width: 100%;}",document.getElementsByTagName("head")[0].appendChild(i),y=!0}l(),c()},this.update=function(e){this.init(e)},this.detach=function(){if(!this.withTracking)throw"withTracking is not enabled. We can not detach elements since we don not store it.Use ElementQueries.withTracking = true; before domready or call ElementQueryes.update(true).";for(var e;e=p.pop();)n.detach(e);p=[]}};n.update=function(e){n.instance.update(e)},n.detach=function(e){e.elementQueriesSetupInformation?(e.elementQueriesSensor.detach(),delete e.elementQueriesSetupInformation,delete e.elementQueriesSensor):e.resizeSensor&&(e.resizeSensor.detach(),delete e.resizeSensor)},n.withTracking=!1,n.init=function(){n.instance||(n.instance=new n),n.instance.init(n.withTracking)};var i=function(e){if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var t=setInterval(function(){/loaded|complete/i.test(document.readyState)&&(e(),clearInterval(t))},10);else window.onload=e};return n.listen=function(){i(n.init)},void 0!==e&&void 0!==e.exports?e.exports=n:(window.ElementQueries=n,n.listen()),n})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var a=n(267),r=i(a),s=n(268),o=i(s),l=n(70),u=i(l);window.TableManager=r.default,window.Tables=o.default,window.TableUtil=u.default,(new u.default).ensureResponsiveTables()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(70),o=i(s),l=n(40),u=(i(l),n(10)),c=i(u),h=n(5),d=i(h),f=function(){function e(){a(this,e)}return r(e,[{key:"activate",value:function(e){var t=this;this.view=e,this.tableUtil=new o.default,this.filterView=this.view.querySelector(".filter-module"),this.filter=new Filter,this.filter.activate(this.filterView,{serverReload:!0}),this.loadMoreButton=this.view.querySelector('[data-loadmore="button"]'),this.loadMoreButton&&(this.loadMoreButton.addEventListener("click",function(){return t.loadMore.apply(t)}),this.disableLoadMoreButton()),this.filter.isAnythingApplied()&&this.tableUtil.scheduleResultsAnnouncements(this.view,this.filter)}},{key:"getHiddenTables",value:function(){return this.view.querySelectorAll('.table-module[style*="display: none"]')}},{key:"disableLoadMoreButton",value:function(e){this.loadMoreButton.style.display=e||0===this.getHiddenTables().length?"none":""}},{key:"loadMore",value:function(){for(var e=this.getHiddenTables(),t=0;t<3&&t<e.length;t++)e[t].style.display="";var n=e.length?e[0].querySelector(".table__container h2"):null;n&&(n.setAttribute("tabindex",-1),c.default.focusWithoutScroll(n)),this.disableLoadMoreButton(),document.dispatchEvent(new d.default("tableManager.onLoadMore"))}}]),e}();t.default=f},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(70),o=i(s),l=n(63),u=i(l),c=n(13),h=i(c),d=n(269),f=i(d),p=n(40),v=(i(p),n(0)),m=n(2),g=i(m),y=n(9),b=function(){function e(){a(this,e),this.tableUtil=new o.default,this.urlUtil=new h.default,this.HEADER_OFFSET_COMPRESSED=71,this.HEADER_OFFSET_FULL=97,this.HEADER_FIRST_COLUMN_LEFT_PADDING=30}return r(e,[{key:"activate",value:function(e,t){if(this.view=e,void 0!==this.view){if(this.paginationContainer=this.view.querySelector(".table__pagination"),this.paginationContainer){var n=this.paginationContainer.dataset;if(!1===this.urlUtil.validateQueryParameters(n))return}this.initFilter(),this.table=t.selector?this.view.querySelector(t.selector):this.view,this.filter&&this.filter.isAnythingApplied()&&this.tableUtil.scheduleResultsAnnouncements(this.view,this.filter),null!==this.table&&(this.toggleSelector=t.toggleSelector||!1,this.toggleOnlyShow=t.toggleOnlyShow||!1,this.toggleDefaultCollapsed=t.toggleDefaultCollapsed||!1,this.toggleLabels=t.toggleLabels||null,this.tableHead=this.table.querySelector("thead"),this.tableCaption=this.table.querySelector("caption"),this.fixedHeader=void 0!==t.fixedHeader&&!1!==t.fixedHeader,this.fixedHeaderPadding=void 0!==t.fixedHeaderPadding?t.fixedHeaderPadding:this.HEADER_FIRST_COLUMN_LEFT_PADDING,this.clickable=t.clickable?{areaSelector:t.clickable.areaSelector||null,triggerSelector:t.clickable.triggerSelector||null,exceptSelector:t.clickable.exceptSelector||null}:null,this.initTable(),this.initToggle(),this.clickable&&this.initClickable())}}},{key:"initTable",value:function(){var e=this;this.table.classList.add("dataTable"),this.ensureResponsiveTable(),this.initFixedHeader(),g.default.large.matches||this.hideTableIntroElements(),g.default.large.addListener(function(){return e.showOrHideTableIntroElements()})}},{key:"showOrHideTableIntroElements",value:function(){g.default.large.matches?this.showTableIntroElements():this.hideTableIntroElements()}},{key:"showTableIntroElements",value:function(){this.tableHead&&this.table.prepend(this.tableHead),this.tableCaption&&this.table.prepend(this.tableCaption),this.initFixedHeader()}},{key:"hideTableIntroElements",value:function(){this.tableHead&&this.tableHead.remove(),this.tableCaption&&this.tableCaption.remove()}},{key:"ensureResponsiveTable",value:function(){var e=this;(0,y.getIOSMajorVersion)()<12&&this.appendFakeTableForScreenReader();var t=this.tableUtil.getColumnHeaders(this.table);this.table.querySelectorAll("tbody tr:not(.tfoot)").forEach(function(n){n.querySelectorAll("td").forEach(function(n,i){e.tableUtil.setResponsiveTableCell(n,t[i]);var a=n.querySelector(".table-cell-mobile"),r=n.querySelector(".table-cell-mobile > .table-toggle-content");a&&r&&((0,v.moveAfter)(r,a),r.setAttribute("role","cell"))})})}},{key:"appendFakeTableForScreenReader",value:function(){var e="Table";this.tableCaption&&this.tableCaption.innerText&&(e=this.tableCaption.innerText);var t="<table><caption>{caption}</caption></table>",n=t.replace("{caption}",e),i=document.createElement("div");i.classList.add("sr-only-max-screen-sm-max"),i.innerHTML=n,this.table.insertAdjacentElement("beforebegin",i)}},{key:"initFixedHeader",value:function(){var e=this;if(this.fixedHeader&&g.default.large.matches&&!this.fixedTableHeader){this.fixedTableHeader=new f.default(this.table),this.fixedTableHeader.headerOffset(this.HEADER_OFFSET_COMPRESSED),this.fixedHeaderPadding&&this.fixedTableHeader.setFirstColumnExtraLeftPadding(this.fixedHeaderPadding);var t=document.querySelector("header.header");if(t&&t.addEventListener("header.compressed",function(t){e.fixedTableHeader.headerOffset(t.detail.isCompressed?e.HEADER_OFFSET_COMPRESSED:e.HEADER_OFFSET_FULL)}),0===this.table.clientHeight){var n=function t(){0!==e.table.clientHeight&&(e.fixedTableHeader.update(),document.removeEventListener("tableManager.onLoadMore",t))};document.addEventListener("tableManager.onLoadMore",n)}}}},{key:"initFilter",value:function(){this.filterView=this.view.querySelector(".filter-module"),null!==this.filterView&&(this.filter=new u.default,this.filter.activate(this.filterView,{serverReload:!0}))}},{key:"initToggle",value:function(){if(this.toggleSelector){var e={toggleSelector:this.toggleSelector,toggleOnlyShow:this.toggleOnlyShow,toggleDefaultCollapsed:this.toggleDefaultCollapsed,toggleLabels:this.toggleLabels};this.tableUtil.initToggle(this.view,e)}}},{key:"initClickable",value:function(){this.tableUtil.initClickable(this.view,this.clickable)}}]),e}();t.default=b},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(46),o=n(1),l=function(){function e(t){var n=this;a(this,e),this.table=t,this.firstColumnExtraLeftPadding=null,this.c={header:!0,footer:!1,headerOffset:0,footerOffset:0},this.s={position:{theadTop:0,tbodyTop:0,tfootTop:0,tfootBottom:0,width:0,left:0,tfootHeight:0,theadHeight:0,windowHeight:window.innerHeight,visible:!0},headerMode:null,footerMode:null,autoWidth:!1,scrollLeft:{header:-1,footer:-1},enable:!0},this.dom={floatingHeader:null,thead:t.querySelector("thead"),tbody:t.querySelector("tbody"),tfoot:t.querySelector("tfoot"),header:{host:t,floating:null,placeholder:null},footer:{host:t,floating:null,placeholder:null}},this.throttledScroll=(0,o.throttle)(20,function(){n.scroll()}),window.addEventListener("scroll",this.throttledScroll),this.throttledResize=(0,o.throttle)(20,function(){n.s.position.windowHeight=window.innerHeight,n.update()}),window.addEventListener("resize",this.throttledResize),this.positions(),this.scroll()}return r(e,[{key:"setFirstColumnExtraLeftPadding",value:function(e){this.firstColumnExtraLeftPadding=void 0===e?null:"number"==typeof e?e+"px":e,this.update()}},{key:"enable",value:function(e){this.s.enable=e,this.c.header&&this.modeChange("in-place","header",!0),this.c.footer&&this.dom.tfoot&&this.modeChange("in-place","footer",!0),this.update()}},{key:"headerOffset",value:function(e){return void 0!==e&&(this.c.headerOffset=e,this.update()),this.c.headerOffset}},{key:"footerOffset",value:function(e){return void 0!==e&&(this.c.footerOffset=e,this.update()),this.c.footerOffset}},{key:"update",value:function(){this.positions(),this.scroll(!0)}},{key:"clone",value:function(e,t){var n=this.dom[e],a="header"===e?this.dom.thead:this.dom.tfoot;if(!t&&n.floating)n.floating.classList.remove("fixedHeader-floating"),n.floating.classList.remove("fixedHeader-locked");else{n.floating&&(n.placeholder.remove(),this.unsize(e),n.floating.remove()),n.floating=this.table.cloneNode(!1),n.floating.setAttribute("aria-hidden","true"),n.floating.removeAttribute("id"),n.floating.appendChild(a),document.body.appendChild(n.floating);var r=document.createElement("table");r.innerHTML=a.outerHTML,n.placeholder=r.firstChild,[].concat(i(n.placeholder.querySelectorAll("*[id]"))).forEach(function(e){e.removeAttribute("id")}),n.host.insertBefore(n.placeholder,n.host.children[0]),this.matchWidths(n.placeholder,n.floating)}}},{key:"matchWidths",value:function(e,t){var n=function(e){try{return window.getComputedStyle(e,null).getPropertyValue("width")}catch(t){return e.currentStyle.width}},a=function(t){return[].concat(i(e.querySelectorAll(t))).map(function(e){return n(e)})},r=function(e,n){[].concat(i(t.querySelectorAll(e))).forEach(function(e,t){e.style.width=n[t],e.style.minWidth=n[t]})},s=a("th"),o=a("td");r("th",s),r("td",o)}},{key:"unsize",value:function(e){var t=this.dom[e].floating;t&&("footer"===e||"header"===e&&!this.s.autoWidth)?([].concat(i(t.querySelectorAll("th"))).forEach(function(e){e.style.width="",e.style.minWidth="",e.style.paddingLeft=""}),[].concat(i(t.querySelectorAll("td"))).forEach(function(e){e.style.width="",e.style.minWidth="",e.style.paddingLeft=""})):t&&"header"===e&&([].concat(i(t.querySelectorAll("th"))).forEach(function(e){e.style.minWidth=""}),[].concat(i(t.querySelectorAll("td"))).forEach(function(e){e.style.minWidth=""}))}},{key:"horizontal",value:function(e,t){var n=this.dom[e],i=(this.s.position,this.s.scrollLeft);n.floating&&i[e]!==t&&(i[e]=t)}},{key:"modeChange",value:function(e,t,n){var i=this.dom[t],a=this.s.position,r=this.dom["footer"===t?"tfoot":"thead"],s=function(e,t){for(;(e=e.parentNode)&&e!==t;);return!!e}(document.activeElement,r[0])?document.activeElement:null;if(s&&s.blur(),"in-place"===e)i.placeholder&&(i.placeholder.remove(),i.placeholder=null),this.unsize(t),"header"===t?i.host.insertBefore(r,i.host.children[0]):i.host.appendChild(r),i.floating&&(i.floating.remove(),i.floating=null);else if("in"===e){this.clone(t,n),i.floating.classList.add("fixedHeader-floating"),"header"===t?i.floating.style.top=this.c[t+"Offset"]+"px":i.floating.style.bottom=this.c[t+"Offset"]+"px",i.floating.style.width=a.width+"px";var o=i.floating.querySelector("tr:first-child > :first-child");o.style.paddingLeft=this.firstColumnExtraLeftPadding?"calc("+a.left+"px + "+this.firstColumnExtraLeftPadding+")":a.left+"px","footer"===t&&(i.floating.style.top="")}else if("below"===e){this.clone(t,n),i.floating.classList.add("fixedHeader-locked"),i.floating.style.top=a.tfootTop-a.theadHeight+"px",i.floating.style.width=a.width+"px";var l=i.floating.querySelector("tr:first-child > :first-child");l.style.paddingLeft=this.firstColumnExtraLeftPadding?"calc("+a.left+"px + "+this.firstColumnExtraLeftPadding+")":a.left+"px"}else"above"===e&&(this.clone(t,n),i.floating.classList.add("fixedHeader-locked"),i.floating.style.top=a.tbodyTop+"px",i.floating.style.left=a.left+"px",i.floating.style.width=a.width+"px");s&&s!==document.activeElement&&setTimeout(function(){s.focus()},10),this.s.scrollLeft.header=-1,this.s.scrollLeft.footer=-1,this.s[t+"Mode"]=e}},{key:"positions",value:function(){var e=this.s.position,t=this.dom,n=this.table.querySelector("thead"),i=this.table.querySelector("tfoot"),a=t.tbody,r=function e(t,n){return t.offsetParent?t[n]+e(t.offsetParent,n):0};e.visible=this.table.offsetWidth>0&&this.table.offsetHeight>0,e.width=this.table.offsetWidth,e.left=r(this.table,"offsetLeft"),e.theadTop=r(n,"offsetTop"),e.tbodyTop=r(a,"offsetTop"),e.theadHeight=e.tbodyTop-e.theadTop,i?(e.tfootTop=r(i,"offsetTop"),e.tfootBottom=e.tfootTop+i.offsetHeight,e.tfootHeight=e.tfootBottom-e.tfootTop):(e.tfootTop=e.tbodyTop+a.offsetHeight,e.tfootBottom=e.tfootTop,e.tfootHeight=e.tfootTop)}},{key:"scroll",value:function(e){var t=document.documentElement.scrollTop,n=document.documentElement.scrollLeft,i=this.s.position,a=void 0,r=void 0;this.s.enable&&!(0,s.isPageFrozen)()&&(this.c.header&&(a=!i.visible||t<=i.theadTop-this.c.headerOffset?"in-place":t<=i.tfootTop-i.theadHeight-this.c.headerOffset?"in":"below",(e||a!==this.s.headerMode)&&this.modeChange(a,"header",e),this.horizontal("header",n)),this.c.footer&&this.dom.tfoot&&(r=!i.visible||t+i.windowHeight>=i.tfootBottom+this.c.footerOffset?"in-place":i.windowHeight+t>i.tbodyTop+i.tfootHeight+this.c.footerOffset?"in":"above",(e||r!==this.s.footerMode)&&this.modeChange(r,"footer",e),this.horizontal("footer",n)))}}]),e}();t.default=l}],[171]);